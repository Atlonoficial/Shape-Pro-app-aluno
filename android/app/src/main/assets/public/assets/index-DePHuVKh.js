var BS=e=>{throw TypeError(e)};var $y=(e,t,r)=>t.has(e)||BS("Cannot "+r);var X=(e,t,r)=>($y(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?BS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ce=(e,t,r,n)=>($y(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yr=(e,t,r)=>($y(e,t,"access private method"),r);var Uh=(e,t,r,n)=>({set _(a){Ce(e,t,a,r)},get _(){return X(e,t,n)}});function TF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ut(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $F(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var dA={exports:{}},qg={},fA={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=Symbol.for("react.element"),MF=Symbol.for("react.portal"),IF=Symbol.for("react.fragment"),RF=Symbol.for("react.strict_mode"),DF=Symbol.for("react.profiler"),LF=Symbol.for("react.provider"),FF=Symbol.for("react.context"),BF=Symbol.for("react.forward_ref"),zF=Symbol.for("react.suspense"),UF=Symbol.for("react.memo"),WF=Symbol.for("react.lazy"),zS=Symbol.iterator;function qF(e){return e===null||typeof e!="object"?null:(e=zS&&e[zS]||e["@@iterator"],typeof e=="function"?e:null)}var hA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA=Object.assign,pA={};function hu(e,t,r){this.props=e,this.context=t,this.refs=pA,this.updater=r||hA}hu.prototype.isReactComponent={};hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gA(){}gA.prototype=hu.prototype;function _1(e,t,r){this.props=e,this.context=t,this.refs=pA,this.updater=r||hA}var S1=_1.prototype=new gA;S1.constructor=_1;mA(S1,hu.prototype);S1.isPureReactComponent=!0;var US=Array.isArray,vA=Object.prototype.hasOwnProperty,N1={current:null},yA={key:!0,ref:!0,__self:!0,__source:!0};function xA(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)vA.call(t,n)&&!yA.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ih,type:e,key:s,ref:o,props:a,_owner:N1.current}}function VF(e,t){return{$$typeof:ih,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function k1(e){return typeof e=="object"&&e!==null&&e.$$typeof===ih}function HF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var WS=/\/+/g;function My(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HF(""+e.key):t.toString(36)}function Mm(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ih:case MF:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+My(o,0):n,US(a)?(r="",e!=null&&(r=e.replace(WS,"$&/")+"/"),Mm(a,t,r,"",function(u){return u})):a!=null&&(k1(a)&&(a=VF(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(WS,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",US(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+My(s,l);o+=Mm(s,t,r,c,a)}else if(c=qF(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+My(s,l++),o+=Mm(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wh(e,t,r){if(e==null)return e;var n=[],a=0;return Mm(e,n,"","",function(s){return t.call(r,s,a++)}),n}function GF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Br={current:null},Im={transition:null},KF={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:Im,ReactCurrentOwner:N1};function bA(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Wh,forEach:function(e,t,r){Wh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Wh(e,function(){t++}),t},toArray:function(e){return Wh(e,function(t){return t})||[]},only:function(e){if(!k1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=hu;ze.Fragment=IF;ze.Profiler=DF;ze.PureComponent=_1;ze.StrictMode=RF;ze.Suspense=zF;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KF;ze.act=bA;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mA({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=N1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)vA.call(t,c)&&!yA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ih,type:e.type,key:a,ref:s,props:n,_owner:o}};ze.createContext=function(e){return e={$$typeof:FF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LF,_context:e},e.Consumer=e};ze.createElement=xA;ze.createFactory=function(e){var t=xA.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:BF,render:e}};ze.isValidElement=k1;ze.lazy=function(e){return{$$typeof:WF,_payload:{_status:-1,_result:e},_init:GF}};ze.memo=function(e,t){return{$$typeof:UF,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=Im.transition;Im.transition={};try{e()}finally{Im.transition=t}};ze.unstable_act=bA;ze.useCallback=function(e,t){return Br.current.useCallback(e,t)};ze.useContext=function(e){return Br.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return Br.current.useDeferredValue(e)};ze.useEffect=function(e,t){return Br.current.useEffect(e,t)};ze.useId=function(){return Br.current.useId()};ze.useImperativeHandle=function(e,t,r){return Br.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return Br.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return Br.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return Br.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return Br.current.useReducer(e,t,r)};ze.useRef=function(e){return Br.current.useRef(e)};ze.useState=function(e){return Br.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return Br.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return Br.current.useTransition()};ze.version="18.3.1";fA.exports=ze;var y=fA.exports;const $=ut(y),E1=TF({__proto__:null,default:$},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YF=y,XF=Symbol.for("react.element"),ZF=Symbol.for("react.fragment"),QF=Object.prototype.hasOwnProperty,JF=YF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e6={key:!0,ref:!0,__self:!0,__source:!0};function wA(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)QF.call(t,n)&&!e6.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:XF,type:e,key:s,ref:o,props:a,_owner:JF.current}}qg.Fragment=ZF;qg.jsx=wA;qg.jsxs=wA;dA.exports=qg;var i=dA.exports,jA={exports:{}},gn={},_A={exports:{}},SA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var W=R.length;R.push(L);e:for(;0<W;){var Z=W-1>>>1,G=R[Z];if(0<a(G,L))R[Z]=L,R[W]=G,W=Z;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],W=R.pop();if(W!==L){R[0]=W;e:for(var Z=0,G=R.length,ee=G>>>1;Z<ee;){var fe=2*(Z+1)-1,U=R[fe],Ne=fe+1,te=R[Ne];if(0>a(U,W))Ne<G&&0>a(te,U)?(R[Z]=te,R[Ne]=W,Z=Ne):(R[Z]=U,R[fe]=W,Z=fe);else if(Ne<G&&0>a(te,W))R[Z]=te,R[Ne]=W,Z=Ne;else break e}}return L}function a(R,L){var W=R.sortIndex-L.sortIndex;return W!==0?W:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=R)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function j(R){if(p=!1,w(R),!g)if(r(c)!==null)g=!0,I(_);else{var L=r(u);L!==null&&B(j,L.startTime-R)}}function _(R,L){g=!1,p&&(p=!1,x(k),k=-1),m=!0;var W=h;try{for(w(L),f=r(c);f!==null&&(!(f.expirationTime>L)||R&&!C());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var G=Z(f.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),w(L)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var fe=r(u);fe!==null&&B(j,fe.startTime-L),ee=!1}return ee}finally{f=null,h=W,m=!1}}var S=!1,N=null,k=-1,E=5,O=-1;function C(){return!(e.unstable_now()-O<E)}function P(){if(N!==null){var R=e.unstable_now();O=R;var L=!0;try{L=N(!0,R)}finally{L?A():(S=!1,N=null)}}else S=!1}var A;if(typeof b=="function")A=function(){b(P)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,M=T.port2;T.port1.onmessage=P,A=function(){M.postMessage(null)}}else A=function(){v(P,0)};function I(R){N=R,S||(S=!0,A())}function B(R,L){k=v(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var W=h;h=L;try{return R()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=h;h=R;try{return L()}finally{h=W}},e.unstable_scheduleCallback=function(R,L,W){var Z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,R={id:d++,callback:L,priorityLevel:R,startTime:W,expirationTime:G,sortIndex:-1},W>Z?(R.sortIndex=W,t(u,R),r(c)===null&&R===r(u)&&(p?(x(k),k=-1):p=!0,B(j,W-Z))):(R.sortIndex=G,t(c,R),g||m||(g=!0,I(_))),R},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(R){var L=h;return function(){var W=h;h=L;try{return R.apply(this,arguments)}finally{h=W}}}})(SA);_A.exports=SA;var t6=_A.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6=y,hn=t6;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NA=new Set,Wd={};function ll(e,t){_c(e,t),_c(e+"Capture",t)}function _c(e,t){for(Wd[e]=t,e=0;e<t.length;e++)NA.add(t[e])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ub=Object.prototype.hasOwnProperty,n6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qS={},VS={};function a6(e){return ub.call(VS,e)?!0:ub.call(qS,e)?!1:n6.test(e)?VS[e]=!0:(qS[e]=!0,!1)}function s6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i6(e,t,r,n){if(t===null||typeof t>"u"||s6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zr(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pr[t]=new zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var P1=/[\-:]([a-z])/g;function C1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P1,C1);pr[t]=new zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P1,C1);pr[t]=new zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P1,C1);pr[t]=new zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new zr(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function O1(e,t,r,n){var a=pr.hasOwnProperty(t)?pr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i6(t,r,a,n)&&(r=null),n||a===null?a6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rs=r6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qh=Symbol.for("react.element"),Ll=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),db=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),EA=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),hb=Symbol.for("react.suspense_list"),$1=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),PA=Symbol.for("react.offscreen"),HS=Symbol.iterator;function Vu(e){return e===null||typeof e!="object"?null:(e=HS&&e[HS]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,Iy;function md(e){if(Iy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iy=t&&t[1]||""}return`
`+Iy+e}var Ry=!1;function Dy(e,t){if(!e||Ry)return"";Ry=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ry=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?md(e):""}function o6(e){switch(e.tag){case 5:return md(e.type);case 16:return md("Lazy");case 13:return md("Suspense");case 19:return md("SuspenseList");case 0:case 2:case 15:return e=Dy(e.type,!1),e;case 11:return e=Dy(e.type.render,!1),e;case 1:return e=Dy(e.type,!0),e;default:return""}}function mb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fl:return"Fragment";case Ll:return"Portal";case db:return"Profiler";case A1:return"StrictMode";case fb:return"Suspense";case hb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EA:return(e.displayName||"Context")+".Consumer";case kA:return(e._context.displayName||"Context")+".Provider";case T1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $1:return t=e.displayName||null,t!==null?t:mb(e.type)||"Memo";case Zs:t=e._payload,e=e._init;try{return mb(e(t))}catch{}}return null}function l6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mb(t);case 8:return t===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c6(e){var t=CA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vh(e){e._valueTracker||(e._valueTracker=c6(e))}function OA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=CA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pb(e,t){var r=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function GS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ti(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AA(e,t){t=t.checked,t!=null&&O1(e,"checked",t,!1)}function gb(e,t){AA(e,t);var r=Ti(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vb(e,t.type,r):t.hasOwnProperty("defaultValue")&&vb(e,t.type,Ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vb(e,t,r){(t!=="number"||Qm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pd=Array.isArray;function Jl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ti(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function yb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function YS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(pd(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ti(r)}}function TA(e,t){var r=Ti(t.value),n=Ti(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function XS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $A(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$A(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hh,MA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hh=Hh||document.createElement("div"),Hh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u6=["Webkit","ms","Moz","O"];Object.keys(jd).forEach(function(e){u6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jd[t]=jd[e]})});function IA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jd.hasOwnProperty(e)&&jd[e]?(""+t).trim():t+"px"}function RA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=IA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var d6=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bb(e,t){if(t){if(d6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function wb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jb=null;function M1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _b=null,ec=null,tc=null;function ZS(e){if(e=ch(e)){if(typeof _b!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Yg(t),_b(e.stateNode,e.type,t))}}function DA(e){ec?tc?tc.push(e):tc=[e]:ec=e}function LA(){if(ec){var e=ec,t=tc;if(tc=ec=null,ZS(e),t)for(e=0;e<t.length;e++)ZS(t[e])}}function FA(e,t){return e(t)}function BA(){}var Ly=!1;function zA(e,t,r){if(Ly)return e(t,r);Ly=!0;try{return FA(e,t,r)}finally{Ly=!1,(ec!==null||tc!==null)&&(BA(),LA())}}function Vd(e,t){var r=e.stateNode;if(r===null)return null;var n=Yg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var Sb=!1;if(Ss)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){Sb=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{Sb=!1}function f6(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var _d=!1,Jm=null,ep=!1,Nb=null,h6={onError:function(e){_d=!0,Jm=e}};function m6(e,t,r,n,a,s,o,l,c){_d=!1,Jm=null,f6.apply(h6,arguments)}function p6(e,t,r,n,a,s,o,l,c){if(m6.apply(this,arguments),_d){if(_d){var u=Jm;_d=!1,Jm=null}else throw Error(ae(198));ep||(ep=!0,Nb=u)}}function cl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function UA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QS(e){if(cl(e)!==e)throw Error(ae(188))}function g6(e){var t=e.alternate;if(!t){if(t=cl(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return QS(a),e;if(s===n)return QS(a),t;s=s.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function WA(e){return e=g6(e),e!==null?qA(e):null}function qA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qA(e);if(t!==null)return t;e=e.sibling}return null}var VA=hn.unstable_scheduleCallback,JS=hn.unstable_cancelCallback,v6=hn.unstable_shouldYield,y6=hn.unstable_requestPaint,Rt=hn.unstable_now,x6=hn.unstable_getCurrentPriorityLevel,I1=hn.unstable_ImmediatePriority,HA=hn.unstable_UserBlockingPriority,tp=hn.unstable_NormalPriority,b6=hn.unstable_LowPriority,GA=hn.unstable_IdlePriority,Vg=null,Fa=null;function w6(e){if(Fa&&typeof Fa.onCommitFiberRoot=="function")try{Fa.onCommitFiberRoot(Vg,e,void 0,(e.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:S6,j6=Math.log,_6=Math.LN2;function S6(e){return e>>>=0,e===0?32:31-(j6(e)/_6|0)|0}var Gh=64,Kh=4194304;function gd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=gd(l):(s&=o,s!==0&&(n=gd(s)))}else o=r&~a,o!==0?n=gd(o):s!==0&&(n=gd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-la(t),a=1<<r,n|=e[r],t&=~a;return n}function N6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-la(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=N6(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function kb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KA(){var e=Gh;return Gh<<=1,!(Gh&4194240)&&(Gh=64),e}function Fy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-la(t),e[t]=r}function E6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-la(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function R1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-la(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var at=0;function YA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XA,D1,ZA,QA,JA,Eb=!1,Yh=[],yi=null,xi=null,bi=null,Hd=new Map,Gd=new Map,ti=[],P6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eN(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Hd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gd.delete(t.pointerId)}}function Gu(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=ch(t),t!==null&&D1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function C6(e,t,r,n,a){switch(t){case"focusin":return yi=Gu(yi,e,t,r,n,a),!0;case"dragenter":return xi=Gu(xi,e,t,r,n,a),!0;case"mouseover":return bi=Gu(bi,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Hd.set(s,Gu(Hd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Gd.set(s,Gu(Gd.get(s)||null,e,t,r,n,a)),!0}return!1}function eT(e){var t=vo(e.target);if(t!==null){var r=cl(t);if(r!==null){if(t=r.tag,t===13){if(t=UA(r),t!==null){e.blockedOn=t,JA(e.priority,function(){ZA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jb=n,r.target.dispatchEvent(n),jb=null}else return t=ch(r),t!==null&&D1(t),e.blockedOn=r,!1;t.shift()}return!0}function tN(e,t,r){Rm(e)&&r.delete(t)}function O6(){Eb=!1,yi!==null&&Rm(yi)&&(yi=null),xi!==null&&Rm(xi)&&(xi=null),bi!==null&&Rm(bi)&&(bi=null),Hd.forEach(tN),Gd.forEach(tN)}function Ku(e,t){e.blockedOn===t&&(e.blockedOn=null,Eb||(Eb=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,O6)))}function Kd(e){function t(a){return Ku(a,e)}if(0<Yh.length){Ku(Yh[0],e);for(var r=1;r<Yh.length;r++){var n=Yh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yi!==null&&Ku(yi,e),xi!==null&&Ku(xi,e),bi!==null&&Ku(bi,e),Hd.forEach(t),Gd.forEach(t),r=0;r<ti.length;r++)n=ti[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ti.length&&(r=ti[0],r.blockedOn===null);)eT(r),r.blockedOn===null&&ti.shift()}var rc=Rs.ReactCurrentBatchConfig,np=!0;function A6(e,t,r,n){var a=at,s=rc.transition;rc.transition=null;try{at=1,L1(e,t,r,n)}finally{at=a,rc.transition=s}}function T6(e,t,r,n){var a=at,s=rc.transition;rc.transition=null;try{at=4,L1(e,t,r,n)}finally{at=a,rc.transition=s}}function L1(e,t,r,n){if(np){var a=Pb(e,t,r,n);if(a===null)Yy(e,t,n,ap,r),eN(e,n);else if(C6(a,e,t,r,n))n.stopPropagation();else if(eN(e,n),t&4&&-1<P6.indexOf(e)){for(;a!==null;){var s=ch(a);if(s!==null&&XA(s),s=Pb(e,t,r,n),s===null&&Yy(e,t,n,ap,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Yy(e,t,n,null,r)}}var ap=null;function Pb(e,t,r,n){if(ap=null,e=M1(n),e=vo(e),e!==null)if(t=cl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=UA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ap=e,null}function tT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x6()){case I1:return 1;case HA:return 4;case tp:case b6:return 16;case GA:return 536870912;default:return 16}default:return 16}}var fi=null,F1=null,Dm=null;function rT(){if(Dm)return Dm;var e,t=F1,r=t.length,n,a="value"in fi?fi.value:fi.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Dm=a.slice(e,1<n?1-n:void 0)}function Lm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xh(){return!0}function rN(){return!1}function vn(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xh:rN,this.isPropagationStopped=rN,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xh)},persist:function(){},isPersistent:Xh}),t}var mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B1=vn(mu),lh=Ct({},mu,{view:0,detail:0}),$6=vn(lh),By,zy,Yu,Hg=Ct({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yu&&(Yu&&e.type==="mousemove"?(By=e.screenX-Yu.screenX,zy=e.screenY-Yu.screenY):zy=By=0,Yu=e),By)},movementY:function(e){return"movementY"in e?e.movementY:zy}}),nN=vn(Hg),M6=Ct({},Hg,{dataTransfer:0}),I6=vn(M6),R6=Ct({},lh,{relatedTarget:0}),Uy=vn(R6),D6=Ct({},mu,{animationName:0,elapsedTime:0,pseudoElement:0}),L6=vn(D6),F6=Ct({},mu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B6=vn(F6),z6=Ct({},mu,{data:0}),aN=vn(z6),U6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=q6[e])?!!t[e]:!1}function z1(){return V6}var H6=Ct({},lh,{key:function(e){if(e.key){var t=U6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(e){return e.type==="keypress"?Lm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G6=vn(H6),K6=Ct({},Hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sN=vn(K6),Y6=Ct({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),X6=vn(Y6),Z6=Ct({},mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q6=vn(Z6),J6=Ct({},Hg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e8=vn(J6),t8=[9,13,27,32],U1=Ss&&"CompositionEvent"in window,Sd=null;Ss&&"documentMode"in document&&(Sd=document.documentMode);var r8=Ss&&"TextEvent"in window&&!Sd,nT=Ss&&(!U1||Sd&&8<Sd&&11>=Sd),iN=" ",oN=!1;function aT(e,t){switch(e){case"keyup":return t8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bl=!1;function n8(e,t){switch(e){case"compositionend":return sT(t);case"keypress":return t.which!==32?null:(oN=!0,iN);case"textInput":return e=t.data,e===iN&&oN?null:e;default:return null}}function a8(e,t){if(Bl)return e==="compositionend"||!U1&&aT(e,t)?(e=rT(),Dm=F1=fi=null,Bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nT&&t.locale!=="ko"?null:t.data;default:return null}}var s8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s8[e.type]:t==="textarea"}function iT(e,t,r,n){DA(n),t=sp(t,"onChange"),0<t.length&&(r=new B1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nd=null,Yd=null;function i8(e){vT(e,0)}function Gg(e){var t=Wl(e);if(OA(t))return e}function o8(e,t){if(e==="change")return t}var oT=!1;if(Ss){var Wy;if(Ss){var qy="oninput"in document;if(!qy){var cN=document.createElement("div");cN.setAttribute("oninput","return;"),qy=typeof cN.oninput=="function"}Wy=qy}else Wy=!1;oT=Wy&&(!document.documentMode||9<document.documentMode)}function uN(){Nd&&(Nd.detachEvent("onpropertychange",lT),Yd=Nd=null)}function lT(e){if(e.propertyName==="value"&&Gg(Yd)){var t=[];iT(t,Yd,e,M1(e)),zA(i8,t)}}function l8(e,t,r){e==="focusin"?(uN(),Nd=t,Yd=r,Nd.attachEvent("onpropertychange",lT)):e==="focusout"&&uN()}function c8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gg(Yd)}function u8(e,t){if(e==="click")return Gg(t)}function d8(e,t){if(e==="input"||e==="change")return Gg(t)}function f8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var da=typeof Object.is=="function"?Object.is:f8;function Xd(e,t){if(da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ub.call(t,a)||!da(e[a],t[a]))return!1}return!0}function dN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fN(e,t){var r=dN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dN(r)}}function cT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uT(){for(var e=window,t=Qm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qm(e.document)}return t}function W1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h8(e){var t=uT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cT(r.ownerDocument.documentElement,r)){if(n!==null&&W1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=fN(r,s);var o=fN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m8=Ss&&"documentMode"in document&&11>=document.documentMode,zl=null,Cb=null,kd=null,Ob=!1;function hN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ob||zl==null||zl!==Qm(n)||(n=zl,"selectionStart"in n&&W1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kd&&Xd(kd,n)||(kd=n,n=sp(Cb,"onSelect"),0<n.length&&(t=new B1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zl)))}function Zh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ul={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},Vy={},dT={};Ss&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Kg(e){if(Vy[e])return Vy[e];if(!Ul[e])return e;var t=Ul[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dT)return Vy[e]=t[r];return e}var fT=Kg("animationend"),hT=Kg("animationiteration"),mT=Kg("animationstart"),pT=Kg("transitionend"),gT=new Map,mN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){gT.set(e,t),ll(t,[e])}for(var Hy=0;Hy<mN.length;Hy++){var Gy=mN[Hy],p8=Gy.toLowerCase(),g8=Gy[0].toUpperCase()+Gy.slice(1);Wi(p8,"on"+g8)}Wi(fT,"onAnimationEnd");Wi(hT,"onAnimationIteration");Wi(mT,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(pT,"onTransitionEnd");_c("onMouseEnter",["mouseout","mouseover"]);_c("onMouseLeave",["mouseout","mouseover"]);_c("onPointerEnter",["pointerout","pointerover"]);_c("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v8=new Set("cancel close invalid load scroll toggle".split(" ").concat(vd));function pN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,p6(n,t,void 0,e),e.currentTarget=null}function vT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;pN(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;pN(a,l,u),s=c}}}if(ep)throw e=Nb,ep=!1,Nb=null,e}function xt(e,t){var r=t[Ib];r===void 0&&(r=t[Ib]=new Set);var n=e+"__bubble";r.has(n)||(yT(t,e,2,!1),r.add(n))}function Ky(e,t,r){var n=0;t&&(n|=4),yT(r,e,n,t)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Qh]){e[Qh]=!0,NA.forEach(function(r){r!=="selectionchange"&&(v8.has(r)||Ky(r,!1,e),Ky(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qh]||(t[Qh]=!0,Ky("selectionchange",!1,t))}}function yT(e,t,r,n){switch(tT(t)){case 1:var a=A6;break;case 4:a=T6;break;default:a=L1}r=a.bind(null,t,r,e),a=void 0,!Sb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Yy(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=vo(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}zA(function(){var u=s,d=M1(r),f=[];e:{var h=gT.get(e);if(h!==void 0){var m=B1,g=e;switch(e){case"keypress":if(Lm(r)===0)break e;case"keydown":case"keyup":m=G6;break;case"focusin":g="focus",m=Uy;break;case"focusout":g="blur",m=Uy;break;case"beforeblur":case"afterblur":m=Uy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=I6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=X6;break;case fT:case hT:case mT:m=L6;break;case pT:m=Q6;break;case"scroll":m=$6;break;case"wheel":m=e8;break;case"copy":case"cut":case"paste":m=B6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=sN}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=Vd(b,x),j!=null&&p.push(Qd(b,j,w)))),v)break;b=b.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==jb&&(g=r.relatedTarget||r.fromElement)&&(vo(g)||g[Ns]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?vo(g):null,g!==null&&(v=cl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=nN,j="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=sN,j="onPointerLeave",x="onPointerEnter",b="pointer"),v=m==null?h:Wl(m),w=g==null?h:Wl(g),h=new p(j,b+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,vo(d)===u&&(p=new p(x,b+"enter",g,r,d),p.target=w,p.relatedTarget=v,j=p),v=j,m&&g)t:{for(p=m,x=g,b=0,w=p;w;w=xl(w))b++;for(w=0,j=x;j;j=xl(j))w++;for(;0<b-w;)p=xl(p),b--;for(;0<w-b;)x=xl(x),w--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=xl(p),x=xl(x)}p=null}else p=null;m!==null&&gN(f,h,m,p,!1),g!==null&&v!==null&&gN(f,v,g,p,!0)}}e:{if(h=u?Wl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=o8;else if(lN(h))if(oT)_=d8;else{_=c8;var S=l8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=u8);if(_&&(_=_(e,u))){iT(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&vb(h,"number",h.value)}switch(S=u?Wl(u):window,e){case"focusin":(lN(S)||S.contentEditable==="true")&&(zl=S,Cb=u,kd=null);break;case"focusout":kd=Cb=zl=null;break;case"mousedown":Ob=!0;break;case"contextmenu":case"mouseup":case"dragend":Ob=!1,hN(f,r,d);break;case"selectionchange":if(m8)break;case"keydown":case"keyup":hN(f,r,d)}var N;if(U1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bl?aT(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(nT&&r.locale!=="ko"&&(Bl||k!=="onCompositionStart"?k==="onCompositionEnd"&&Bl&&(N=rT()):(fi=d,F1="value"in fi?fi.value:fi.textContent,Bl=!0)),S=sp(u,k),0<S.length&&(k=new aN(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=sT(r),N!==null&&(k.data=N)))),(N=r8?n8(e,r):a8(e,r))&&(u=sp(u,"onBeforeInput"),0<u.length&&(d=new aN("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}vT(f,t)})}function Qd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Vd(e,r),s!=null&&n.unshift(Qd(e,s,a)),s=Vd(e,t),s!=null&&n.push(Qd(e,s,a))),e=e.return}return n}function xl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gN(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Vd(r,s),c!=null&&o.unshift(Qd(r,c,l))):a||(c=Vd(r,s),c!=null&&o.push(Qd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var y8=/\r\n?/g,x8=/\u0000|\uFFFD/g;function vN(e){return(typeof e=="string"?e:""+e).replace(y8,`
`).replace(x8,"")}function Jh(e,t,r){if(t=vN(t),vN(e)!==t&&r)throw Error(ae(425))}function ip(){}var Ab=null,Tb=null;function $b(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mb=typeof setTimeout=="function"?setTimeout:void 0,b8=typeof clearTimeout=="function"?clearTimeout:void 0,yN=typeof Promise=="function"?Promise:void 0,w8=typeof queueMicrotask=="function"?queueMicrotask:typeof yN<"u"?function(e){return yN.resolve(null).then(e).catch(j8)}:Mb;function j8(e){setTimeout(function(){throw e})}function Xy(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Kd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Kd(t)}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pu=Math.random().toString(36).slice(2),Ta="__reactFiber$"+pu,Jd="__reactProps$"+pu,Ns="__reactContainer$"+pu,Ib="__reactEvents$"+pu,_8="__reactListeners$"+pu,S8="__reactHandles$"+pu;function vo(e){var t=e[Ta];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ns]||r[Ta]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xN(e);e!==null;){if(r=e[Ta])return r;e=xN(e)}return t}e=r,r=e.parentNode}return null}function ch(e){return e=e[Ta]||e[Ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Yg(e){return e[Jd]||null}var Rb=[],ql=-1;function qi(e){return{current:e}}function jt(e){0>ql||(e.current=Rb[ql],Rb[ql]=null,ql--)}function vt(e,t){ql++,Rb[ql]=e.current,e.current=t}var $i={},Er=qi($i),Qr=qi(!1),Uo=$i;function Sc(e,t){var r=e.type.contextTypes;if(!r)return $i;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Jr(e){return e=e.childContextTypes,e!=null}function op(){jt(Qr),jt(Er)}function bN(e,t,r){if(Er.current!==$i)throw Error(ae(168));vt(Er,t),vt(Qr,r)}function xT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,l6(e)||"Unknown",a));return Ct({},r,n)}function lp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$i,Uo=Er.current,vt(Er,e),vt(Qr,Qr.current),!0}function wN(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=xT(e,t,Uo),n.__reactInternalMemoizedMergedChildContext=e,jt(Qr),jt(Er),vt(Er,e)):jt(Qr),vt(Qr,r)}var cs=null,Xg=!1,Zy=!1;function bT(e){cs===null?cs=[e]:cs.push(e)}function N8(e){Xg=!0,bT(e)}function Vi(){if(!Zy&&cs!==null){Zy=!0;var e=0,t=at;try{var r=cs;for(at=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}cs=null,Xg=!1}catch(a){throw cs!==null&&(cs=cs.slice(e+1)),VA(I1,Vi),a}finally{at=t,Zy=!1}}return null}var Vl=[],Hl=0,cp=null,up=0,jn=[],_n=0,Wo=null,ds=1,fs="";function oo(e,t){Vl[Hl++]=up,Vl[Hl++]=cp,cp=e,up=t}function wT(e,t,r){jn[_n++]=ds,jn[_n++]=fs,jn[_n++]=Wo,Wo=e;var n=ds;e=fs;var a=32-la(n)-1;n&=~(1<<a),r+=1;var s=32-la(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,ds=1<<32-la(t)+a|r<<a|n,fs=s+e}else ds=1<<s|r<<a|n,fs=e}function q1(e){e.return!==null&&(oo(e,1),wT(e,1,0))}function V1(e){for(;e===cp;)cp=Vl[--Hl],Vl[Hl]=null,up=Vl[--Hl],Vl[Hl]=null;for(;e===Wo;)Wo=jn[--_n],jn[_n]=null,fs=jn[--_n],jn[_n]=null,ds=jn[--_n],jn[_n]=null}var dn=null,un=null,Nt=!1,ra=null;function jT(e,t){var r=Sn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,un=wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wo!==null?{id:ds,overflow:fs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dn=e,un=null,!0):!1;default:return!1}}function Db(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lb(e){if(Nt){var t=un;if(t){var r=t;if(!jN(e,t)){if(Db(e))throw Error(ae(418));t=wi(r.nextSibling);var n=dn;t&&jN(e,t)?jT(n,r):(e.flags=e.flags&-4097|2,Nt=!1,dn=e)}}else{if(Db(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Nt=!1,dn=e}}}function _N(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function em(e){if(e!==dn)return!1;if(!Nt)return _N(e),Nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$b(e.type,e.memoizedProps)),t&&(t=un)){if(Db(e))throw _T(),Error(ae(418));for(;t;)jT(e,t),t=wi(t.nextSibling)}if(_N(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){un=wi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}un=null}}else un=dn?wi(e.stateNode.nextSibling):null;return!0}function _T(){for(var e=un;e;)e=wi(e.nextSibling)}function Nc(){un=dn=null,Nt=!1}function H1(e){ra===null?ra=[e]:ra.push(e)}var k8=Rs.ReactCurrentBatchConfig;function Xu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function tm(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function SN(e){var t=e._init;return t(e._payload)}function ST(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=Ni(x,b),x.index=0,x.sibling=null,x}function s(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,j){return b===null||b.tag!==6?(b=ax(w,x.mode,j),b.return=x,b):(b=a(b,w),b.return=x,b)}function c(x,b,w,j){var _=w.type;return _===Fl?d(x,b,w.props.children,j,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zs&&SN(_)===b.type)?(j=a(b,w.props),j.ref=Xu(x,b,w),j.return=x,j):(j=Vm(w.type,w.key,w.props,null,x.mode,j),j.ref=Xu(x,b,w),j.return=x,j)}function u(x,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=sx(w,x.mode,j),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function d(x,b,w,j,_){return b===null||b.tag!==7?(b=$o(w,x.mode,j,_),b.return=x,b):(b=a(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ax(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qh:return w=Vm(b.type,b.key,b.props,null,x.mode,w),w.ref=Xu(x,null,b),w.return=x,w;case Ll:return b=sx(b,x.mode,w),b.return=x,b;case Zs:var j=b._init;return f(x,j(b._payload),w)}if(pd(b)||Vu(b))return b=$o(b,x.mode,w,null),b.return=x,b;tm(x,b)}return null}function h(x,b,w,j){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(x,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qh:return w.key===_?c(x,b,w,j):null;case Ll:return w.key===_?u(x,b,w,j):null;case Zs:return _=w._init,h(x,b,_(w._payload),j)}if(pd(w)||Vu(w))return _!==null?null:d(x,b,w,j,null);tm(x,w)}return null}function m(x,b,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(b,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qh:return x=x.get(j.key===null?w:j.key)||null,c(b,x,j,_);case Ll:return x=x.get(j.key===null?w:j.key)||null,u(b,x,j,_);case Zs:var S=j._init;return m(x,b,w,S(j._payload),_)}if(pd(j)||Vu(j))return x=x.get(w)||null,d(b,x,j,_,null);tm(b,j)}return null}function g(x,b,w,j){for(var _=null,S=null,N=b,k=b=0,E=null;N!==null&&k<w.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var O=h(x,N,w[k],j);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(x,N),b=s(O,b,k),S===null?_=O:S.sibling=O,S=O,N=E}if(k===w.length)return r(x,N),Nt&&oo(x,k),_;if(N===null){for(;k<w.length;k++)N=f(x,w[k],j),N!==null&&(b=s(N,b,k),S===null?_=N:S.sibling=N,S=N);return Nt&&oo(x,k),_}for(N=n(x,N);k<w.length;k++)E=m(N,x,k,w[k],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),b=s(E,b,k),S===null?_=E:S.sibling=E,S=E);return e&&N.forEach(function(C){return t(x,C)}),Nt&&oo(x,k),_}function p(x,b,w,j){var _=Vu(w);if(typeof _!="function")throw Error(ae(150));if(w=_.call(w),w==null)throw Error(ae(151));for(var S=_=null,N=b,k=b=0,E=null,O=w.next();N!==null&&!O.done;k++,O=w.next()){N.index>k?(E=N,N=null):E=N.sibling;var C=h(x,N,O.value,j);if(C===null){N===null&&(N=E);break}e&&N&&C.alternate===null&&t(x,N),b=s(C,b,k),S===null?_=C:S.sibling=C,S=C,N=E}if(O.done)return r(x,N),Nt&&oo(x,k),_;if(N===null){for(;!O.done;k++,O=w.next())O=f(x,O.value,j),O!==null&&(b=s(O,b,k),S===null?_=O:S.sibling=O,S=O);return Nt&&oo(x,k),_}for(N=n(x,N);!O.done;k++,O=w.next())O=m(N,x,k,O.value,j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?k:O.key),b=s(O,b,k),S===null?_=O:S.sibling=O,S=O);return e&&N.forEach(function(P){return t(x,P)}),Nt&&oo(x,k),_}function v(x,b,w,j){if(typeof w=="object"&&w!==null&&w.type===Fl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qh:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===Fl){if(S.tag===7){r(x,S.sibling),b=a(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zs&&SN(_)===S.type){r(x,S.sibling),b=a(S,w.props),b.ref=Xu(x,S,w),b.return=x,x=b;break e}r(x,S);break}else t(x,S);S=S.sibling}w.type===Fl?(b=$o(w.props.children,x.mode,j,w.key),b.return=x,x=b):(j=Vm(w.type,w.key,w.props,null,x.mode,j),j.ref=Xu(x,b,w),j.return=x,x=j)}return o(x);case Ll:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=sx(w,x.mode,j),b.return=x,x=b}return o(x);case Zs:return S=w._init,v(x,b,S(w._payload),j)}if(pd(w))return g(x,b,w,j);if(Vu(w))return p(x,b,w,j);tm(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,w),b.return=x,x=b):(r(x,b),b=ax(w,x.mode,j),b.return=x,x=b),o(x)):r(x,b)}return v}var kc=ST(!0),NT=ST(!1),dp=qi(null),fp=null,Gl=null,G1=null;function K1(){G1=Gl=fp=null}function Y1(e){var t=dp.current;jt(dp),e._currentValue=t}function Fb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nc(e,t){fp=e,G1=Gl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yr=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(G1!==e)if(e={context:e,memoizedValue:t,next:null},Gl===null){if(fp===null)throw Error(ae(308));Gl=e,fp.dependencies={lanes:0,firstContext:e}}else Gl=Gl.next=e;return t}var yo=null;function X1(e){yo===null?yo=[e]:yo.push(e)}function kT(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,X1(t)):(r.next=a.next,a.next=r),t.interleaved=r,ks(e,n)}function ks(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qs=!1;function Z1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ET(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ks(e,r)}return a=n.interleaved,a===null?(t.next=t,X1(n)):(t.next=a.next,a.next=t),n.interleaved=t,ks(e,r)}function Fm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R1(e,r)}}function NN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hp(e,t,r,n){var a=e.updateQueue;Qs=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Ct({},f,h);break e;case 2:Qs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Vo|=o,e.lanes=o,e.memoizedState=f}}function kN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var uh={},Ba=qi(uh),ef=qi(uh),tf=qi(uh);function xo(e){if(e===uh)throw Error(ae(174));return e}function Q1(e,t){switch(vt(tf,t),vt(ef,e),vt(Ba,uh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xb(t,e)}jt(Ba),vt(Ba,t)}function Ec(){jt(Ba),jt(ef),jt(tf)}function PT(e){xo(tf.current);var t=xo(Ba.current),r=xb(t,e.type);t!==r&&(vt(ef,e),vt(Ba,r))}function J1(e){ef.current===e&&(jt(Ba),jt(ef))}var Et=qi(0);function mp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qy=[];function ej(){for(var e=0;e<Qy.length;e++)Qy[e]._workInProgressVersionPrimary=null;Qy.length=0}var Bm=Rs.ReactCurrentDispatcher,Jy=Rs.ReactCurrentBatchConfig,qo=0,Pt=null,er=null,lr=null,pp=!1,Ed=!1,rf=0,E8=0;function xr(){throw Error(ae(321))}function tj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!da(e[r],t[r]))return!1;return!0}function rj(e,t,r,n,a,s){if(qo=s,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bm.current=e===null||e.memoizedState===null?A8:T8,e=r(n,a),Ed){s=0;do{if(Ed=!1,rf=0,25<=s)throw Error(ae(301));s+=1,lr=er=null,t.updateQueue=null,Bm.current=$8,e=r(n,a)}while(Ed)}if(Bm.current=gp,t=er!==null&&er.next!==null,qo=0,lr=er=Pt=null,pp=!1,t)throw Error(ae(300));return e}function nj(){var e=rf!==0;return rf=0,e}function Na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Pt.memoizedState=lr=e:lr=lr.next=e,lr}function $n(){if(er===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var t=lr===null?Pt.memoizedState:lr.next;if(t!==null)lr=t,er=e;else{if(e===null)throw Error(ae(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},lr===null?Pt.memoizedState=lr=e:lr=lr.next=e}return lr}function nf(e,t){return typeof t=="function"?t(e):t}function ex(e){var t=$n(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=er,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((qo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Pt.lanes|=d,Vo|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,da(n,t.memoizedState)||(Yr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Pt.lanes|=s,Vo|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tx(e){var t=$n(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);da(s,t.memoizedState)||(Yr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function CT(){}function OT(e,t){var r=Pt,n=$n(),a=t(),s=!da(n.memoizedState,a);if(s&&(n.memoizedState=a,Yr=!0),n=n.queue,aj($T.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||lr!==null&&lr.memoizedState.tag&1){if(r.flags|=2048,af(9,TT.bind(null,r,n,a,t),void 0,null),cr===null)throw Error(ae(349));qo&30||AT(r,t,a)}return a}function AT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TT(e,t,r,n){t.value=r,t.getSnapshot=n,MT(t)&&IT(e)}function $T(e,t,r){return r(function(){MT(t)&&IT(e)})}function MT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!da(e,r)}catch{return!0}}function IT(e){var t=ks(e,1);t!==null&&ca(t,e,1,-1)}function EN(e){var t=Na();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:e},t.queue=e,e=e.dispatch=O8.bind(null,Pt,e),[t.memoizedState,e]}function af(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function RT(){return $n().memoizedState}function zm(e,t,r,n){var a=Na();Pt.flags|=e,a.memoizedState=af(1|t,r,void 0,n===void 0?null:n)}function Zg(e,t,r,n){var a=$n();n=n===void 0?null:n;var s=void 0;if(er!==null){var o=er.memoizedState;if(s=o.destroy,n!==null&&tj(n,o.deps)){a.memoizedState=af(t,r,s,n);return}}Pt.flags|=e,a.memoizedState=af(1|t,r,s,n)}function PN(e,t){return zm(8390656,8,e,t)}function aj(e,t){return Zg(2048,8,e,t)}function DT(e,t){return Zg(4,2,e,t)}function LT(e,t){return Zg(4,4,e,t)}function FT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BT(e,t,r){return r=r!=null?r.concat([e]):null,Zg(4,4,FT.bind(null,t,e),r)}function sj(){}function zT(e,t){var r=$n();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function UT(e,t){var r=$n();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function WT(e,t,r){return qo&21?(da(r,t)||(r=KA(),Pt.lanes|=r,Vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yr=!0),e.memoizedState=r)}function P8(e,t){var r=at;at=r!==0&&4>r?r:4,e(!0);var n=Jy.transition;Jy.transition={};try{e(!1),t()}finally{at=r,Jy.transition=n}}function qT(){return $n().memoizedState}function C8(e,t,r){var n=Si(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},VT(e))HT(t,r);else if(r=kT(e,t,r,n),r!==null){var a=Fr();ca(r,e,n,a),GT(r,t,n)}}function O8(e,t,r){var n=Si(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(VT(e))HT(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,da(l,o)){var c=t.interleaved;c===null?(a.next=a,X1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=kT(e,t,a,n),r!==null&&(a=Fr(),ca(r,e,n,a),GT(r,t,n))}}function VT(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function HT(e,t){Ed=pp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function GT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R1(e,r)}}var gp={readContext:Tn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},A8={readContext:Tn,useCallback:function(e,t){return Na().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:PN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zm(4194308,4,FT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zm(4194308,4,e,t)},useInsertionEffect:function(e,t){return zm(4,2,e,t)},useMemo:function(e,t){var r=Na();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Na();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=C8.bind(null,Pt,e),[n.memoizedState,e]},useRef:function(e){var t=Na();return e={current:e},t.memoizedState=e},useState:EN,useDebugValue:sj,useDeferredValue:function(e){return Na().memoizedState=e},useTransition:function(){var e=EN(!1),t=e[0];return e=P8.bind(null,e[1]),Na().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pt,a=Na();if(Nt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),cr===null)throw Error(ae(349));qo&30||AT(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,PN($T.bind(null,n,s,e),[e]),n.flags|=2048,af(9,TT.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Na(),t=cr.identifierPrefix;if(Nt){var r=fs,n=ds;r=(n&~(1<<32-la(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=E8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T8={readContext:Tn,useCallback:zT,useContext:Tn,useEffect:aj,useImperativeHandle:BT,useInsertionEffect:DT,useLayoutEffect:LT,useMemo:UT,useReducer:ex,useRef:RT,useState:function(){return ex(nf)},useDebugValue:sj,useDeferredValue:function(e){var t=$n();return WT(t,er.memoizedState,e)},useTransition:function(){var e=ex(nf)[0],t=$n().memoizedState;return[e,t]},useMutableSource:CT,useSyncExternalStore:OT,useId:qT,unstable_isNewReconciler:!1},$8={readContext:Tn,useCallback:zT,useContext:Tn,useEffect:aj,useImperativeHandle:BT,useInsertionEffect:DT,useLayoutEffect:LT,useMemo:UT,useReducer:tx,useRef:RT,useState:function(){return tx(nf)},useDebugValue:sj,useDeferredValue:function(e){var t=$n();return er===null?t.memoizedState=e:WT(t,er.memoizedState,e)},useTransition:function(){var e=tx(nf)[0],t=$n().memoizedState;return[e,t]},useMutableSource:CT,useSyncExternalStore:OT,useId:qT,unstable_isNewReconciler:!1};function Kn(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qg={isMounted:function(e){return(e=e._reactInternals)?cl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fr(),a=Si(e),s=xs(n,a);s.payload=t,r!=null&&(s.callback=r),t=ji(e,s,a),t!==null&&(ca(t,e,a,n),Fm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fr(),a=Si(e),s=xs(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ji(e,s,a),t!==null&&(ca(t,e,a,n),Fm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fr(),n=Si(e),a=xs(r,n);a.tag=2,t!=null&&(a.callback=t),t=ji(e,a,n),t!==null&&(ca(t,e,n,r),Fm(t,e,n))}};function CN(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Xd(r,n)||!Xd(a,s):!0}function KT(e,t,r){var n=!1,a=$i,s=t.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(a=Jr(t)?Uo:Er.current,n=t.contextTypes,s=(n=n!=null)?Sc(e,a):$i),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ON(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qg.enqueueReplaceState(t,t.state,null)}function zb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Z1(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Tn(s):(s=Jr(t)?Uo:Er.current,a.context=Sc(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Bb(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qg.enqueueReplaceState(a,a.state,null),hp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pc(e,t){try{var r="",n=t;do r+=o6(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function rx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ub(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M8=typeof WeakMap=="function"?WeakMap:Map;function YT(e,t,r){r=xs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yp||(yp=!0,Qb=n),Ub(e,t)},r}function XT(e,t,r){r=xs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ub(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Ub(e,t),typeof n!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function AN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M8;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=K8.bind(null,e,t,r),t.then(e,e))}function TN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $N(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xs(-1,1),t.tag=2,ji(r,t,1))),r.lanes|=1),e)}var I8=Rs.ReactCurrentOwner,Yr=!1;function Tr(e,t,r,n){t.child=e===null?NT(t,null,r,n):kc(t,e.child,r,n)}function MN(e,t,r,n,a){r=r.render;var s=t.ref;return nc(t,a),n=rj(e,t,r,n,s,a),r=nj(),e!==null&&!Yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Es(e,t,a)):(Nt&&r&&q1(t),t.flags|=1,Tr(e,t,n,a),t.child)}function IN(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!hj(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ZT(e,t,s,n,a)):(e=Vm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Xd,r(o,n)&&e.ref===t.ref)return Es(e,t,a)}return t.flags|=1,e=Ni(s,n),e.ref=t.ref,e.return=t,t.child=e}function ZT(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Xd(s,n)&&e.ref===t.ref)if(Yr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Yr=!0);else return t.lanes=e.lanes,Es(e,t,a)}return Wb(e,t,r,n,a)}function QT(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Yl,sn),sn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vt(Yl,sn),sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,vt(Yl,sn),sn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,vt(Yl,sn),sn|=n;return Tr(e,t,a,r),t.child}function JT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wb(e,t,r,n,a){var s=Jr(r)?Uo:Er.current;return s=Sc(t,s),nc(t,a),r=rj(e,t,r,n,s,a),n=nj(),e!==null&&!Yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Es(e,t,a)):(Nt&&n&&q1(t),t.flags|=1,Tr(e,t,r,a),t.child)}function RN(e,t,r,n,a){if(Jr(r)){var s=!0;lp(t)}else s=!1;if(nc(t,a),t.stateNode===null)Um(e,t),KT(t,r,n),zb(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Jr(r)?Uo:Er.current,u=Sc(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ON(t,o,n,u),Qs=!1;var h=t.memoizedState;o.state=h,hp(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Qr.current||Qs?(typeof d=="function"&&(Bb(t,r,d,n),c=t.memoizedState),(l=Qs||CN(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ET(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Kn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tn(c):(c=Jr(r)?Uo:Er.current,c=Sc(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ON(t,o,n,c),Qs=!1,h=t.memoizedState,o.state=h,hp(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Qr.current||Qs?(typeof m=="function"&&(Bb(t,r,m,n),g=t.memoizedState),(u=Qs||CN(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return qb(e,t,r,n,s,a)}function qb(e,t,r,n,a,s){JT(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&wN(t,r,!1),Es(e,t,s);n=t.stateNode,I8.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=kc(t,e.child,null,s),t.child=kc(t,null,l,s)):Tr(e,t,l,s),t.memoizedState=n.state,a&&wN(t,r,!0),t.child}function e$(e){var t=e.stateNode;t.pendingContext?bN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bN(e,t.context,!1),Q1(e,t.containerInfo)}function DN(e,t,r,n,a){return Nc(),H1(a),t.flags|=256,Tr(e,t,r,n),t.child}var Vb={dehydrated:null,treeContext:null,retryLane:0};function Hb(e){return{baseLanes:e,cachePool:null,transitions:null}}function t$(e,t,r){var n=t.pendingProps,a=Et.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),vt(Et,a&1),e===null)return Lb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tv(o,n,0,null),e=$o(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Hb(r),t.memoizedState=Vb,e):ij(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return R8(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ni(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Ni(l,s):(s=$o(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Hb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Vb,n}return s=e.child,e=s.sibling,n=Ni(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ij(e,t){return t=tv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rm(e,t,r,n){return n!==null&&H1(n),kc(t,e.child,null,r),e=ij(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R8(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=rx(Error(ae(422))),rm(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=tv({mode:"visible",children:n.children},a,0,null),s=$o(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&kc(t,e.child,null,o),t.child.memoizedState=Hb(o),t.memoizedState=Vb,s);if(!(t.mode&1))return rm(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ae(419)),n=rx(s,n,void 0),rm(e,t,o,n)}if(l=(o&e.childLanes)!==0,Yr||l){if(n=cr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ks(e,a),ca(n,e,a,-1))}return fj(),n=rx(Error(ae(421))),rm(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Y8.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,un=wi(a.nextSibling),dn=t,Nt=!0,ra=null,e!==null&&(jn[_n++]=ds,jn[_n++]=fs,jn[_n++]=Wo,ds=e.id,fs=e.overflow,Wo=t),t=ij(t,n.children),t.flags|=4096,t)}function LN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fb(e.return,t,r)}function nx(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function r$(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Tr(e,t,n.children,r),n=Et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LN(e,r,t);else if(e.tag===19)LN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vt(Et,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&mp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),nx(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&mp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}nx(t,!0,r,null,s);break;case"together":nx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Um(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Es(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Ni(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ni(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function D8(e,t,r){switch(t.tag){case 3:e$(t),Nc();break;case 5:PT(t);break;case 1:Jr(t.type)&&lp(t);break;case 4:Q1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;vt(dp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vt(Et,Et.current&1),t.flags|=128,null):r&t.child.childLanes?t$(e,t,r):(vt(Et,Et.current&1),e=Es(e,t,r),e!==null?e.sibling:null);vt(Et,Et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return r$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(Et,Et.current),n)break;return null;case 22:case 23:return t.lanes=0,QT(e,t,r)}return Es(e,t,r)}var n$,Gb,a$,s$;n$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gb=function(){};a$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xo(Ba.current);var s=null;switch(r){case"input":a=pb(e,a),n=pb(e,n),s=[];break;case"select":a=Ct({},a,{value:void 0}),n=Ct({},n,{value:void 0}),s=[];break;case"textarea":a=yb(e,a),n=yb(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ip)}bb(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};s$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zu(e,t){if(!Nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function br(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function L8(e,t,r){var n=t.pendingProps;switch(V1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(t),null;case 1:return Jr(t.type)&&op(),br(t),null;case 3:return n=t.stateNode,Ec(),jt(Qr),jt(Er),ej(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(em(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ra!==null&&(t0(ra),ra=null))),Gb(e,t),br(t),null;case 5:J1(t);var a=xo(tf.current);if(r=t.type,e!==null&&t.stateNode!=null)a$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return br(t),null}if(e=xo(Ba.current),em(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ta]=t,n[Jd]=s,e=(t.mode&1)!==0,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<vd.length;a++)xt(vd[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":GS(n,s),xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},xt("invalid",n);break;case"textarea":YS(n,s),xt("invalid",n)}bb(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jh(n.textContent,l,e),a=["children",""+l]):Wd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xt("scroll",n)}switch(r){case"input":Vh(n),KS(n,s,!0);break;case"textarea":Vh(n),XS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ip)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$A(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ta]=t,e[Jd]=n,n$(e,t,!1,!1),t.stateNode=e;e:{switch(o=wb(r,n),r){case"dialog":xt("cancel",e),xt("close",e),a=n;break;case"iframe":case"object":case"embed":xt("load",e),a=n;break;case"video":case"audio":for(a=0;a<vd.length;a++)xt(vd[a],e);a=n;break;case"source":xt("error",e),a=n;break;case"img":case"image":case"link":xt("error",e),xt("load",e),a=n;break;case"details":xt("toggle",e),a=n;break;case"input":GS(e,n),a=pb(e,n),xt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ct({},n,{value:void 0}),xt("invalid",e);break;case"textarea":YS(e,n),a=yb(e,n),xt("invalid",e);break;default:a=n}bb(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?RA(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&MA(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qd(e,c):typeof c=="number"&&qd(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&xt("scroll",e):c!=null&&O1(e,s,c,o))}switch(r){case"input":Vh(e),KS(e,n,!1);break;case"textarea":Vh(e),XS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ti(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Jl(e,!!n.multiple,s,!1):n.defaultValue!=null&&Jl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ip)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return br(t),null;case 6:if(e&&t.stateNode!=null)s$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=xo(tf.current),xo(Ba.current),em(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ta]=t,(s=n.nodeValue!==r)&&(e=dn,e!==null))switch(e.tag){case 3:Jh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jh(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ta]=t,t.stateNode=n}return br(t),null;case 13:if(jt(Et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&un!==null&&t.mode&1&&!(t.flags&128))_T(),Nc(),t.flags|=98560,s=!1;else if(s=em(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ae(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Ta]=t}else Nc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;br(t),s=!1}else ra!==null&&(t0(ra),ra=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Et.current&1?tr===0&&(tr=3):fj())),t.updateQueue!==null&&(t.flags|=4),br(t),null);case 4:return Ec(),Gb(e,t),e===null&&Zd(t.stateNode.containerInfo),br(t),null;case 10:return Y1(t.type._context),br(t),null;case 17:return Jr(t.type)&&op(),br(t),null;case 19:if(jt(Et),s=t.memoizedState,s===null)return br(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Zu(s,!1);else{if(tr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mp(e),o!==null){for(t.flags|=128,Zu(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vt(Et,Et.current&1|2),t.child}e=e.sibling}s.tail!==null&&Rt()>Cc&&(t.flags|=128,n=!0,Zu(s,!1),t.lanes=4194304)}else{if(!n)if(e=mp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Nt)return br(t),null}else 2*Rt()-s.renderingStartTime>Cc&&r!==1073741824&&(t.flags|=128,n=!0,Zu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Rt(),t.sibling=null,r=Et.current,vt(Et,n?r&1|2:r&1),t):(br(t),null);case 22:case 23:return dj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?sn&1073741824&&(br(t),t.subtreeFlags&6&&(t.flags|=8192)):br(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function F8(e,t){switch(V1(t),t.tag){case 1:return Jr(t.type)&&op(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ec(),jt(Qr),jt(Er),ej(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return J1(t),null;case 13:if(jt(Et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Nc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Et),null;case 4:return Ec(),null;case 10:return Y1(t.type._context),null;case 22:case 23:return dj(),null;case 24:return null;default:return null}}var nm=!1,jr=!1,B8=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Kl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$t(e,t,n)}else r.current=null}function Kb(e,t,r){try{r()}catch(n){$t(e,t,n)}}var FN=!1;function z8(e,t){if(Ab=np,e=uT(),W1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tb={focusedElem:e,selectionRange:r},np=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Kn(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(j){$t(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return g=FN,FN=!1,g}function Pd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Kb(t,r,s)}a=a.next}while(a!==n)}}function Jg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Yb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function i$(e){var t=e.alternate;t!==null&&(e.alternate=null,i$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ta],delete t[Jd],delete t[Ib],delete t[_8],delete t[S8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o$(e){return e.tag===5||e.tag===3||e.tag===4}function BN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ip));else if(n!==4&&(e=e.child,e!==null))for(Xb(e,t,r),e=e.sibling;e!==null;)Xb(e,t,r),e=e.sibling}function Zb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Zb(e,t,r),e=e.sibling;e!==null;)Zb(e,t,r),e=e.sibling}var fr=null,Qn=!1;function Ws(e,t,r){for(r=r.child;r!==null;)l$(e,t,r),r=r.sibling}function l$(e,t,r){if(Fa&&typeof Fa.onCommitFiberUnmount=="function")try{Fa.onCommitFiberUnmount(Vg,r)}catch{}switch(r.tag){case 5:jr||Kl(r,t);case 6:var n=fr,a=Qn;fr=null,Ws(e,t,r),fr=n,Qn=a,fr!==null&&(Qn?(e=fr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fr.removeChild(r.stateNode));break;case 18:fr!==null&&(Qn?(e=fr,r=r.stateNode,e.nodeType===8?Xy(e.parentNode,r):e.nodeType===1&&Xy(e,r),Kd(e)):Xy(fr,r.stateNode));break;case 4:n=fr,a=Qn,fr=r.stateNode.containerInfo,Qn=!0,Ws(e,t,r),fr=n,Qn=a;break;case 0:case 11:case 14:case 15:if(!jr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kb(r,t,o),a=a.next}while(a!==n)}Ws(e,t,r);break;case 1:if(!jr&&(Kl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$t(r,t,l)}Ws(e,t,r);break;case 21:Ws(e,t,r);break;case 22:r.mode&1?(jr=(n=jr)||r.memoizedState!==null,Ws(e,t,r),jr=n):Ws(e,t,r);break;default:Ws(e,t,r)}}function zN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new B8),t.forEach(function(n){var a=X8.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Wn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fr=l.stateNode,Qn=!1;break e;case 3:fr=l.stateNode.containerInfo,Qn=!0;break e;case 4:fr=l.stateNode.containerInfo,Qn=!0;break e}l=l.return}if(fr===null)throw Error(ae(160));l$(s,o,a),fr=null,Qn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){$t(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)c$(t,e),t=t.sibling}function c$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wn(t,e),Sa(e),n&4){try{Pd(3,e,e.return),Jg(3,e)}catch(p){$t(e,e.return,p)}try{Pd(5,e,e.return)}catch(p){$t(e,e.return,p)}}break;case 1:Wn(t,e),Sa(e),n&512&&r!==null&&Kl(r,r.return);break;case 5:if(Wn(t,e),Sa(e),n&512&&r!==null&&Kl(r,r.return),e.flags&32){var a=e.stateNode;try{qd(a,"")}catch(p){$t(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&AA(a,s),wb(l,o);var u=wb(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?RA(a,f):d==="dangerouslySetInnerHTML"?MA(a,f):d==="children"?qd(a,f):O1(a,d,f,u)}switch(l){case"input":gb(a,s);break;case"textarea":TA(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Jl(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Jl(a,!!s.multiple,s.defaultValue,!0):Jl(a,!!s.multiple,s.multiple?[]:"",!1))}a[Jd]=s}catch(p){$t(e,e.return,p)}}break;case 6:if(Wn(t,e),Sa(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){$t(e,e.return,p)}}break;case 3:if(Wn(t,e),Sa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kd(t.containerInfo)}catch(p){$t(e,e.return,p)}break;case 4:Wn(t,e),Sa(e);break;case 13:Wn(t,e),Sa(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(cj=Rt())),n&4&&zN(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jr=(u=jr)||d,Wn(t,e),jr=u):Wn(t,e),Sa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(pe=e,d=e.child;d!==null;){for(f=pe=d;pe!==null;){switch(h=pe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Pd(4,h,h.return);break;case 1:Kl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){$t(n,r,p)}}break;case 5:Kl(h,h.return);break;case 22:if(h.memoizedState!==null){WN(f);continue}}m!==null?(m.return=h,pe=m):WN(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=IA("display",o))}catch(p){$t(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){$t(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wn(t,e),Sa(e),n&4&&zN(e);break;case 21:break;default:Wn(t,e),Sa(e)}}function Sa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(o$(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(qd(a,""),n.flags&=-33);var s=BN(e);Zb(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=BN(e);Xb(e,l,o);break;default:throw Error(ae(161))}}catch(c){$t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U8(e,t,r){pe=e,u$(e)}function u$(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var a=pe,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||nm;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||jr;l=nm;var u=jr;if(nm=o,(jr=c)&&!u)for(pe=a;pe!==null;)o=pe,c=o.child,o.tag===22&&o.memoizedState!==null?qN(a):c!==null?(c.return=o,pe=c):qN(a);for(;s!==null;)pe=s,u$(s),s=s.sibling;pe=a,nm=l,jr=u}UN(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,pe=s):UN(e)}}function UN(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||Jg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Kn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&kN(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}jr||t.flags&512&&Yb(t)}catch(h){$t(t,t.return,h)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function WN(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function qN(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Jg(4,t)}catch(c){$t(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){$t(t,a,c)}}var s=t.return;try{Yb(t)}catch(c){$t(t,s,c)}break;case 5:var o=t.return;try{Yb(t)}catch(c){$t(t,o,c)}}}catch(c){$t(t,t.return,c)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var W8=Math.ceil,vp=Rs.ReactCurrentDispatcher,oj=Rs.ReactCurrentOwner,kn=Rs.ReactCurrentBatchConfig,He=0,cr=null,Vt=null,mr=0,sn=0,Yl=qi(0),tr=0,sf=null,Vo=0,ev=0,lj=0,Cd=null,Gr=null,cj=0,Cc=1/0,os=null,yp=!1,Qb=null,_i=null,am=!1,hi=null,xp=0,Od=0,Jb=null,Wm=-1,qm=0;function Fr(){return He&6?Rt():Wm!==-1?Wm:Wm=Rt()}function Si(e){return e.mode&1?He&2&&mr!==0?mr&-mr:k8.transition!==null?(qm===0&&(qm=KA()),qm):(e=at,e!==0||(e=window.event,e=e===void 0?16:tT(e.type)),e):1}function ca(e,t,r,n){if(50<Od)throw Od=0,Jb=null,Error(ae(185));oh(e,r,n),(!(He&2)||e!==cr)&&(e===cr&&(!(He&2)&&(ev|=r),tr===4&&ri(e,mr)),en(e,n),r===1&&He===0&&!(t.mode&1)&&(Cc=Rt()+500,Xg&&Vi()))}function en(e,t){var r=e.callbackNode;k6(e,t);var n=rp(e,e===cr?mr:0);if(n===0)r!==null&&JS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&JS(r),t===1)e.tag===0?N8(VN.bind(null,e)):bT(VN.bind(null,e)),w8(function(){!(He&6)&&Vi()}),r=null;else{switch(YA(n)){case 1:r=I1;break;case 4:r=HA;break;case 16:r=tp;break;case 536870912:r=GA;break;default:r=tp}r=y$(r,d$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function d$(e,t){if(Wm=-1,qm=0,He&6)throw Error(ae(327));var r=e.callbackNode;if(ac()&&e.callbackNode!==r)return null;var n=rp(e,e===cr?mr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bp(e,n);else{t=n;var a=He;He|=2;var s=h$();(cr!==e||mr!==t)&&(os=null,Cc=Rt()+500,To(e,t));do try{H8();break}catch(l){f$(e,l)}while(!0);K1(),vp.current=s,He=a,Vt!==null?t=0:(cr=null,mr=0,t=tr)}if(t!==0){if(t===2&&(a=kb(e),a!==0&&(n=a,t=e0(e,a))),t===1)throw r=sf,To(e,0),ri(e,n),en(e,Rt()),r;if(t===6)ri(e,n);else{if(a=e.current.alternate,!(n&30)&&!q8(a)&&(t=bp(e,n),t===2&&(s=kb(e),s!==0&&(n=s,t=e0(e,s))),t===1))throw r=sf,To(e,0),ri(e,n),en(e,Rt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:lo(e,Gr,os);break;case 3:if(ri(e,n),(n&130023424)===n&&(t=cj+500-Rt(),10<t)){if(rp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Fr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Mb(lo.bind(null,e,Gr,os),t);break}lo(e,Gr,os);break;case 4:if(ri(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-la(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W8(n/1960))-n,10<n){e.timeoutHandle=Mb(lo.bind(null,e,Gr,os),n);break}lo(e,Gr,os);break;case 5:lo(e,Gr,os);break;default:throw Error(ae(329))}}}return en(e,Rt()),e.callbackNode===r?d$.bind(null,e):null}function e0(e,t){var r=Cd;return e.current.memoizedState.isDehydrated&&(To(e,t).flags|=256),e=bp(e,t),e!==2&&(t=Gr,Gr=r,t!==null&&t0(t)),e}function t0(e){Gr===null?Gr=e:Gr.push.apply(Gr,e)}function q8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!da(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ri(e,t){for(t&=~lj,t&=~ev,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-la(t),n=1<<r;e[r]=-1,t&=~n}}function VN(e){if(He&6)throw Error(ae(327));ac();var t=rp(e,0);if(!(t&1))return en(e,Rt()),null;var r=bp(e,t);if(e.tag!==0&&r===2){var n=kb(e);n!==0&&(t=n,r=e0(e,n))}if(r===1)throw r=sf,To(e,0),ri(e,t),en(e,Rt()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lo(e,Gr,os),en(e,Rt()),null}function uj(e,t){var r=He;He|=1;try{return e(t)}finally{He=r,He===0&&(Cc=Rt()+500,Xg&&Vi())}}function Ho(e){hi!==null&&hi.tag===0&&!(He&6)&&ac();var t=He;He|=1;var r=kn.transition,n=at;try{if(kn.transition=null,at=1,e)return e()}finally{at=n,kn.transition=r,He=t,!(He&6)&&Vi()}}function dj(){sn=Yl.current,jt(Yl)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,b8(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(V1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&op();break;case 3:Ec(),jt(Qr),jt(Er),ej();break;case 5:J1(n);break;case 4:Ec();break;case 13:jt(Et);break;case 19:jt(Et);break;case 10:Y1(n.type._context);break;case 22:case 23:dj()}r=r.return}if(cr=e,Vt=e=Ni(e.current,null),mr=sn=t,tr=0,sf=null,lj=ev=Vo=0,Gr=Cd=null,yo!==null){for(t=0;t<yo.length;t++)if(r=yo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}yo=null}return e}function f$(e,t){do{var r=Vt;try{if(K1(),Bm.current=gp,pp){for(var n=Pt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}pp=!1}if(qo=0,lr=er=Pt=null,Ed=!1,rf=0,oj.current=null,r===null||r.return===null){tr=1,sf=t,Vt=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=mr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=TN(o);if(m!==null){m.flags&=-257,$N(m,o,l,s,t),m.mode&1&&AN(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){AN(s,u,t),fj();break e}c=Error(ae(426))}}else if(Nt&&l.mode&1){var v=TN(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),$N(v,o,l,s,t),H1(Pc(c,l));break e}}s=c=Pc(c,l),tr!==4&&(tr=2),Cd===null?Cd=[s]:Cd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=YT(s,c,t);NN(s,x);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_i===null||!_i.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=XT(s,l,t);NN(s,j);break e}}s=s.return}while(s!==null)}p$(r)}catch(_){t=_,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function h$(){var e=vp.current;return vp.current=gp,e===null?gp:e}function fj(){(tr===0||tr===3||tr===2)&&(tr=4),cr===null||!(Vo&268435455)&&!(ev&268435455)||ri(cr,mr)}function bp(e,t){var r=He;He|=2;var n=h$();(cr!==e||mr!==t)&&(os=null,To(e,t));do try{V8();break}catch(a){f$(e,a)}while(!0);if(K1(),He=r,vp.current=n,Vt!==null)throw Error(ae(261));return cr=null,mr=0,tr}function V8(){for(;Vt!==null;)m$(Vt)}function H8(){for(;Vt!==null&&!v6();)m$(Vt)}function m$(e){var t=v$(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?p$(e):Vt=t,oj.current=null}function p$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=F8(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tr=6,Vt=null;return}}else if(r=L8(r,t,sn),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);tr===0&&(tr=5)}function lo(e,t,r){var n=at,a=kn.transition;try{kn.transition=null,at=1,G8(e,t,r,n)}finally{kn.transition=a,at=n}return null}function G8(e,t,r,n){do ac();while(hi!==null);if(He&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(E6(e,s),e===cr&&(Vt=cr=null,mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||am||(am=!0,y$(tp,function(){return ac(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var o=at;at=1;var l=He;He|=4,oj.current=null,z8(e,r),c$(r,e),h8(Tb),np=!!Ab,Tb=Ab=null,e.current=r,U8(r),y6(),He=l,at=o,kn.transition=s}else e.current=r;if(am&&(am=!1,hi=e,xp=a),s=e.pendingLanes,s===0&&(_i=null),w6(r.stateNode),en(e,Rt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(yp)throw yp=!1,e=Qb,Qb=null,e;return xp&1&&e.tag!==0&&ac(),s=e.pendingLanes,s&1?e===Jb?Od++:(Od=0,Jb=e):Od=0,Vi(),null}function ac(){if(hi!==null){var e=YA(xp),t=kn.transition,r=at;try{if(kn.transition=null,at=16>e?16:e,hi===null)var n=!1;else{if(e=hi,hi=null,xp=0,He&6)throw Error(ae(331));var a=He;for(He|=4,pe=e.current;pe!==null;){var s=pe,o=s.child;if(pe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:Pd(8,d,s)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var h=d.sibling,m=d.return;if(i$(d),d===u){pe=null;break}if(h!==null){h.return=m,pe=h;break}pe=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,pe=o;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pd(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,pe=x;break e}pe=s.return}}var b=e.current;for(pe=b;pe!==null;){o=pe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,pe=w;else e:for(o=b;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jg(9,l)}}catch(_){$t(l,l.return,_)}if(l===o){pe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,pe=j;break e}pe=l.return}}if(He=a,Vi(),Fa&&typeof Fa.onPostCommitFiberRoot=="function")try{Fa.onPostCommitFiberRoot(Vg,e)}catch{}n=!0}return n}finally{at=r,kn.transition=t}}return!1}function HN(e,t,r){t=Pc(r,t),t=YT(e,t,1),e=ji(e,t,1),t=Fr(),e!==null&&(oh(e,1,t),en(e,t))}function $t(e,t,r){if(e.tag===3)HN(e,e,r);else for(;t!==null;){if(t.tag===3){HN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_i===null||!_i.has(n))){e=Pc(r,e),e=XT(t,e,1),t=ji(t,e,1),e=Fr(),t!==null&&(oh(t,1,e),en(t,e));break}}t=t.return}}function K8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fr(),e.pingedLanes|=e.suspendedLanes&r,cr===e&&(mr&r)===r&&(tr===4||tr===3&&(mr&130023424)===mr&&500>Rt()-cj?To(e,0):lj|=r),en(e,t)}function g$(e,t){t===0&&(e.mode&1?(t=Kh,Kh<<=1,!(Kh&130023424)&&(Kh=4194304)):t=1);var r=Fr();e=ks(e,t),e!==null&&(oh(e,t,r),en(e,r))}function Y8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),g$(e,r)}function X8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),g$(e,r)}var v$;v$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qr.current)Yr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Yr=!1,D8(e,t,r);Yr=!!(e.flags&131072)}else Yr=!1,Nt&&t.flags&1048576&&wT(t,up,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Um(e,t),e=t.pendingProps;var a=Sc(t,Er.current);nc(t,r),a=rj(null,t,n,e,a,r);var s=nj();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jr(n)?(s=!0,lp(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Z1(t),a.updater=Qg,t.stateNode=a,a._reactInternals=t,zb(t,n,e,r),t=qb(null,t,n,!0,s,r)):(t.tag=0,Nt&&s&&q1(t),Tr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Um(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Q8(n),e=Kn(n,e),a){case 0:t=Wb(null,t,n,e,r);break e;case 1:t=RN(null,t,n,e,r);break e;case 11:t=MN(null,t,n,e,r);break e;case 14:t=IN(null,t,n,Kn(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Kn(n,a),Wb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Kn(n,a),RN(e,t,n,a,r);case 3:e:{if(e$(t),e===null)throw Error(ae(387));n=t.pendingProps,s=t.memoizedState,a=s.element,ET(e,t),hp(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Pc(Error(ae(423)),t),t=DN(e,t,n,r,a);break e}else if(n!==a){a=Pc(Error(ae(424)),t),t=DN(e,t,n,r,a);break e}else for(un=wi(t.stateNode.containerInfo.firstChild),dn=t,Nt=!0,ra=null,r=NT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nc(),n===a){t=Es(e,t,r);break e}Tr(e,t,n,r)}t=t.child}return t;case 5:return PT(t),e===null&&Lb(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,$b(n,a)?o=null:s!==null&&$b(n,s)&&(t.flags|=32),JT(e,t),Tr(e,t,o,r),t.child;case 6:return e===null&&Lb(t),null;case 13:return t$(e,t,r);case 4:return Q1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kc(t,null,n,r):Tr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Kn(n,a),MN(e,t,n,a,r);case 7:return Tr(e,t,t.pendingProps,r),t.child;case 8:return Tr(e,t,t.pendingProps.children,r),t.child;case 12:return Tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,vt(dp,n._currentValue),n._currentValue=o,s!==null)if(da(s.value,o)){if(s.children===a.children&&!Qr.current){t=Es(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=xs(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Fb(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fb(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,nc(t,r),a=Tn(a),n=n(a),t.flags|=1,Tr(e,t,n,r),t.child;case 14:return n=t.type,a=Kn(n,t.pendingProps),a=Kn(n.type,a),IN(e,t,n,a,r);case 15:return ZT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Kn(n,a),Um(e,t),t.tag=1,Jr(n)?(e=!0,lp(t)):e=!1,nc(t,r),KT(t,n,a),zb(t,n,a,r),qb(null,t,n,!0,e,r);case 19:return r$(e,t,r);case 22:return QT(e,t,r)}throw Error(ae(156,t.tag))};function y$(e,t){return VA(e,t)}function Z8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,r,n){return new Z8(e,t,r,n)}function hj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q8(e){if(typeof e=="function")return hj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T1)return 11;if(e===$1)return 14}return 2}function Ni(e,t){var r=e.alternate;return r===null?(r=Sn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vm(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")hj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fl:return $o(r.children,a,s,t);case A1:o=8,a|=8;break;case db:return e=Sn(12,r,t,a|2),e.elementType=db,e.lanes=s,e;case fb:return e=Sn(13,r,t,a),e.elementType=fb,e.lanes=s,e;case hb:return e=Sn(19,r,t,a),e.elementType=hb,e.lanes=s,e;case PA:return tv(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kA:o=10;break e;case EA:o=9;break e;case T1:o=11;break e;case $1:o=14;break e;case Zs:o=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Sn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function $o(e,t,r,n){return e=Sn(7,e,n,t),e.lanes=r,e}function tv(e,t,r,n){return e=Sn(22,e,n,t),e.elementType=PA,e.lanes=r,e.stateNode={isHidden:!1},e}function ax(e,t,r){return e=Sn(6,e,null,t),e.lanes=r,e}function sx(e,t,r){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J8(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fy(0),this.expirationTimes=Fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fy(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mj(e,t,r,n,a,s,o,l,c){return e=new J8(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Sn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z1(s),e}function eB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ll,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function x$(e){if(!e)return $i;e=e._reactInternals;e:{if(cl(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(Jr(r))return xT(e,r,t)}return t}function b$(e,t,r,n,a,s,o,l,c){return e=mj(r,n,!0,e,a,s,o,l,c),e.context=x$(null),r=e.current,n=Fr(),a=Si(r),s=xs(n,a),s.callback=t??null,ji(r,s,a),e.current.lanes=a,oh(e,a,n),en(e,n),e}function rv(e,t,r,n){var a=t.current,s=Fr(),o=Si(a);return r=x$(r),t.context===null?t.context=r:t.pendingContext=r,t=xs(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ji(a,t,o),e!==null&&(ca(e,a,o,s),Fm(e,a,o)),o}function wp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function GN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pj(e,t){GN(e,t),(e=e.alternate)&&GN(e,t)}function tB(){return null}var w$=typeof reportError=="function"?reportError:function(e){console.error(e)};function gj(e){this._internalRoot=e}nv.prototype.render=gj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));rv(e,t,null,null)};nv.prototype.unmount=gj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){rv(null,e,null,null)}),t[Ns]=null}};function nv(e){this._internalRoot=e}nv.prototype.unstable_scheduleHydration=function(e){if(e){var t=QA();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ti.length&&t!==0&&t<ti[r].priority;r++);ti.splice(r,0,e),r===0&&eT(e)}};function vj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function av(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KN(){}function rB(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=wp(o);s.call(u)}}var o=b$(t,n,e,0,null,!1,!1,"",KN);return e._reactRootContainer=o,e[Ns]=o.current,Zd(e.nodeType===8?e.parentNode:e),Ho(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=wp(c);l.call(u)}}var c=mj(e,0,!1,null,null,!1,!1,"",KN);return e._reactRootContainer=c,e[Ns]=c.current,Zd(e.nodeType===8?e.parentNode:e),Ho(function(){rv(t,c,r,n)}),c}function sv(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=wp(o);l.call(c)}}rv(t,o,e,a)}else o=rB(r,t,e,a,n);return wp(o)}XA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gd(t.pendingLanes);r!==0&&(R1(t,r|1),en(t,Rt()),!(He&6)&&(Cc=Rt()+500,Vi()))}break;case 13:Ho(function(){var n=ks(e,1);if(n!==null){var a=Fr();ca(n,e,1,a)}}),pj(e,1)}};D1=function(e){if(e.tag===13){var t=ks(e,134217728);if(t!==null){var r=Fr();ca(t,e,134217728,r)}pj(e,134217728)}};ZA=function(e){if(e.tag===13){var t=Si(e),r=ks(e,t);if(r!==null){var n=Fr();ca(r,e,t,n)}pj(e,t)}};QA=function(){return at};JA=function(e,t){var r=at;try{return at=e,t()}finally{at=r}};_b=function(e,t,r){switch(t){case"input":if(gb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Yg(n);if(!a)throw Error(ae(90));OA(n),gb(n,a)}}}break;case"textarea":TA(e,r);break;case"select":t=r.value,t!=null&&Jl(e,!!r.multiple,t,!1)}};FA=uj;BA=Ho;var nB={usingClientEntryPoint:!1,Events:[ch,Wl,Yg,DA,LA,uj]},Qu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aB={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WA(e),e===null?null:e.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||tB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{Vg=sm.inject(aB),Fa=sm}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nB;gn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vj(t))throw Error(ae(200));return eB(e,t,null,r)};gn.createRoot=function(e,t){if(!vj(e))throw Error(ae(299));var r=!1,n="",a=w$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mj(e,1,!1,null,null,r,!1,n,a),e[Ns]=t.current,Zd(e.nodeType===8?e.parentNode:e),new gj(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=WA(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return Ho(e)};gn.hydrate=function(e,t,r){if(!av(t))throw Error(ae(200));return sv(null,e,t,!0,r)};gn.hydrateRoot=function(e,t,r){if(!vj(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=w$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=b$(t,null,e,1,r??null,a,!1,s,o),e[Ns]=t.current,Zd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new nv(t)};gn.render=function(e,t,r){if(!av(t))throw Error(ae(200));return sv(null,e,t,!1,r)};gn.unmountComponentAtNode=function(e){if(!av(e))throw Error(ae(40));return e._reactRootContainer?(Ho(function(){sv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ns]=null})}),!0):!1};gn.unstable_batchedUpdates=uj;gn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!av(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return sv(e,t,r,!1,n)};gn.version="18.3.1-next-f1338f8080-20240426";function j$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j$)}catch(e){console.error(e)}}j$(),jA.exports=gn;var ul=jA.exports;const _$=ut(ul);var S$,YN=ul;S$=YN.createRoot,YN.hydrateRoot;const sB=1,iB=1e6;let ix=0;function oB(){return ix=(ix+1)%Number.MAX_SAFE_INTEGER,ix.toString()}const ox=new Map,XN=e=>{if(ox.has(e))return;const t=setTimeout(()=>{ox.delete(e),Ad({type:"REMOVE_TOAST",toastId:e})},iB);ox.set(e,t)},lB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?XN(r):e.toasts.forEach(n=>{XN(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Hm=[];let Gm={toasts:[]};function Ad(e){Gm=lB(Gm,e),Hm.forEach(t=>{t(Gm)})}function Wt({...e}){const t=oB(),r=a=>Ad({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ad({type:"DISMISS_TOAST",toastId:t});return Ad({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function At(){const[e,t]=y.useState(Gm);return y.useEffect(()=>(Hm.push(t),()=>{const r=Hm.indexOf(t);r>-1&&Hm.splice(r,1)}),[e]),{...e,toast:Wt,dismiss:r=>Ad({type:"DISMISS_TOAST",toastId:r})}}function ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ZN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function N$(...e){return t=>{let r=!1;const n=e.map(a=>{const s=ZN(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():ZN(e[a],null)}}}}function De(...e){return y.useCallback(N$(...e),e)}function cB(e,t){const r=y.createContext(t),n=s=>{const{children:o,...l}=s,c=y.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Ur(e,t=[]){let r=[];function n(s,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=y.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,uB(a,...t)]}function uB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Go(e){const t=fB(e),r=y.forwardRef((n,a)=>{const{children:s,...o}=n,l=y.Children.toArray(s),c=l.find(mB);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var dB=Go("Slot");function fB(e){const t=y.forwardRef((r,n)=>{const{children:a,...s}=r;if(y.isValidElement(a)){const o=gB(a),l=pB(s,a.props);return a.type!==y.Fragment&&(l.ref=n?N$(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var k$=Symbol("radix.slottable");function hB(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=k$,t}function mB(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===k$}function pB(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function gB(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yj(e){const t=e+"CollectionProvider",[r,n]=Ur(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:x}=p,b=$.useRef(null),w=$.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Go(l),u=$.forwardRef((p,v)=>{const{scope:x,children:b}=p,w=s(l,x),j=De(v,w.collectionRef);return i.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Go(d),m=$.forwardRef((p,v)=>{const{scope:x,children:b,...w}=p,j=$.useRef(null),_=De(v,j),S=s(d,x);return $.useEffect(()=>(S.itemMap.set(j,{ref:j,...w}),()=>void S.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:_,children:b})});m.displayName=d;function g(p){const v=s(e+"CollectionConsumer",p);return $.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var vB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=vB.reduce((e,t)=>{const r=Go(`Primitive.${t}`),n=y.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function E$(e,t){e&&ul.flushSync(()=>e.dispatchEvent(t))}function Ht(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function yB(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var xB="DismissableLayer",r0="dismissableLayer.update",bB="dismissableLayer.pointerDownOutside",wB="dismissableLayer.focusOutside",QN,P$=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gu=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(P$),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=De(t,N=>f(N)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=x,_=_B(N=>{const k=N.target,E=[...u.branches].some(O=>O.contains(k));!j||E||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=SB(N=>{const k=N.target;[...u.branches].some(O=>O.contains(k))||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return yB(N=>{b===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(QN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),JN(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=QN)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),JN())},[d,u]),y.useEffect(()=>{const N=()=>m({});return document.addEventListener(r0,N),()=>document.removeEventListener(r0,N)},[]),i.jsx(_e.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,_.onPointerDownCapture)})});gu.displayName=xB;var jB="DismissableLayerBranch",C$=y.forwardRef((e,t)=>{const r=y.useContext(P$),n=y.useRef(null),a=De(t,n);return y.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(_e.div,{...e,ref:a})});C$.displayName=jB;function _B(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){O$(bB,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function SB(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e),n=y.useRef(!1);return y.useEffect(()=>{const a=s=>{s.target&&!n.current&&O$(wB,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JN(){const e=new CustomEvent(r0);document.dispatchEvent(e)}function O$(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?E$(a,s):a.dispatchEvent(s)}var NB=gu,kB=C$,It=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},EB="Portal",dh=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=y.useState(!1);It(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_$.createPortal(i.jsx(_e.div,{...n,ref:t}),o):null});dh.displayName=EB;function PB(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Wr=e=>{const{present:t,children:r}=e,n=CB(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),s=De(n.ref,OB(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:s}):null};Wr.displayName="Presence";function CB(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),s=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=PB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=im(n.current);s.current=l==="mounted"?u:"none"},[l]),It(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=im(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),It(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=im(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=im(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function im(e){return(e==null?void 0:e.animationName)||"none"}function OB(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AB=E1[" useInsertionEffect ".trim().toString()]||It;function fa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=TB({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=$B(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function TB({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),s=y.useRef(t);return AB(()=>{s.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function $B(e){return typeof e=="function"}var A$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MB="VisuallyHidden",iv=y.forwardRef((e,t)=>i.jsx(_e.span,{...e,ref:t,style:{...A$,...e.style}}));iv.displayName=MB;var IB=iv,xj="ToastProvider",[bj,RB,DB]=yj("Toast"),[T$,rEe]=Ur("Toast",[DB]),[LB,ov]=T$(xj),$$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xj}\`. Expected non-empty \`string\`.`),i.jsx(bj.Provider,{scope:t,children:i.jsx(LB,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};$$.displayName=xj;var M$="ToastViewport",FB=["F8"],n0="toast.viewportPause",a0="toast.viewportResume",I$=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=FB,label:a="Notifications ({hotkey})",...s}=e,o=ov(M$,r),l=RB(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=De(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const v=x=>{var w;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,x=f.current;if(g&&v&&x){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(n0);x.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(a0);x.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&w()},_=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",j),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",_),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const j=w.ref.current,_=[j,...QB(j)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const x=b=>{var _,S,N;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const k=document.activeElement,E=b.shiftKey;if(b.target===v&&E){(_=u.current)==null||_.focus();return}const P=p({tabbingDirection:E?"backwards":"forwards"}),A=P.findIndex(T=>T===k);lx(P.slice(A+1))?b.preventDefault():E?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,p]),i.jsxs(kB,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(s0,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});lx(v)}}),i.jsx(bj.Slot,{scope:r,children:i.jsx(_e.ol,{tabIndex:-1,...s,ref:h})}),g&&i.jsx(s0,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});lx(v)}})]})});I$.displayName=M$;var R$="ToastFocusProxy",s0=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=ov(R$,r);return i.jsx(iv,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});s0.displayName=R$;var fh="Toast",BB="toast.swipeStart",zB="toast.swipeMove",UB="toast.swipeCancel",WB="toast.swipeEnd",D$=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[l,c]=fa({prop:n,defaultProp:a??!0,onChange:s,caller:fh});return i.jsx(Wr,{present:r||l,children:i.jsx(HB,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ht(e.onPause),onResume:Ht(e.onResume),onSwipeStart:ge(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});D$.displayName=fh;var[qB,VB]=T$(fh,{onClose(){}}),HB=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=ov(fh,r),[v,x]=y.useState(null),b=De(t,T=>x(T)),w=y.useRef(null),j=y.useRef(null),_=a||p.duration,S=y.useRef(0),N=y.useRef(_),k=y.useRef(0),{onToastAdd:E,onToastRemove:O}=p,C=Ht(()=>{var M;(v==null?void 0:v.contains(document.activeElement))&&((M=p.viewport)==null||M.focus()),o()}),P=y.useCallback(T=>{!T||T===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(C,T))},[C]);y.useEffect(()=>{const T=p.viewport;if(T){const M=()=>{P(N.current),u==null||u()},I=()=>{const B=new Date().getTime()-S.current;N.current=N.current-B,window.clearTimeout(k.current),c==null||c()};return T.addEventListener(n0,I),T.addEventListener(a0,M),()=>{T.removeEventListener(n0,I),T.removeEventListener(a0,M)}}},[p.viewport,_,c,u,P]),y.useEffect(()=>{s&&!p.isClosePausedRef.current&&P(_)},[s,_,p.isClosePausedRef,P]),y.useEffect(()=>(E(),()=>O()),[E,O]);const A=y.useMemo(()=>v?q$(v):null,[v]);return p.viewport?i.jsxs(i.Fragment,{children:[A&&i.jsx(GB,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:A}),i.jsx(qB,{scope:r,onClose:C,children:ul.createPortal(i.jsx(bj.ItemSlot,{scope:r,children:i.jsx(NB,{asChild:!0,onEscapeKeyDown:ge(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||C(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(_e.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:ge(e.onPointerDown,T=>{T.button===0&&(w.current={x:T.clientX,y:T.clientY})}),onPointerMove:ge(e.onPointerMove,T=>{if(!w.current)return;const M=T.clientX-w.current.x,I=T.clientY-w.current.y,B=!!j.current,R=["left","right"].includes(p.swipeDirection),L=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,W=R?L(0,M):0,Z=R?0:L(0,I),G=T.pointerType==="touch"?10:2,ee={x:W,y:Z},fe={originalEvent:T,delta:ee};B?(j.current=ee,om(zB,f,fe,{discrete:!1})):ek(ee,p.swipeDirection,G)?(j.current=ee,om(BB,d,fe,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(M)>G||Math.abs(I)>G)&&(w.current=null)}),onPointerUp:ge(e.onPointerUp,T=>{const M=j.current,I=T.target;if(I.hasPointerCapture(T.pointerId)&&I.releasePointerCapture(T.pointerId),j.current=null,w.current=null,M){const B=T.currentTarget,R={originalEvent:T,delta:M};ek(M,p.swipeDirection,p.swipeThreshold)?om(WB,m,R,{discrete:!0}):om(UB,h,R,{discrete:!0}),B.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),GB=e=>{const{__scopeToast:t,children:r,...n}=e,a=ov(fh,t),[s,o]=y.useState(!1),[l,c]=y.useState(!1);return XB(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(dh,{asChild:!0,children:i.jsx(iv,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},KB="ToastTitle",L$=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(_e.div,{...n,ref:t})});L$.displayName=KB;var YB="ToastDescription",F$=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(_e.div,{...n,ref:t})});F$.displayName=YB;var B$="ToastAction",z$=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(W$,{altText:r,asChild:!0,children:i.jsx(wj,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${B$}\`. Expected non-empty \`string\`.`),null)});z$.displayName=B$;var U$="ToastClose",wj=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=VB(U$,r);return i.jsx(W$,{asChild:!0,children:i.jsx(_e.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,a.onClose)})})});wj.displayName=U$;var W$=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return i.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function q$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ZB(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...q$(n))}}),t}function om(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?E$(a,s):a.dispatchEvent(s)}var ek=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function XB(e=()=>{}){const t=Ht(e);It(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function ZB(e){return e.nodeType===e.ELEMENT_NODE}function QB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lx(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var JB=$$,V$=I$,H$=D$,G$=L$,K$=F$,Y$=z$,X$=wj;function Z$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Z$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Z$(e))&&(n&&(n+=" "),n+=t);return n}const tk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rk=qe,hh=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return rk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=tk(d)||tk(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return rk(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...tz,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Q$("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const r=y.forwardRef(({className:n,...a},s)=>y.createElement(rz,{ref:s,iconNode:t,className:Q$(`lucide-${ez(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=J("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=J("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=J("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=J("Bandage",[["path",{d:"M10 10.01h.01",key:"1e9xi7"}],["path",{d:"M10 14.01h.01",key:"ac23bv"}],["path",{d:"M14 10.01h.01",key:"2wfrvf"}],["path",{d:"M14 14.01h.01",key:"8tw8yn"}],["path",{d:"M18 6v11.5",key:"dkbidh"}],["path",{d:"M6 6v12",key:"vkc79e"}],["rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",key:"1wpnh2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=J("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=J("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=J("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=J("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=J("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=J("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=J("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=J("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=J("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=J("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=J("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=J("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=J("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=J("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=J("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=J("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=J("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=J("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=J("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=J("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=J("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=J("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=J("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=J("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=J("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=J("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=J("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=J("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=J("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=J("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=J("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=J("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=J("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=J("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=J("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=J("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=J("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=J("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=J("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=J("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=J("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=J("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=J("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=J("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=J("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=J("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=J("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=J("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=J("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Nj="-",Uz=e=>{const t=qz(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Nj);return l[0]===""&&l.length!==1&&l.shift(),oM(l,t)||Wz(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},oM=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?oM(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(Nj);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},uk=/^\[(.+)\]$/,Wz=e=>{if(uk.test(e)){const t=uk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qz=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Hz(Object.entries(e.classGroups),r).forEach(([s,o])=>{o0(o,n,s,t)}),n},o0=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:dk(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Vz(a)){o0(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{o0(o,dk(t,s),r,n)})})},dk=(e,t)=>{let r=e;return t.split(Nj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Vz=e=>e.isThemeGetter,Hz=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,Gz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},lM="!",Kz=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(lM),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Yz=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Xz=e=>({cache:Gz(e.cacheSize),parseClassName:Kz(e),...Uz(e)}),Zz=/\s+/,Qz=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(Zz);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Yz(d).join(":"),x=f?v+lM:v,b=x+p;if(s.includes(b))continue;s.push(b);const w=a(p,g);for(let j=0;j<w.length;++j){const _=w[j];s.push(x+_)}l=u+(l.length>0?" "+l:l)}return l};function Jz(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=cM(t))&&(n&&(n+=" "),n+=r);return n}const cM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=cM(e[n]))&&(r&&(r+=" "),r+=t);return r};function eU(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Xz(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Qz(c,r);return a(c,d),d}return function(){return s(Jz.apply(null,arguments))}}const yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},uM=/^\[(?:([a-z-]+):)?(.+)\]$/i,tU=/^\d+\/\d+$/,rU=new Set(["px","full","screen"]),nU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=e=>ic(e)||rU.has(e)||tU.test(e),qs=e=>vu(e,"length",pU),ic=e=>!!e&&!Number.isNaN(Number(e)),cx=e=>vu(e,"number",ic),Ju=e=>!!e&&Number.isInteger(Number(e)),lU=e=>e.endsWith("%")&&ic(e.slice(0,-1)),Ie=e=>uM.test(e),Vs=e=>nU.test(e),cU=new Set(["length","size","percentage"]),uU=e=>vu(e,cU,dM),dU=e=>vu(e,"position",dM),fU=new Set(["image","url"]),hU=e=>vu(e,fU,vU),mU=e=>vu(e,"",gU),ed=()=>!0,vu=(e,t,r)=>{const n=uM.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},pU=e=>aU.test(e)&&!sU.test(e),dM=()=>!1,gU=e=>iU.test(e),vU=e=>oU.test(e),yU=()=>{const e=yt("colors"),t=yt("spacing"),r=yt("blur"),n=yt("brightness"),a=yt("borderColor"),s=yt("borderRadius"),o=yt("borderSpacing"),l=yt("borderWidth"),c=yt("contrast"),u=yt("grayscale"),d=yt("hueRotate"),f=yt("invert"),h=yt("gap"),m=yt("gradientColorStops"),g=yt("gradientColorStopPositions"),p=yt("inset"),v=yt("margin"),x=yt("opacity"),b=yt("padding"),w=yt("saturate"),j=yt("scale"),_=yt("sepia"),S=yt("skew"),N=yt("space"),k=yt("translate"),E=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Ie,t],P=()=>[Ie,t],A=()=>["",rs,qs],T=()=>["auto",ic,Ie],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ie],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[ic,Ie];return{cacheSize:500,separator:":",theme:{colors:[ed],spacing:[rs,qs],blur:["none","",Vs,Ie],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Vs,Ie],borderSpacing:P(),borderWidth:A(),contrast:Z(),grayscale:L(),hueRotate:Z(),invert:L(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[lU,qs],inset:C(),margin:C(),opacity:Z(),padding:P(),saturate:Z(),scale:Z(),sepia:L(),skew:Z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Ie]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ju,Ie]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ju,Ie]}],"grid-cols":[{"grid-cols":[ed]}],"col-start-end":[{col:["auto",{span:["full",Ju,Ie]},Ie]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[ed]}],"row-start-end":[{row:["auto",{span:[Ju,Ie]},Ie]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,t]}],"min-w":[{"min-w":[Ie,t,"min","max","fit"]}],"max-w":[{"max-w":[Ie,t,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[Ie,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cx]}],"font-family":[{font:[ed]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",ic,cx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rs,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rs,qs]}],"underline-offset":[{"underline-offset":["auto",rs,Ie]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),dU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[rs,Ie]}],"outline-w":[{outline:[rs,qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[rs,qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vs,mU]}],"shadow-color":[{shadow:[ed]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vs,Ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ju,Ie]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rs,qs,cx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xU=eU(yU);function Se(...e){return xU(qe(e))}function bU(e){if(e<60)return`${e} minutos`;const t=Math.floor(e/60),r=e%60;return r===0?t===1?"1 hora":`${t} horas`:`${t} ${t===1?"hora":"horas"} e ${r} minutos`}const wU=JB,fM=y.forwardRef(({className:e,...t},r)=>i.jsx(V$,{ref:r,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));fM.displayName=V$.displayName;const jU=hh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hM=y.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(H$,{ref:n,className:Se(jU({variant:t}),e),...r}));hM.displayName=H$.displayName;const _U=y.forwardRef(({className:e,...t},r)=>i.jsx(Y$,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_U.displayName=Y$.displayName;const mM=y.forwardRef(({className:e,...t},r)=>i.jsx(X$,{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(ph,{className:"h-4 w-4"})}));mM.displayName=X$.displayName;const pM=y.forwardRef(({className:e,...t},r)=>i.jsx(G$,{ref:r,className:Se("text-sm font-semibold",e),...t}));pM.displayName=G$.displayName;const gM=y.forwardRef(({className:e,...t},r)=>i.jsx(K$,{ref:r,className:Se("text-sm opacity-90",e),...t}));gM.displayName=K$.displayName;function SU(){const{toasts:e}=At();return i.jsxs(wU,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return i.jsxs(hM,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(pM,{children:r}),n&&i.jsx(gM,{children:n})]}),a,i.jsx(mM,{})]},t)}),i.jsx(fM,{})]})}var fk=["light","dark"],NU="(prefers-color-scheme: dark)",kU=y.createContext(void 0),EU={setTheme:e=>{},themes:[]},PU=()=>{var e;return(e=y.useContext(kU))!=null?e:EU};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?fk.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let x=o?o[g]:g,b=p?g+"|| ''":`'${x}'`,w="";return a&&v&&!p&&fk.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${NU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var CU=e=>{switch(e){case"success":return TU;case"info":return MU;case"warning":return $U;case"error":return IU;default:return null}},OU=Array(12).fill(0),AU=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},OU.map((r,n)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),TU=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$U=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MU=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IU=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RU=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DU=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},l0=1,LU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:l0++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],$.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(BU(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||l0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Hr=new LU,FU=(e,t)=>{let r=(t==null?void 0:t.id)||l0++;return Hr.addToast({title:e,...t,id:r}),r},BU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zU=FU,UU=()=>Hr.toasts,WU=()=>Hr.getActiveToasts(),ke=Object.assign(zU,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:UU,getToasts:WU});function qU(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}qU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lm(e){return e.label!==void 0}var VU=3,HU="32px",GU="16px",hk=4e3,KU=356,YU=14,XU=20,ZU=200;function qn(...e){return e.filter(Boolean).join(" ")}function QU(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var JU=e=>{var t,r,n,a,s,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:x,heights:b,index:w,toasts:j,expanded:_,removeToast:S,defaultRichColors:N,closeButton:k,style:E,cancelButtonStyle:O,actionButtonStyle:C,className:P="",descriptionClassName:A="",duration:T,position:M,gap:I,loadingIcon:B,expandByDefault:R,classNames:L,icons:W,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:G}=e,[ee,fe]=$.useState(null),[U,Ne]=$.useState(null),[te,we]=$.useState(!1),[Q,ne]=$.useState(!1),[de,q]=$.useState(!1),[Me,Pe]=$.useState(!1),[et,tt]=$.useState(!1),[_t,Pr]=$.useState(0),[vr,D]=$.useState(0),z=$.useRef(m.duration||T||hk),H=$.useRef(null),le=$.useRef(null),ce=w===0,ie=w+1<=x,me=m.type,Ue=m.dismissible!==!1,it=m.className||"",qr=m.descriptionClassName||"",es=$.useMemo(()=>b.findIndex(Te=>Te.toastId===m.id)||0,[b,m.id]),ja=$.useMemo(()=>{var Te;return(Te=m.closeButton)!=null?Te:k},[m.closeButton,k]),Fh=$.useMemo(()=>m.duration||T||hk,[m.duration,T]),ro=$.useRef(0),_a=$.useRef(0),Bh=$.useRef(0),ts=$.useRef(null),[Ay,zh]=M.split("-"),LS=$.useMemo(()=>b.reduce((Te,ot,St)=>St>=es?Te:Te+ot.height,0),[b,es]),FS=DU(),OF=m.invert||h,Ty=me==="loading";_a.current=$.useMemo(()=>es*I+LS,[es,LS]),$.useEffect(()=>{z.current=Fh},[Fh]),$.useEffect(()=>{we(!0)},[]),$.useEffect(()=>{let Te=le.current;if(Te){let ot=Te.getBoundingClientRect().height;return D(ot),v(St=>[{toastId:m.id,height:ot,position:m.position},...St]),()=>v(St=>St.filter(Bn=>Bn.toastId!==m.id))}},[v,m.id]),$.useLayoutEffect(()=>{if(!te)return;let Te=le.current,ot=Te.style.height;Te.style.height="auto";let St=Te.getBoundingClientRect().height;Te.style.height=ot,D(St),v(Bn=>Bn.find(zn=>zn.toastId===m.id)?Bn.map(zn=>zn.toastId===m.id?{...zn,height:St}:zn):[{toastId:m.id,height:St,position:m.position},...Bn])},[te,m.title,m.description,v,m.id]);let Bs=$.useCallback(()=>{ne(!0),Pr(_a.current),v(Te=>Te.filter(ot=>ot.toastId!==m.id)),setTimeout(()=>{S(m)},ZU)},[m,S,v,_a]);$.useEffect(()=>{if(m.promise&&me==="loading"||m.duration===1/0||m.type==="loading")return;let Te;return _||p||G&&FS?(()=>{if(Bh.current<ro.current){let ot=new Date().getTime()-ro.current;z.current=z.current-ot}Bh.current=new Date().getTime()})():z.current!==1/0&&(ro.current=new Date().getTime(),Te=setTimeout(()=>{var ot;(ot=m.onAutoClose)==null||ot.call(m,m),Bs()},z.current)),()=>clearTimeout(Te)},[_,p,m,me,G,FS,Bs]),$.useEffect(()=>{m.delete&&Bs()},[Bs,m.delete]);function AF(){var Te,ot,St;return W!=null&&W.loading?$.createElement("div",{className:qn(L==null?void 0:L.loader,(Te=m==null?void 0:m.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":me==="loading"},W.loading):B?$.createElement("div",{className:qn(L==null?void 0:L.loader,(ot=m==null?void 0:m.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":me==="loading"},B):$.createElement(AU,{className:qn(L==null?void 0:L.loader,(St=m==null?void 0:m.classNames)==null?void 0:St.loader),visible:me==="loading"})}return $.createElement("li",{tabIndex:0,ref:le,className:qn(P,it,L==null?void 0:L.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[me],(r=m==null?void 0:m.classNames)==null?void 0:r[me]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":te,"data-promise":!!m.promise,"data-swiped":et,"data-removed":Q,"data-visible":ie,"data-y-position":Ay,"data-x-position":zh,"data-index":w,"data-front":ce,"data-swiping":de,"data-dismissible":Ue,"data-type":me,"data-invert":OF,"data-swipe-out":Me,"data-swipe-direction":U,"data-expanded":!!(_||R&&te),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${Q?_t:_a.current}px`,"--initial-height":R?"auto":`${vr}px`,...E,...m.style},onDragEnd:()=>{q(!1),fe(null),ts.current=null},onPointerDown:Te=>{Ty||!Ue||(H.current=new Date,Pr(_a.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(q(!0),ts.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,ot,St,Bn;if(Me||!Ue)return;ts.current=null;let zn=Number(((Te=le.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zs=Number(((ot=le.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),no=new Date().getTime()-((St=H.current)==null?void 0:St.getTime()),Un=ee==="x"?zn:zs,Us=Math.abs(Un)/no;if(Math.abs(Un)>=XU||Us>.11){Pr(_a.current),(Bn=m.onDismiss)==null||Bn.call(m,m),Ne(ee==="x"?zn>0?"right":"left":zs>0?"down":"up"),Bs(),Pe(!0),tt(!1);return}q(!1),fe(null)},onPointerMove:Te=>{var ot,St,Bn,zn;if(!ts.current||!Ue||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let zs=Te.clientY-ts.current.y,no=Te.clientX-ts.current.x,Un=(St=e.swipeDirections)!=null?St:QU(M);!ee&&(Math.abs(no)>1||Math.abs(zs)>1)&&fe(Math.abs(no)>Math.abs(zs)?"x":"y");let Us={x:0,y:0};ee==="y"?(Un.includes("top")||Un.includes("bottom"))&&(Un.includes("top")&&zs<0||Un.includes("bottom")&&zs>0)&&(Us.y=zs):ee==="x"&&(Un.includes("left")||Un.includes("right"))&&(Un.includes("left")&&no<0||Un.includes("right")&&no>0)&&(Us.x=no),(Math.abs(Us.x)>0||Math.abs(Us.y)>0)&&tt(!0),(Bn=le.current)==null||Bn.style.setProperty("--swipe-amount-x",`${Us.x}px`),(zn=le.current)==null||zn.style.setProperty("--swipe-amount-y",`${Us.y}px`)}},ja&&!m.jsx?$.createElement("button",{"aria-label":Z,"data-disabled":Ty,"data-close-button":!0,onClick:Ty||!Ue?()=>{}:()=>{var Te;Bs(),(Te=m.onDismiss)==null||Te.call(m,m)},className:qn(L==null?void 0:L.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(s=W==null?void 0:W.close)!=null?s:RU):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:$.createElement($.Fragment,null,me||m.icon||m.promise?$.createElement("div",{"data-icon":"",className:qn(L==null?void 0:L.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||AF():null,m.type!=="loading"?m.icon||(W==null?void 0:W[me])||CU(me):null):null,$.createElement("div",{"data-content":"",className:qn(L==null?void 0:L.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},$.createElement("div",{"data-title":"",className:qn(L==null?void 0:L.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?$.createElement("div",{"data-description":"",className:qn(A,qr,L==null?void 0:L.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&lm(m.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:Te=>{var ot,St;lm(m.cancel)&&Ue&&((St=(ot=m.cancel).onClick)==null||St.call(ot,Te),Bs())},className:qn(L==null?void 0:L.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&lm(m.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:Te=>{var ot,St;lm(m.action)&&((St=(ot=m.action).onClick)==null||St.call(ot,Te),!Te.defaultPrevented&&Bs())},className:qn(L==null?void 0:L.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function mk(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function eW(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,o=s?"--mobile-offset":"--offset",l=s?GU:HU;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var tW=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=VU,toastOptions:p,dir:v=mk(),gap:x=YU,loadingIcon:b,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[S,N]=$.useState([]),k=$.useMemo(()=>Array.from(new Set([n].concat(S.filter(G=>G.position).map(G=>G.position)))),[S,n]),[E,O]=$.useState([]),[C,P]=$.useState(!1),[A,T]=$.useState(!1),[M,I]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=$.useRef(null),R=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=$.useRef(null),W=$.useRef(!1),Z=$.useCallback(G=>{N(ee=>{var fe;return(fe=ee.find(U=>U.id===G.id))!=null&&fe.delete||Hr.dismiss(G.id),ee.filter(({id:U})=>U!==G.id)})},[]);return $.useEffect(()=>Hr.subscribe(G=>{if(G.dismiss){N(ee=>ee.map(fe=>fe.id===G.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{_$.flushSync(()=>{N(ee=>{let fe=ee.findIndex(U=>U.id===G.id);return fe!==-1?[...ee.slice(0,fe),{...ee[fe],...G},...ee.slice(fe+1)]:[G,...ee]})})})}),[]),$.useEffect(()=>{if(d!=="system"){I(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ee})=>{I(ee?"dark":"light")})}catch{G.addListener(({matches:fe})=>{try{I(fe?"dark":"light")}catch(U){console.error(U)}})}},[d]),$.useEffect(()=>{S.length<=1&&P(!1)},[S]),$.useEffect(()=>{let G=ee=>{var fe,U;a.every(Ne=>ee[Ne]||ee.code===Ne)&&(P(!0),(fe=B.current)==null||fe.focus()),ee.code==="Escape"&&(document.activeElement===B.current||(U=B.current)!=null&&U.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),$.useEffect(()=>{if(B.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[B.current]),$.createElement("section",{ref:t,"aria-label":`${j} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((G,ee)=>{var fe;let[U,Ne]=G.split("-");return S.length?$.createElement("ol",{key:G,dir:v==="auto"?mk():v,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":U,"data-lifted":C&&S.length>1&&!s,"data-x-position":Ne,style:{"--front-toast-height":`${((fe=E[0])==null?void 0:fe.height)||0}px`,"--width":`${KU}px`,"--gap":`${x}px`,...m,...eW(c,u)},onBlur:te=>{W.current&&!te.currentTarget.contains(te.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=te.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{A||P(!1)},onDragEnd:()=>P(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},S.filter(te=>!te.position&&ee===0||te.position===G).map((te,we)=>{var Q,ne;return $.createElement(JU,{key:te.id,icons:w,index:we,toast:te,defaultRichColors:f,duration:(Q=p==null?void 0:p.duration)!=null?Q:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ne=p==null?void 0:p.closeButton)!=null?ne:o,interacting:A,position:G,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Z,toasts:S.filter(de=>de.position==te.position),heights:E.filter(de=>de.position==te.position),setHeights:O,expandByDefault:s,gap:x,loadingIcon:b,expanded:C,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const rW=({...e})=>{const{theme:t="system"}=PU();return i.jsx(tW,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var nW=E1[" useId ".trim().toString()]||(()=>{}),aW=0;function ua(e){const[t,r]=y.useState(nW());return It(()=>{r(n=>n??String(aW++))},[e]),t?`radix-${t}`:""}const sW=["top","right","bottom","left"],Fi=Math.min,ln=Math.max,_p=Math.round,cm=Math.floor,za=e=>({x:e,y:e}),iW={left:"right",right:"left",bottom:"top",top:"bottom"},oW={start:"end",end:"start"};function c0(e,t,r){return ln(e,Fi(t,r))}function Ps(e,t){return typeof e=="function"?e(t):e}function Cs(e){return e.split("-")[0]}function yu(e){return e.split("-")[1]}function kj(e){return e==="x"?"y":"x"}function Ej(e){return e==="y"?"height":"width"}const lW=new Set(["top","bottom"]);function Ra(e){return lW.has(Cs(e))?"y":"x"}function Pj(e){return kj(Ra(e))}function cW(e,t,r){r===void 0&&(r=!1);const n=yu(e),a=Pj(e),s=Ej(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Sp(o)),[o,Sp(o)]}function uW(e){const t=Sp(e);return[u0(e),t,u0(t)]}function u0(e){return e.replace(/start|end/g,t=>oW[t])}const pk=["left","right"],gk=["right","left"],dW=["top","bottom"],fW=["bottom","top"];function hW(e,t,r){switch(e){case"top":case"bottom":return r?t?gk:pk:t?pk:gk;case"left":case"right":return t?dW:fW;default:return[]}}function mW(e,t,r,n){const a=yu(e);let s=hW(Cs(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(u0)))),s}function Sp(e){return e.replace(/left|right|bottom|top/g,t=>iW[t])}function pW(e){return{top:0,right:0,bottom:0,left:0,...e}}function vM(e){return typeof e!="number"?pW(e):{top:e,right:e,bottom:e,left:e}}function Np(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function vk(e,t,r){let{reference:n,floating:a}=e;const s=Ra(t),o=Pj(t),l=Ej(o),c=Cs(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(yu(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const gW=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=vk(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:x}=l[p],{x:b,y:w,data:j,reset:_}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,m={...m,[v]:{...m[v],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=vk(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function df(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ps(t,e),g=vM(m),v=l[h?f==="floating"?"reference":"floating":f],x=Np(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Np(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-_.top+g.top)/j.y,bottom:(_.bottom-x.bottom+g.bottom)/j.y,left:(x.left-_.left+g.left)/j.x,right:(_.right-x.right+g.right)/j.x}}const vW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ps(e,t)||{};if(u==null)return{};const f=vM(d),h={x:r,y:n},m=Pj(a),g=Ej(m),p=await o.getDimensions(u),v=m==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[m]-h[m]-s.floating[g],_=h[m]-s.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||s.floating[g]);const k=j/2-_/2,E=N/2-p[g]/2-1,O=Fi(f[x],E),C=Fi(f[b],E),P=O,A=N-p[g]-C,T=N/2-p[g]/2+k,M=c0(P,T,A),I=!c.arrow&&yu(a)!=null&&T!==M&&s.reference[g]/2-(T<P?O:C)-p[g]/2<0,B=I?T<P?T-P:T-A:0;return{[m]:h[m]+B,data:{[m]:M,centerOffset:T-M-B,...I&&{alignmentOffset:B}},reset:I}}}),yW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=Ps(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=Cs(a),b=Ra(l),w=Cs(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!p?[Sp(l)]:uW(l)),S=g!=="none";!h&&S&&_.push(...mW(l,p,g,j));const N=[l,..._],k=await df(t,v),E=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&E.push(k[x]),f){const T=cW(a,o,j);E.push(k[T[0]],k[T[1]])}if(O=[...O,{placement:a,overflows:E}],!E.every(T=>T<=0)){var C,P;const T=(((C=s.flip)==null?void 0:C.index)||0)+1,M=N[T];if(M&&(!(f==="alignment"?b!==Ra(M):!1)||O.every(R=>Ra(R.placement)===b?R.overflows[0]>0:!0)))return{data:{index:T,overflows:O},reset:{placement:M}};let I=(P=O.filter(B=>B.overflows[0]<=0).sort((B,R)=>B.overflows[1]-R.overflows[1])[0])==null?void 0:P.placement;if(!I)switch(m){case"bestFit":{var A;const B=(A=O.filter(R=>{if(S){const L=Ra(R.placement);return L===b||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:A[0];B&&(I=B);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function yk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xk(e){return sW.some(t=>e[t]>=0)}const xW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Ps(e,t);switch(n){case"referenceHidden":{const s=await df(t,{...a,elementContext:"reference"}),o=yk(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xk(o)}}}case"escaped":{const s=await df(t,{...a,altBoundary:!0}),o=yk(s,r.floating);return{data:{escapedOffsets:o,escaped:xk(o)}}}default:return{}}}}},yM=new Set(["left","top"]);async function bW(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Cs(r),l=yu(r),c=Ra(r)==="y",u=yM.has(o)?-1:1,d=s&&c?-1:1,f=Ps(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const wW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await bW(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},jW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=Ps(e,t),u={x:r,y:n},d=await df(t,c),f=Ra(Cs(a)),h=kj(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+d[v],w=m-d[x];m=c0(b,m,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=g+d[v],w=g-d[x];g=c0(b,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:o}}}}}},_W=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ps(e,t),d={x:r,y:n},f=Ra(a),h=kj(f);let m=d[h],g=d[f];const p=Ps(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",j=s.reference[h]-s.floating[w]+v.mainAxis,_=s.reference[h]+s.reference[w]-v.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var x,b;const w=h==="y"?"width":"height",j=yM.has(Cs(a)),_=s.reference[f]-s.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:v.crossAxis),S=s.reference[f]+s.reference[w]+(j?0:((b=o.offset)==null?void 0:b[f])||0)-(j?v.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[h]:m,[f]:g}}}},SW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ps(e,t),d=await df(t,u),f=Cs(a),h=yu(a),m=Ra(a)==="y",{width:g,height:p}=s.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=g-d.left-d.right,j=Fi(p-d[v],b),_=Fi(g-d[x],w),S=!t.middlewareData.shift;let N=j,k=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),S&&!h){const O=ln(d.left,0),C=ln(d.right,0),P=ln(d.top,0),A=ln(d.bottom,0);m?k=g-2*(O!==0||C!==0?O+C:ln(d.left,d.right)):N=p-2*(P!==0||A!==0?P+A:ln(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const E=await o.getDimensions(l.floating);return g!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function uv(){return typeof window<"u"}function xu(e){return xM(e)?(e.nodeName||"").toLowerCase():"#document"}function fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xa(e){var t;return(t=(xM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xM(e){return uv()?e instanceof Node||e instanceof fn(e).Node:!1}function ha(e){return uv()?e instanceof Element||e instanceof fn(e).Element:!1}function Ha(e){return uv()?e instanceof HTMLElement||e instanceof fn(e).HTMLElement:!1}function bk(e){return!uv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fn(e).ShadowRoot}const NW=new Set(["inline","contents"]);function gh(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!NW.has(a)}const kW=new Set(["table","td","th"]);function EW(e){return kW.has(xu(e))}const PW=[":popover-open",":modal"];function dv(e){return PW.some(t=>{try{return e.matches(t)}catch{return!1}})}const CW=["transform","translate","scale","rotate","perspective"],OW=["transform","translate","scale","rotate","perspective","filter"],AW=["paint","layout","strict","content"];function Cj(e){const t=Oj(),r=ha(e)?ma(e):e;return CW.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||OW.some(n=>(r.willChange||"").includes(n))||AW.some(n=>(r.contain||"").includes(n))}function TW(e){let t=Bi(e);for(;Ha(t)&&!$c(t);){if(Cj(t))return t;if(dv(t))return null;t=Bi(t)}return null}function Oj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $W=new Set(["html","body","#document"]);function $c(e){return $W.has(xu(e))}function ma(e){return fn(e).getComputedStyle(e)}function fv(e){return ha(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bi(e){if(xu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bk(e)&&e.host||Xa(e);return bk(t)?t.host:t}function bM(e){const t=Bi(e);return $c(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ha(t)&&gh(t)?t:bM(t)}function ff(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=bM(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=fn(a);if(s){const l=d0(o);return t.concat(o,o.visualViewport||[],gh(a)?a:[],l&&r?ff(l):[])}return t.concat(a,ff(a,[],r))}function d0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wM(e){const t=ma(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ha(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=_p(r)!==s||_p(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function Aj(e){return ha(e)?e:e.contextElement}function oc(e){const t=Aj(e);if(!Ha(t))return za(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=wM(t);let o=(s?_p(r.width):r.width)/n,l=(s?_p(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const MW=za(0);function jM(e){const t=fn(e);return!Oj()||!t.visualViewport?MW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fn(e)?!1:t}function Yo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Aj(e);let o=za(1);t&&(n?ha(n)&&(o=oc(n)):o=oc(e));const l=IW(s,r,n)?jM(s):za(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=fn(s),m=n&&ha(n)?fn(n):n;let g=h,p=d0(g);for(;p&&n&&m!==g;){const v=oc(p),x=p.getBoundingClientRect(),b=ma(p),w=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,j=x.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,g=fn(p),p=d0(g)}}return Np({width:d,height:f,x:c,y:u})}function hv(e,t){const r=fv(e).scrollLeft;return t?t.left+r:Yo(Xa(e)).left+r}function _M(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-hv(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function RW(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Xa(n),l=t?dv(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=za(1);const d=za(0),f=Ha(n);if((f||!f&&!s)&&((xu(n)!=="body"||gh(o))&&(c=fv(n)),Ha(n))){const m=Yo(n);u=oc(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?_M(o,c):za(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function DW(e){return Array.from(e.getClientRects())}function LW(e){const t=Xa(e),r=fv(e),n=e.ownerDocument.body,a=ln(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=ln(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+hv(e);const l=-r.scrollTop;return ma(n).direction==="rtl"&&(o+=ln(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}const wk=25;function FW(e,t){const r=fn(e),n=Xa(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=Oj();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=hv(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=wk&&(s-=g)}else u<=wk&&(s+=u);return{width:s,height:o,x:l,y:c}}const BW=new Set(["absolute","fixed"]);function zW(e,t){const r=Yo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Ha(e)?oc(e):za(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function jk(e,t,r){let n;if(t==="viewport")n=FW(e,r);else if(t==="document")n=LW(Xa(e));else if(ha(t))n=zW(t,r);else{const a=jM(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Np(n)}function SM(e,t){const r=Bi(e);return r===t||!ha(r)||$c(r)?!1:ma(r).position==="fixed"||SM(r,t)}function UW(e,t){const r=t.get(e);if(r)return r;let n=ff(e,[],!1).filter(l=>ha(l)&&xu(l)!=="body"),a=null;const s=ma(e).position==="fixed";let o=s?Bi(e):e;for(;ha(o)&&!$c(o);){const l=ma(o),c=Cj(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&BW.has(a.position)||gh(o)&&!c&&SM(e,o))?n=n.filter(d=>d!==o):a=l,o=Bi(o)}return t.set(e,n),n}function WW(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?dv(t)?[]:UW(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=jk(t,d,a);return u.top=ln(f.top,u.top),u.right=Fi(f.right,u.right),u.bottom=Fi(f.bottom,u.bottom),u.left=ln(f.left,u.left),u},jk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qW(e){const{width:t,height:r}=wM(e);return{width:t,height:r}}function VW(e,t,r){const n=Ha(t),a=Xa(t),s=r==="fixed",o=Yo(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=za(0);function u(){c.x=hv(a)}if(n||!n&&!s)if((xu(t)!=="body"||gh(a))&&(l=fv(t)),n){const m=Yo(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?_M(a,l):za(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function ux(e){return ma(e).position==="static"}function _k(e,t){if(!Ha(e)||ma(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xa(e)===r&&(r=r.ownerDocument.body),r}function NM(e,t){const r=fn(e);if(dv(e))return r;if(!Ha(e)){let a=Bi(e);for(;a&&!$c(a);){if(ha(a)&&!ux(a))return a;a=Bi(a)}return r}let n=_k(e,t);for(;n&&EW(n)&&ux(n);)n=_k(n,t);return n&&$c(n)&&ux(n)&&!Cj(n)?r:n||TW(e)||r}const HW=async function(e){const t=this.getOffsetParent||NM,r=this.getDimensions,n=await r(e.floating);return{reference:VW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function GW(e){return ma(e).direction==="rtl"}const KW={convertOffsetParentRelativeRectToViewportRelativeRect:RW,getDocumentElement:Xa,getClippingRect:WW,getOffsetParent:NM,getElementRects:HW,getClientRects:DW,getDimensions:qW,getScale:oc,isElement:ha,isRTL:GW};function kM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YW(e,t){let r=null,n;const a=Xa(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=cm(f),p=cm(a.clientWidth-(d+h)),v=cm(a.clientHeight-(f+m)),x=cm(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-x+"px",threshold:ln(0,Fi(1,c))||1};let j=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!kM(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return o(!0),s}function XW(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Aj(e),d=a||s?[...u?ff(u):[],...ff(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?YW(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Yo(e):null;c&&v();function v(){const x=Yo(e);p&&!kM(p,x)&&r(),p=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const ZW=wW,QW=jW,JW=yW,e9=SW,t9=xW,Sk=vW,r9=_W,n9=(e,t,r)=>{const n=new Map,a={platform:KW,...r},s={...a.platform,_c:n};return gW(e,t,{...a,platform:s})};var a9=typeof document<"u",s9=function(){},Km=a9?y.useLayoutEffect:s9;function kp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!kp(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!kp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function EM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Nk(e,t){const r=EM(e);return Math.round(t*r)/r}function dx(e){const t=y.useRef(e);return Km(()=>{t.current=e}),t}function i9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);kp(h,n)||m(n);const[g,p]=y.useState(null),[v,x]=y.useState(null),b=y.useCallback(R=>{R!==S.current&&(S.current=R,p(R))},[]),w=y.useCallback(R=>{R!==N.current&&(N.current=R,x(R))},[]),j=s||g,_=o||v,S=y.useRef(null),N=y.useRef(null),k=y.useRef(d),E=c!=null,O=dx(c),C=dx(a),P=dx(u),A=y.useCallback(()=>{if(!S.current||!N.current)return;const R={placement:t,strategy:r,middleware:h};C.current&&(R.platform=C.current),n9(S.current,N.current,R).then(L=>{const W={...L,isPositioned:P.current!==!1};T.current&&!kp(k.current,W)&&(k.current=W,ul.flushSync(()=>{f(W)}))})},[h,t,r,C,P]);Km(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const T=y.useRef(!1);Km(()=>(T.current=!0,()=>{T.current=!1}),[]),Km(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(O.current)return O.current(j,_,A);A()}},[j,_,A,O,E]);const M=y.useMemo(()=>({reference:S,floating:N,setReference:b,setFloating:w}),[b,w]),I=y.useMemo(()=>({reference:j,floating:_}),[j,_]),B=y.useMemo(()=>{const R={position:r,left:0,top:0};if(!I.floating)return R;const L=Nk(I.floating,d.x),W=Nk(I.floating,d.y);return l?{...R,transform:"translate("+L+"px, "+W+"px)",...EM(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:W}},[r,l,I.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:A,refs:M,elements:I,floatingStyles:B}),[d,A,M,I,B])}const o9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Sk({element:n.current,padding:a}).fn(r):{}:n?Sk({element:n,padding:a}).fn(r):{}}}},l9=(e,t)=>({...ZW(e),options:[e,t]}),c9=(e,t)=>({...QW(e),options:[e,t]}),u9=(e,t)=>({...r9(e),options:[e,t]}),d9=(e,t)=>({...JW(e),options:[e,t]}),f9=(e,t)=>({...e9(e),options:[e,t]}),h9=(e,t)=>({...t9(e),options:[e,t]}),m9=(e,t)=>({...o9(e),options:[e,t]});var p9="Arrow",PM=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(_e.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});PM.displayName=p9;var g9=PM;function Tj(e){const[t,r]=y.useState(void 0);return It(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var $j="Popper",[CM,bu]=Ur($j),[v9,OM]=CM($j),AM=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return i.jsx(v9,{scope:t,anchor:n,onAnchorChange:a,children:r})};AM.displayName=$j;var TM="PopperAnchor",$M=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=OM(TM,r),o=y.useRef(null),l=De(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:i.jsx(_e.div,{...a,ref:l})});$M.displayName=TM;var Mj="PopperContent",[y9,x9]=CM(Mj),MM=y.forwardRef((e,t)=>{var te,we,Q,ne,de,q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=OM(Mj,r),[x,b]=y.useState(null),w=De(t,Me=>b(Me)),[j,_]=y.useState(null),S=Tj(j),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,E=n+(s!=="center"?"-"+s:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],P=C.length>0,A={padding:O,boundary:C.filter(w9),altBoundary:P},{refs:T,floatingStyles:M,placement:I,isPositioned:B,middlewareData:R}=i9({strategy:"fixed",placement:E,whileElementsMounted:(...Me)=>XW(...Me,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[l9({mainAxis:a+k,alignmentAxis:o}),c&&c9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?u9():void 0,...A}),c&&d9({...A}),f9({...A,apply:({elements:Me,rects:Pe,availableWidth:et,availableHeight:tt})=>{const{width:_t,height:Pr}=Pe.reference,vr=Me.floating.style;vr.setProperty("--radix-popper-available-width",`${et}px`),vr.setProperty("--radix-popper-available-height",`${tt}px`),vr.setProperty("--radix-popper-anchor-width",`${_t}px`),vr.setProperty("--radix-popper-anchor-height",`${Pr}px`)}}),j&&m9({element:j,padding:l}),j9({arrowWidth:N,arrowHeight:k}),h&&h9({strategy:"referenceHidden",...A})]}),[L,W]=DM(I),Z=Ht(g);It(()=>{B&&(Z==null||Z())},[B,Z]);const G=(te=R.arrow)==null?void 0:te.x,ee=(we=R.arrow)==null?void 0:we.y,fe=((Q=R.arrow)==null?void 0:Q.centerOffset)!==0,[U,Ne]=y.useState();return It(()=>{x&&Ne(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:B?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(ne=R.transformOrigin)==null?void 0:ne.x,(de=R.transformOrigin)==null?void 0:de.y].join(" "),...((q=R.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(y9,{scope:r,placedSide:L,onArrowChange:_,arrowX:G,arrowY:ee,shouldHideArrow:fe,children:i.jsx(_e.div,{"data-side":L,"data-align":W,...p,ref:w,style:{...p.style,animation:B?void 0:"none"}})})})});MM.displayName=Mj;var IM="PopperArrow",b9={top:"bottom",right:"left",bottom:"top",left:"right"},RM=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=x9(IM,n),o=b9[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(g9,{...a,ref:r,style:{...a.style,display:"block"}})})});RM.displayName=IM;function w9(e){return e!==null}var j9=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=DM(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function DM(e){const[t,r="center"]=e.split("-");return[t,r]}var Ij=AM,mv=$M,Rj=MM,Dj=RM,[pv,nEe]=Ur("Tooltip",[bu]),gv=bu(),LM="TooltipProvider",_9=700,f0="tooltip.open",[S9,Lj]=pv(LM),FM=e=>{const{__scopeTooltip:t,delayDuration:r=_9,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(S9,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};FM.displayName=LM;var hf="Tooltip",[N9,vv]=pv(hf),BM=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=Lj(hf,e.__scopeTooltip),u=gv(t),[d,f]=y.useState(null),h=ua(),m=y.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,v=y.useRef(!1),[x,b]=fa({prop:n,defaultProp:a??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(f0))):c.onClose(),s==null||s(N)},caller:hf}),w=y.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),j=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,b(!0)},[b]),_=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),S=y.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,b(!0),m.current=0},p)},[p,b]);return y.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),i.jsx(Ij,{...u,children:i.jsx(N9,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:y.useCallback(()=>{g?_():(window.clearTimeout(m.current),m.current=0)},[_,g]),onOpen:j,onClose:_,disableHoverableContent:g,children:r})})};BM.displayName=hf;var h0="TooltipTrigger",zM=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=vv(h0,r),s=Lj(h0,r),o=gv(r),l=y.useRef(null),c=De(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(mv,{asChild:!0,...o,children:i.jsx(_e.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ge(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ge(e.onBlur,a.onClose),onClick:ge(e.onClick,a.onClose)})})});zM.displayName=h0;var k9="TooltipPortal",[aEe,E9]=pv(k9,{forceMount:void 0}),Mc="TooltipContent",UM=y.forwardRef((e,t)=>{const r=E9(Mc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=vv(Mc,e.__scopeTooltip);return i.jsx(Wr,{present:n||o.open,children:o.disableHoverableContent?i.jsx(WM,{side:a,...s,ref:t}):i.jsx(P9,{side:a,...s,ref:t})})}),P9=y.forwardRef((e,t)=>{const r=vv(Mc,e.__scopeTooltip),n=Lj(Mc,e.__scopeTooltip),a=y.useRef(null),s=De(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),m=y.useCallback((g,p)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},b=$9(x,v.getBoundingClientRect()),w=M9(x,b),j=I9(p.getBoundingClientRect()),_=D9([...w,...j]);l(_),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),y.useEffect(()=>{if(o){const g=p=>{const v=p.target,x={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!R9(x,o);b?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(WM,{...e,ref:s})}),[C9,O9]=pv(hf,{isInside:!1}),A9=hB("TooltipContent"),WM=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=vv(Mc,r),u=gv(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(f0,d),()=>document.removeEventListener(f0,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Rj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(A9,{children:n}),i.jsx(C9,{scope:r,isInside:!0,children:i.jsx(IB,{id:c.contentId,role:"tooltip",children:a||n})})]})})});UM.displayName=Mc;var qM="TooltipArrow",T9=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=gv(r);return O9(qM,r).isInside?null:i.jsx(Dj,{...a,...n,ref:t})});T9.displayName=qM;function $9(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function M9(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function I9(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function R9(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function D9(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),L9(t)}function L9(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var F9=FM,B9=BM,z9=zM,VM=UM;const HM=F9,U9=B9,W9=z9,GM=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(VM,{ref:n,sideOffset:t,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));GM.displayName=VM.displayName;var yv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},q9={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ii,j1,rA,V9=(rA=class{constructor(){Ve(this,ii,q9);Ve(this,j1,!1)}setTimeoutProvider(e){Ce(this,ii,e)}setTimeout(e,t){return X(this,ii).setTimeout(e,t)}clearTimeout(e){X(this,ii).clearTimeout(e)}setInterval(e,t){return X(this,ii).setInterval(e,t)}clearInterval(e){X(this,ii).clearInterval(e)}},ii=new WeakMap,j1=new WeakMap,rA),m0=new V9;function H9(e){setTimeout(e,0)}var xv=typeof window>"u"||"Deno"in globalThis;function Yn(){}function G9(e,t){return typeof e=="function"?e(t):e}function K9(e){return typeof e=="number"&&e>=0&&e!==1/0}function Y9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function p0(e,t){return typeof e=="function"?e(t):e}function X9(e,t){return typeof e=="function"?e(t):e}function kk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Fj(o,t.options))return!1}else if(!pf(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function Ek(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(mf(t.options.mutationKey)!==mf(s))return!1}else if(!pf(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Fj(e,t){return((t==null?void 0:t.queryKeyHashFn)||mf)(e)}function mf(e){return JSON.stringify(e,(t,r)=>g0(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function pf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>pf(e[r],t[r])):!1}var Z9=Object.prototype.hasOwnProperty;function KM(e,t){if(e===t)return e;const r=Pk(e)&&Pk(t);if(!r&&!(g0(e)&&g0(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),o=s.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:Z9.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=KM(f,h);l[d]=m,m===f&&c++}return a===o&&c===a?e:l}function Pk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g0(e){if(!Ck(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ck(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ck(e){return Object.prototype.toString.call(e)==="[object Object]"}function Q9(e){return new Promise(t=>{m0.setTimeout(t,e)})}function J9(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?KM(e,t):t}function eq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function tq(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Bj=Symbol();function YM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ko,oi,pc,nA,rq=(nA=class extends yv{constructor(){super();Ve(this,ko);Ve(this,oi);Ve(this,pc);Ce(this,pc,t=>{if(!xv&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){X(this,oi)||this.setEventListener(X(this,pc))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,oi))==null||t.call(this),Ce(this,oi,void 0))}setEventListener(t){var r;Ce(this,pc,t),(r=X(this,oi))==null||r.call(this),Ce(this,oi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){X(this,ko)!==t&&(Ce(this,ko,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof X(this,ko)=="boolean"?X(this,ko):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ko=new WeakMap,oi=new WeakMap,pc=new WeakMap,nA),XM=new rq;function nq(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var aq=H9;function sq(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=aq;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Mr=sq(),gc,li,vc,aA,iq=(aA=class extends yv{constructor(){super();Ve(this,gc,!0);Ve(this,li);Ve(this,vc);Ce(this,vc,t=>{if(!xv&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){X(this,li)||this.setEventListener(X(this,vc))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,li))==null||t.call(this),Ce(this,li,void 0))}setEventListener(t){var r;Ce(this,vc,t),(r=X(this,li))==null||r.call(this),Ce(this,li,t(this.setOnline.bind(this)))}setOnline(t){X(this,gc)!==t&&(Ce(this,gc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return X(this,gc)}},gc=new WeakMap,li=new WeakMap,vc=new WeakMap,aA),Ep=new iq;function oq(e){return Math.min(1e3*2**e,3e4)}function ZM(e){return(e??"online")==="online"?Ep.isOnline():!0}var v0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function QM(e){let t=!1,r=0,n;const a=nq(),s=()=>a.status!=="pending",o=p=>{var v;if(!s()){const x=new v0(p);h(x),(v=e.onCancel)==null||v.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>XM.isFocused()&&(e.networkMode==="always"||Ep.isOnline())&&e.canRun(),d=()=>ZM(e.networkMode)&&e.canRun(),f=p=>{s()||(n==null||n(),a.resolve(p))},h=p=>{s()||(n==null||n(),a.reject(p))},m=()=>new Promise(p=>{var v;n=x=>{(s()||u())&&p(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;n=void 0,s()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(s())return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var S;if(s())return;const b=e.retry??(xv?0:3),w=e.retryDelay??oq,j=typeof w=="function"?w(r,x):w,_=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!_){h(x);return}r++,(S=e.onFail)==null||S.call(e,r,x),Q9(j).then(()=>u()?void 0:m()).then(()=>{t?h(x):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}var Eo,sA,JM=(sA=class{constructor(){Ve(this,Eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K9(this.gcTime)&&Ce(this,Eo,m0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xv?1/0:5*60*1e3))}clearGcTimeout(){X(this,Eo)&&(m0.clearTimeout(X(this,Eo)),Ce(this,Eo,void 0))}},Eo=new WeakMap,sA),Po,yc,wn,Co,ir,ah,Oo,Xn,ss,iA,lq=(iA=class extends JM{constructor(t){super();Ve(this,Xn);Ve(this,Po);Ve(this,yc);Ve(this,wn);Ve(this,Co);Ve(this,ir);Ve(this,ah);Ve(this,Oo);Ce(this,Oo,!1),Ce(this,ah,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ce(this,Co,t.client),Ce(this,wn,X(this,Co).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ce(this,Po,Ok(this.options)),this.state=t.state??X(this,Po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=X(this,ir))==null?void 0:t.promise}setOptions(t){if(this.options={...X(this,ah),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Ok(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Ce(this,Po,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,wn).remove(this)}setData(t,r){const n=J9(this.state.data,t,this.options);return yr(this,Xn,ss).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){yr(this,Xn,ss).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=X(this,ir))==null?void 0:n.promise;return(a=X(this,ir))==null||a.cancel(t),r?r.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Po))}isActive(){return this.observers.some(t=>X9(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>p0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Y9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=X(this,ir))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=X(this,ir))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),X(this,wn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(X(this,ir)&&(X(this,Oo)?X(this,ir).cancel({revert:!0}):X(this,ir).cancelRetry()),this.scheduleGc()),X(this,wn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yr(this,Xn,ss).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,v,x,b,w;if(this.state.fetchStatus!=="idle"&&((c=X(this,ir))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(X(this,ir))return X(this,ir).continueRetry(),X(this,ir).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Ce(this,Oo,!0),n.signal)})},s=()=>{const j=YM(this.options,r),S=(()=>{const N={client:X(this,Co),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return Ce(this,Oo,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:X(this,Co),state:this.state,fetchFn:s};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Ce(this,yc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&yr(this,Xn,ss).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ce(this,ir,QM({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof v0&&j.revert&&this.setState({...X(this,yc),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{yr(this,Xn,ss).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{yr(this,Xn,ss).call(this,{type:"pause"})},onContinue:()=>{yr(this,Xn,ss).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await X(this,ir).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=X(this,wn).config).onSuccess)==null||m.call(h,j,this),(p=(g=X(this,wn).config).onSettled)==null||p.call(g,j,this.state.error,this),j}catch(j){if(j instanceof v0){if(j.silent)return X(this,ir).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw yr(this,Xn,ss).call(this,{type:"error",error:j}),(x=(v=X(this,wn).config).onError)==null||x.call(v,j,this),(w=(b=X(this,wn).config).onSettled)==null||w.call(b,this.state.data,j,this),j}finally{this.scheduleGc()}}},Po=new WeakMap,yc=new WeakMap,wn=new WeakMap,Co=new WeakMap,ir=new WeakMap,ah=new WeakMap,Oo=new WeakMap,Xn=new WeakSet,ss=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cq(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ce(this,yc,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Mr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),X(this,wn).notify({query:this,type:"updated",action:t})})},iA);function cq(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ok(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Ak(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=YM(t.options,t.fetchOptions),b=async(w,j,_)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return v(C),C})(),k=await x(N),{maxPages:E}=t.options,O=_?tq:eq;return{pages:O(w.pages,k,E),pageParams:O(w.pageParams,j,E)}};if(a&&s.length){const w=a==="backward",j=w?uq:Tk,_={pages:s,pageParams:o},S=j(n,_);l=await b(_,S,w)}else{const w=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:Tk(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Tk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function uq(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ca,Ar,Ao,Oa,Ks,oA,dq=(oA=class extends JM{constructor(t){super();Ve(this,Oa);Ve(this,Ca);Ve(this,Ar);Ve(this,Ao);this.mutationId=t.mutationId,Ce(this,Ar,t.mutationCache),Ce(this,Ca,[]),this.state=t.state||fq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){X(this,Ca).includes(t)||(X(this,Ca).push(t),this.clearGcTimeout(),X(this,Ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ce(this,Ca,X(this,Ca).filter(r=>r!==t)),this.scheduleGc(),X(this,Ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){X(this,Ca).length||(this.state.status==="pending"?this.scheduleGc():X(this,Ar).remove(this))}continue(){var t;return((t=X(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,g,p,v,x,b,w,j,_,S,N,k;const r=()=>{yr(this,Oa,Ks).call(this,{type:"continue"})};Ce(this,Ao,QM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,O)=>{yr(this,Oa,Ks).call(this,{type:"failed",failureCount:E,error:O})},onPause:()=>{yr(this,Oa,Ks).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,Ar).canRun(this)}));const n=this.state.status==="pending",a=!X(this,Ao).canStart();try{if(n)r();else{yr(this,Oa,Ks).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=X(this,Ar).config).onMutate)==null?void 0:o.call(s,t,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));O!==this.state.context&&yr(this,Oa,Ks).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const E=await X(this,Ao).start();return await((d=(u=X(this,Ar).config).onSuccess)==null?void 0:d.call(u,E,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,E,t,this.state.context)),await((g=(m=X(this,Ar).config).onSettled)==null?void 0:g.call(m,E,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,E,null,t,this.state.context)),yr(this,Oa,Ks).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(x=X(this,Ar).config).onError)==null?void 0:b.call(x,E,t,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,E,t,this.state.context)),await((S=(_=X(this,Ar).config).onSettled)==null?void 0:S.call(_,void 0,E,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,E,t,this.state.context)),E}finally{yr(this,Oa,Ks).call(this,{type:"error",error:E})}}finally{X(this,Ar).runNext(this)}}},Ca=new WeakMap,Ar=new WeakMap,Ao=new WeakMap,Oa=new WeakSet,Ks=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mr.batch(()=>{X(this,Ca).forEach(n=>{n.onMutationUpdate(t)}),X(this,Ar).notify({mutation:this,type:"updated",action:t})})},oA);function fq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var us,Zn,sh,lA,hq=(lA=class extends yv{constructor(t={}){super();Ve(this,us);Ve(this,Zn);Ve(this,sh);this.config=t,Ce(this,us,new Set),Ce(this,Zn,new Map),Ce(this,sh,0)}build(t,r,n){const a=new dq({mutationCache:this,mutationId:++Uh(this,sh)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){X(this,us).add(t);const r=um(t);if(typeof r=="string"){const n=X(this,Zn).get(r);n?n.push(t):X(this,Zn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(X(this,us).delete(t)){const r=um(t);if(typeof r=="string"){const n=X(this,Zn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&X(this,Zn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=um(t);if(typeof r=="string"){const n=X(this,Zn).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=um(t);if(typeof r=="string"){const a=(n=X(this,Zn).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mr.batch(()=>{X(this,us).forEach(t=>{this.notify({type:"removed",mutation:t})}),X(this,us).clear(),X(this,Zn).clear()})}getAll(){return Array.from(X(this,us))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ek(r,n))}findAll(t={}){return this.getAll().filter(r=>Ek(t,r))}notify(t){Mr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Mr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Yn))))}},us=new WeakMap,Zn=new WeakMap,sh=new WeakMap,lA);function um(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Aa,cA,mq=(cA=class extends yv{constructor(t={}){super();Ve(this,Aa);this.config=t,Ce(this,Aa,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Fj(a,r);let o=this.get(s);return o||(o=new lq({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){X(this,Aa).has(t.queryHash)||(X(this,Aa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=X(this,Aa).get(t.queryHash);r&&(t.destroy(),r===t&&X(this,Aa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return X(this,Aa).get(t)}getAll(){return[...X(this,Aa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>kk(t,n)):r}notify(t){Mr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Mr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Aa=new WeakMap,cA),Tt,ci,ui,xc,bc,di,wc,jc,uA,pq=(uA=class{constructor(e={}){Ve(this,Tt);Ve(this,ci);Ve(this,ui);Ve(this,xc);Ve(this,bc);Ve(this,di);Ve(this,wc);Ve(this,jc);Ce(this,Tt,e.queryCache||new mq),Ce(this,ci,e.mutationCache||new hq),Ce(this,ui,e.defaultOptions||{}),Ce(this,xc,new Map),Ce(this,bc,new Map),Ce(this,di,0)}mount(){Uh(this,di)._++,X(this,di)===1&&(Ce(this,wc,XM.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Tt).onFocus())})),Ce(this,jc,Ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Tt).onOnline())})))}unmount(){var e,t;Uh(this,di)._--,X(this,di)===0&&((e=X(this,wc))==null||e.call(this),Ce(this,wc,void 0),(t=X(this,jc))==null||t.call(this),Ce(this,jc,void 0))}isFetching(e){return X(this,Tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return X(this,ci).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=X(this,Tt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=X(this,Tt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(p0(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return X(this,Tt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=X(this,Tt).get(n.queryHash),s=a==null?void 0:a.state.data,o=G9(t,s);if(o!==void 0)return X(this,Tt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Mr.batch(()=>X(this,Tt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=X(this,Tt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=X(this,Tt);Mr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=X(this,Tt);return Mr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Mr.batch(()=>X(this,Tt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Yn).catch(Yn)}invalidateQueries(e,t={}){return Mr.batch(()=>(X(this,Tt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Mr.batch(()=>X(this,Tt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Yn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Yn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=X(this,Tt).build(this,t);return r.isStaleByTime(p0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yn).catch(Yn)}fetchInfiniteQuery(e){return e.behavior=Ak(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yn).catch(Yn)}ensureInfiniteQueryData(e){return e.behavior=Ak(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ep.isOnline()?X(this,ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Tt)}getMutationCache(){return X(this,ci)}getDefaultOptions(){return X(this,ui)}setDefaultOptions(e){Ce(this,ui,e)}setQueryDefaults(e,t){X(this,xc).set(mf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...X(this,xc).values()],r={};return t.forEach(n=>{pf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){X(this,bc).set(mf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...X(this,bc).values()],r={};return t.forEach(n=>{pf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...X(this,ui).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Bj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...X(this,ui).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){X(this,Tt).clear(),X(this,ci).clear()}},Tt=new WeakMap,ci=new WeakMap,ui=new WeakMap,xc=new WeakMap,bc=new WeakMap,di=new WeakMap,wc=new WeakMap,jc=new WeakMap,uA),gq=y.createContext(void 0),vq=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(gq.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}var mi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mi||(mi={}));const $k="popstate";function yq(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return y0("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:tI(a)}return bq(t,r,null,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xq(){return Math.random().toString(36).substr(2,8)}function Mk(e,t){return{usr:e.state,key:e.key,idx:t}}function y0(e,t,r,n){return r===void 0&&(r=null),gf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wu(t):t,{state:r,key:t&&t.key||n||xq()})}function tI(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bq(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=mi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(gf({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=mi.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:x})}function h(v,x){l=mi.Push;let b=y0(p.location,v,x);u=d()+1;let w=Mk(b,u),j=p.createHref(b);try{o.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,x){l=mi.Replace;let b=y0(p.location,v,x);u=d();let w=Mk(b,u),j=p.createHref(b);o.replaceState(w,"",j),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:tI(v);return b=b.replace(/ $/,"%20"),Gt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener($k,f),c=v,()=>{a.removeEventListener($k,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var Ik;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ik||(Ik={}));function wq(e,t,r){return r===void 0&&(r="/"),jq(e,t,r)}function jq(e,t,r,n){let a=typeof t=="string"?wu(t):t,s=aI(a.pathname||"/",r);if(s==null)return null;let o=rI(e);_q(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Iq(s);l=Tq(o[c],u)}return l}function rI(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Gt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Fo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rI(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Oq(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of nI(s.path))a(s,o,c)}),t}function nI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=nI(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _q(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Aq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Sq=/^:[\w-]+$/,Nq=3,kq=2,Eq=1,Pq=10,Cq=-2,Rk=e=>e==="*";function Oq(e,t){let r=e.split("/"),n=r.length;return r.some(Rk)&&(n+=Cq),t&&(n+=kq),r.filter(a=>!Rk(a)).reduce((a,s)=>a+(Sq.test(s)?Nq:s===""?Eq:Pq),n)}function Aq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Tq(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=$q({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Fo([s,f.pathname]),pathnameBase:Fq(Fo([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Fo([s,f.pathnameBase]))}return o}function $q(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Mq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Mq(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Iq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aI(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Rq(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?wu(e):e;return{pathname:r?r.startsWith("/")?r:Dq(r,t):t,search:Bq(n),hash:zq(a)}}function Dq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sI(e,t){let r=Lq(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iI(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=wu(e):(a=gf({},e),Gt(!a.pathname||!a.pathname.includes("?"),fx("?","pathname","search",a)),Gt(!a.pathname||!a.pathname.includes("#"),fx("#","pathname","hash",a)),Gt(!a.search||!a.search.includes("#"),fx("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Rq(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Fo=e=>e.join("/").replace(/\/\/+/g,"/"),Fq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oI=["post","put","patch","delete"];new Set(oI);const Wq=["get",...oI];new Set(Wq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}const zj=y.createContext(null),qq=y.createContext(null),vh=y.createContext(null),bv=y.createContext(null),dl=y.createContext({outlet:null,matches:[],isDataRoute:!1}),lI=y.createContext(null);function yh(){return y.useContext(bv)!=null}function xh(){return yh()||Gt(!1),y.useContext(bv).location}function cI(e){y.useContext(vh).static||y.useLayoutEffect(e)}function Je(){let{isDataRoute:e}=y.useContext(dl);return e?nV():Vq()}function Vq(){yh()||Gt(!1);let e=y.useContext(zj),{basename:t,future:r,navigator:n}=y.useContext(vh),{matches:a}=y.useContext(dl),{pathname:s}=xh(),o=JSON.stringify(sI(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return cI(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=iI(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function Hq(e,t){return Gq(e,t)}function Gq(e,t,r,n){yh()||Gt(!1);let{navigator:a}=y.useContext(vh),{matches:s}=y.useContext(dl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=xh(),d;if(t){var f;let v=typeof t=="string"?wu(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Gt(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=wq(e,{pathname:m}),p=Qq(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Fo([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Fo([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?y.createElement(bv.Provider,{value:{location:vf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mi.Pop}},p):p}function Kq(){let e=rV(),t=Uq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const Yq=y.createElement(Kq,null);class Xq extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(dl.Provider,{value:this.props.routeContext},y.createElement(lI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zq(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(zj);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(dl.Provider,{value:t},n)}function Qq(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Yq,c&&(u<0&&h===0?(aV("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(Zq,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(Xq,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var uI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uI||{}),dI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dI||{});function Jq(e){let t=y.useContext(zj);return t||Gt(!1),t}function eV(e){let t=y.useContext(qq);return t||Gt(!1),t}function tV(e){let t=y.useContext(dl);return t||Gt(!1),t}function fI(e){let t=tV(),r=t.matches[t.matches.length-1];return r.route.id||Gt(!1),r.route.id}function rV(){var e;let t=y.useContext(lI),r=eV(),n=fI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function nV(){let{router:e}=Jq(uI.UseNavigateStable),t=fI(dI.UseNavigateStable),r=y.useRef(!1);return cI(()=>{r.current=!0}),y.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vf({fromRouteId:t},s)))},[e,t])}const Dk={};function aV(e,t,r){Dk[e]||(Dk[e]=!0)}function sV(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function iV(e){let{to:t,replace:r,state:n,relative:a}=e;yh()||Gt(!1);let{future:s,static:o}=y.useContext(vh),{matches:l}=y.useContext(dl),{pathname:c}=xh(),u=Je(),d=iI(t,sI(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function lt(e){Gt(!1)}function oV(e){let{basename:t="/",children:r=null,location:n,navigationType:a=mi.Pop,navigator:s,static:o=!1,future:l}=e;yh()&&Gt(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:s,static:o,future:vf({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=wu(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let v=aI(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:y.createElement(vh.Provider,{value:u},y.createElement(bv.Provider,{children:r,value:p}))}function lV(e){let{children:t,location:r}=e;return Hq(x0(t),r)}new Promise(()=>{});function x0(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let s=[...t,a];if(n.type===y.Fragment){r.push.apply(r,x0(n.props.children,s));return}n.type!==lt&&Gt(!1),!n.props.index||!n.props.children||Gt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=x0(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function cV(e,t){let r=b0(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const uV="6";try{window.__reactRouterVersion=uV}catch{}const dV="startTransition",Lk=E1[dV];function fV(e){let{basename:t,children:r,future:n,window:a}=e,s=y.useRef();s.current==null&&(s.current=yq({window:a,v5Compat:!0}));let o=s.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&Lk?Lk(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>sV(n),[n]),y.createElement(oV,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var Fk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fk||(Fk={}));var Bk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bk||(Bk={}));function Hi(e){let t=y.useRef(b0(e)),r=y.useRef(!1),n=xh(),a=y.useMemo(()=>cV(n.search,r.current?null:t.current),[n.search]),s=Je(),o=y.useCallback((l,c)=>{const u=b0(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}const hV="modulepreload",mV=function(e){return"/"+e},zk={},fl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=mV(c),c in zk)return;zk[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":hV,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},pV=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fl(async()=>{const{default:n}=await Promise.resolve().then(()=>ju);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Uj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gV extends Uj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uk extends Uj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wk extends Uj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var w0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(w0||(w0={}));var vV=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class yV{constructor(t,{headers:r={},customFetch:n,region:a=w0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=pV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return vV(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(p=>{throw new gV(p)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Uk(f);if(!f.ok)throw new Wk(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Wk||a instanceof Uk?a.context:void 0}}})}}var Kr={},Wj={},wv={},bh={},jv={},_v={},xV=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ic=xV();const bV=Ic.fetch,hI=Ic.fetch.bind(Ic),mI=Ic.Headers,wV=Ic.Request,jV=Ic.Response,ju=Object.freeze(Object.defineProperty({__proto__:null,Headers:mI,Request:wV,Response:jV,default:hI,fetch:bV},Symbol.toStringTag,{value:"Module"})),_V=$F(ju);var Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});let SV=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sv.default=SV;var pI=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_v,"__esModule",{value:!0});const NV=pI(_V),kV=pI(Sv);let EV=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=NV.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c,u;let d=null,f=null,h=null,m=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=s.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await s.text();try{d=JSON.parse(v),Array.isArray(d)&&s.status===404&&(f=[],d=null,m=200,g="OK")}catch{s.status===404&&v===""?(m=204,g="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new kV.default(d)}return{error:d,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,c;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};_v.default=EV;var PV=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jv,"__esModule",{value:!0});const CV=PV(_v);let OV=class extends CV.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};jv.default=OV;var AV=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bh,"__esModule",{value:!0});const TV=AV(jv);let $V=class extends TV.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bh.default=$V;var MV=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wv,"__esModule",{value:!0});const td=MV(bh);let IV=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new td.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new td.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new td.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new td.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new td.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};wv.default=IV;var gI=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wj,"__esModule",{value:!0});const RV=gI(wv),DV=gI(bh);let LV=class vI{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new RV.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new DV.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Wj.default=LV;var _u=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.PostgrestError=Kr.PostgrestBuilder=Kr.PostgrestTransformBuilder=Kr.PostgrestFilterBuilder=Kr.PostgrestQueryBuilder=Kr.PostgrestClient=void 0;const yI=_u(Wj);Kr.PostgrestClient=yI.default;const xI=_u(wv);Kr.PostgrestQueryBuilder=xI.default;const bI=_u(bh);Kr.PostgrestFilterBuilder=bI.default;const wI=_u(jv);Kr.PostgrestTransformBuilder=wI.default;const jI=_u(_v);Kr.PostgrestBuilder=jI.default;const _I=_u(Sv);Kr.PostgrestError=_I.default;var FV=Kr.default={PostgrestClient:yI.default,PostgrestQueryBuilder:xI.default,PostgrestFilterBuilder:bI.default,PostgrestTransformBuilder:wI.default,PostgrestBuilder:jI.default,PostgrestError:_I.default};const{PostgrestClient:BV,PostgrestQueryBuilder:uEe,PostgrestFilterBuilder:dEe,PostgrestTransformBuilder:fEe,PostgrestBuilder:hEe,PostgrestError:mEe}=FV;class zV{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UV="2.15.5",WV=`realtime-js/${UV}`,qV="1.0.0",j0=1e4,VV=1e3,HV=100;var $d;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($d||($d={}));var Qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qt||(Qt={}));var Jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jn||(Jn={}));var _0;(function(e){e.websocket="websocket"})(_0||(_0={}));var go;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(go||(go={}));class GV{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class SI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mt||(mt={}));const qk=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=KV(o,e,t,a),s),{})},KV=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?NI(s,o):S0(o)},NI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QV(t,r)}switch(e){case mt.bool:return YV(t);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return XV(t);case mt.json:case mt.jsonb:return ZV(t);case mt.timestamp:return JV(t);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return S0(t);default:return S0(t)}},S0=e=>e,YV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QV=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>NI(t,l))}return e},JV=e=>typeof e=="string"?e.replace(" ","T"):e,kI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class hx{constructor(t,r,n={},a=j0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vk||(Vk={}));class Md{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Md.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=Md.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Md.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hk||(Hk={}));var Id;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Id||(Id={}));var ls;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class qj{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hx(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new SI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Md(this),this.broadcastEndpointURL=kI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Qt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Id.PRESENCE]&&this.bindings[Id.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ls.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ls.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(ls.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,x=[];for(let b=0;b<v;b++){const w=p[b],{filter:{event:j,schema:_,table:S,filter:N}}=w,k=m&&m[b];if(k&&k.event===j&&k.schema===_&&k.table===S&&k.filter===N)x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Qt.errored,t==null||t(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ls.SUBSCRIBED);return}}).receive("error",m=>{this.state=Qt.errored,t==null||t(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Qt.joined&&t===Id.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new hx(this,Jn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new hx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>HV){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Jn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var g,p,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:x,type:b,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&qj.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jn.close,{},t)}_onError(t){this._on(Jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qk(t.columns,t.old_record)),r}}const mx=()=>{},dm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e7=[1e3,2e3,5e3,1e4],t7=1e4,r7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n7{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j0,this.transport=null,this.heartbeatIntervalMs=dm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mx,this.ref=0,this.reconnectTimer=null,this.logger=mx,this.conn=null,this.sendBuffer=[],this.serializer=new GV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>fl(async()=>{const{default:l}=await Promise.resolve().then(()=>ju);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_0.websocket}`,this.httpEndpoint=kI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qV}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $d.connecting:return go.Connecting;case $d.open:return go.Open;case $d.closing:return go.Closing;default:return go.Closed}}isConnected(){return this.connectionState()===go.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new qj(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},dm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:o}=r,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([r7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:WV};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new SI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:j0,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:dm.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:mx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>e7[f-1]||t7,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Vj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class a7 extends Vj{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N0 extends Vj{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var s7=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const EI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fl(async()=>{const{default:n}=await Promise.resolve().then(()=>ju);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},i7=()=>s7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fl(()=>Promise.resolve().then(()=>ju),void 0)).Response:Response}),k0=e=>{if(Array.isArray(e))return e.map(r=>k0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=k0(n)}),t},o7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var hl=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const px=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l7=(e,t,r)=>hl(void 0,void 0,void 0,function*(){const n=yield i7();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,o=(a==null?void 0:a.statusCode)||s+"";t(new a7(px(a),s,o))}).catch(a=>{t(new N0(px(a),a))}):t(new N0(px(e),e))}),c7=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(o7(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function wh(e,t,r,n,a,s){return hl(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,c7(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>l7(c,l,n))})})}function Pp(e,t,r,n){return hl(this,void 0,void 0,function*(){return wh(e,"GET",t,r,n)})}function ka(e,t,r,n,a){return hl(this,void 0,void 0,function*(){return wh(e,"POST",t,n,a,r)})}function E0(e,t,r,n,a){return hl(this,void 0,void 0,function*(){return wh(e,"PUT",t,n,a,r)})}function u7(e,t,r,n){return hl(this,void 0,void 0,function*(){return wh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function PI(e,t,r,n,a){return hl(this,void 0,void 0,function*(){return wh(e,"DELETE",t,n,a,r)})}var Cr=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const d7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class f7{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=EI(a)}uploadOrUpdate(t,r,n,a){return Cr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Gk),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?E0:ka)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Cr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Gk.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield E0(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(Jt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Cr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield ka(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new Vj("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Cr(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Jt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Cr(this,void 0,void 0,function*(){try{return{data:{path:(yield ka(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Jt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Cr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield ka(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(Jt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Cr(this,void 0,void 0,function*(){try{const a=yield ka(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(Jt(a))return{data:null,error:a};throw a}})}download(t,r){return Cr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Pp(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Jt(l))return{data:null,error:l};throw l}})}info(t){return Cr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Pp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:k0(n),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}exists(t){return Cr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield u7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Jt(n)&&n instanceof N0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Cr(this,void 0,void 0,function*(){try{return{data:yield PI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Cr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},d7),r),{prefix:t||""});return{data:yield ka(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Jt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Cr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ka(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const h7="2.11.1",m7={"X-Client-Info":`storage-js/${h7}`};var bl=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class p7{constructor(t,r={},n,a){const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},m7),r),this.fetch=EI(n)}listBuckets(){return bl(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}getBucket(t){return bl(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return bl(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return bl(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return bl(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return bl(this,void 0,void 0,function*(){try{return{data:yield PI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}}class g7 extends p7{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new f7(this.url,this.headers,t,this.fetch)}}const v7="2.57.2";let yd="";typeof Deno<"u"?yd="deno":typeof document<"u"?yd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yd="react-native":yd="node";const y7={"X-Client-Info":`supabase-js-${yd}/${v7}`},x7={headers:y7},b7={schema:"public"},w7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j7={};var _7=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const S7=e=>{let t;return e?t=e:typeof fetch>"u"?t=hI:t=fetch,(...r)=>t(...r)},N7=()=>typeof Headers>"u"?mI:Headers,k7=(e,t,r)=>{const n=S7(r),a=N7();return(s,o)=>_7(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var E7=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function P7(e){return e.endsWith("/")?e:e+"/"}function C7(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>E7(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const CI="2.71.1",Il=30*1e3,P0=3,gx=P0*Il,O7="http://localhost:9999",A7="supabase.auth.token",T7={"X-Client-Info":`gotrue-js/${CI}`},C0="X-Supabase-Api-Version",OI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M7=10*60*1e3;let Hj=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function $e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class I7 extends Hj{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function R7(e){return $e(e)&&e.name==="AuthApiError"}class AI extends Hj{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gi extends Hj{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ys extends Gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function D7(e){return $e(e)&&e.name==="AuthSessionMissingError"}class fm extends Gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hm extends Gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mm extends Gi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L7(e){return $e(e)&&e.name==="AuthImplicitGrantRedirectError"}class Kk extends Gi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O0 extends Gi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vx(e){return $e(e)&&e.name==="AuthRetryableFetchError"}class Yk extends Gi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class A0 extends Gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xk=` 	
\r=`.split(""),F7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xk.length;t+=1)e[Xk[t].charCodeAt(0)]=-2;for(let t=0;t<Cp.length;t+=1)e[Cp[t].charCodeAt(0)]=t;return e})();function Zk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cp[n]),t.queuedBits-=6}}function TI(e,t,r){const n=F7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qk(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{U7(o,n,r)};for(let o=0;o<e.length;o+=1)TI(e.charCodeAt(o),a,s);return t.join("")}function B7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function z7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}B7(n,t)}}function U7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function W7(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)TI(e.charCodeAt(a),r,n);return new Uint8Array(t)}function q7(e){const t=[];return z7(e,r=>t.push(r)),new Uint8Array(t)}function V7(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Zk(a,r,n)),Zk(null,r,n),t.join("")}function H7(e){return Math.round(Date.now()/1e3)+e}function G7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Hn=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},$I=()=>{if(!Hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function K7(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const MI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fl(async()=>{const{default:n}=await Promise.resolve().then(()=>ju);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Y7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},so=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hs=async(e,t)=>{await e.removeItem(t)};class Nv{constructor(){this.promise=new Nv.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Nv.promiseConstructor=Promise;function yx(e){const t=e.split(".");if(t.length!==3)throw new A0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$7.test(t[n]))throw new A0("JWT not in base64url format");return{header:JSON.parse(Qk(t[0])),payload:JSON.parse(Qk(t[1])),signature:W7(t[2]),raw:{header:t[0],payload:t[1]}}}async function X7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Z7(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function Q7(e){return("0"+e.toString(16)).substr(-2)}function J7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Q7).join("")}async function eH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function tH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wl(e,t,r=!1){const n=J7();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Rl(e,`${t}-code-verifier`,a);const s=await tH(n);return[s,n===s?"plain":"s256"]}const rH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nH(e){const t=e.headers.get(C0);if(!t||!t.match(rH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jl(e){if(!iH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jk(e){return JSON.parse(JSON.stringify(e))}var oH=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lH=[502,503,504];async function eE(e){var t;if(!Y7(e))throw new O0(co(e),0);if(lH.includes(e.status))throw new O0(co(e),e.status);let r;try{r=await e.json()}catch(s){throw new AI(co(s),s)}let n;const a=nH(e);if(a&&a.getTime()>=OI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yk(co(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ys}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Yk(co(r),e.status,r.weak_password.reasons);throw new I7(co(r),e.status||500,n)}const cH=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Fe(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[C0]||(s[C0]=OI["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await uH(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function uH(e,t,r,n,a,s){const o=cH(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new O0(co(c),0)}if(l.ok||await eE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await eE(c)}}function is(e){var t;let r=null;mH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=H7(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function tE(e){const t=is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dH(e){return{data:e,error:null}}function fH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=oH(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function hH(e){return e}function mH(e){return e.access_token&&e.refresh_token&&e.expires_in}const bx=["global","local","others"];var pH=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class gH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=bx[0]){if(bx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bx.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ni})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=pH(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:fH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ni})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:hH});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){jl(t);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ni})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){jl(t);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ni})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){jl(t);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ni})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){jl(t.userId);try{const{data:r,error:n}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){jl(t.userId),jl(t.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}}function rE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function vH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _l={debug:!!(globalThis&&$I()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class II extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yH extends II{}async function xH(e,t,r){_l.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_l.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){_l.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{_l.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw _l.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_l.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vH();const bH={url:O7,storageKey:A7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nE(e,t,r){return await r()}const Sl={};class yf{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yf.nextInstanceID,yf.nextInstanceID+=1,this.instanceID>0&&Hn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},bH),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new gH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MI(a.fetch),this.lock=a.lock||nE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Hn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=xH:this.lock=nE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:$I()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=rE(this.memoryStorage)),Hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Sl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Sl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${CI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=K7(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Hn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),L7(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?{error:r}:{error:new AI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:is}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await wl(this.storage,this.storageKey)),s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:is})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:is})}else throw new hm("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tE})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tE})}else throw new hm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,s,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:x,statement:b,options:w}=t;let j;if(Hn())if(typeof x=="object")j=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:v,error:x}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:V7(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:is});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new fm}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if($e(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await so(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:is});if(await Hs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new fm}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if($e(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:is}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wl(this.storage,this.storageKey));const{error:f}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new hm("You must provide either an email or phone number.")}catch(l){if($e(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:is});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await wl(this.storage,this.storageKey)),await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:dH})}catch(s){if($e(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ys;const{error:a}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new hm("You must provide either an email or phone number and a type")}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<gx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await so(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=xx()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ni}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ys}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:ni})})}catch(r){if($e(r))return D7(r)&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Ys;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await wl(this.storage,this.storageKey));const{data:u,error:d}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ni});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ys;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=yx(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if($e(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ys;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Hn())throw new mm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Kk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Kk("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new mm("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(s);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if($e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(R7(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=G7(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await wl(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if($e(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Hn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($e(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Z7(async a=>(a>0&&await X7(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:is})),(a,s)=>{const o=200*Math.pow(2,a);return s&&vx(s)&&Date.now()+o-n<Il})}catch(n){if(this._debug(r,"error",n),$e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Hn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await so(this.storage,this.storageKey);if(a&&this.userStorage){let o=await so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Rl(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:xx()}else if(a&&!a.user&&!a.user){const o=await so(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Hs(this.storage,this.storageKey+"-user"),await Rl(this.storage,this.storageKey,a)):a.user=xx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gx;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gx}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),vx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Nv;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ys;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),$e(s)){const o={session:null,error:s};return vx(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=Jk(a);await Rl(this.storage,this.storageKey,s)}else{const a=Jk(r);await Rl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Hs(this.storage,this.storageKey),await Hs(this.storage,this.storageKey+"-code-verifier"),await Hs(this.storage,this.storageKey+"-user"),this.userStorage&&await Hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Il);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Il}ms, refresh threshold is ${P0} ticks`),a<=P0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof II)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await wl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yx(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+M7>a)return n;const{data:s,error:o}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=yx(n);r!=null&&r.allowExpired||aH(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:o},error:null}}const d=sH(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,q7(`${l}.${c}`)))throw new A0("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}}yf.nextInstanceID=0;const wH=yf;class jH extends wH{constructor(t){super(t)}}var _H=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class SH{constructor(t,r,n){var a,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=P7(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:b7,realtime:j7,auth:Object.assign(Object.assign({},w7),{storageKey:u}),global:x7},f=C7(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=k7(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new BV(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new g7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new yV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _H(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jH({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new n7(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NH=(e,t,r)=>new SH(e,t,r);function kH(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EH="https://bqbopkqzkavhmenjlhab.supabase.co",PH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxYm9wa3F6a2F2aG1lbmpsaGFiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5MjEwMTQsImV4cCI6MjA3MDQ5NzAxNH0.AeqAVWHVqyAn7wxNvHeuQFkJREHUTB9fZP22qpv73d0",F=NH(EH,PH,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),CH=async(e,t,r,n="student")=>{const{data:a,error:s}=await F.auth.signUp({email:e,password:t,options:{emailRedirectTo:`${window.location.origin}/auth/confirm`,data:{name:r,user_type:n}}});if(s)throw s;return a},OH=async(e,t)=>{const{data:r,error:n}=await F.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r.user},AH=async()=>{const{error:e}=await F.auth.signOut();if(e)throw e},TH=async e=>{const{error:t}=await F.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/recovery`});if(t)throw t},$H=async e=>{const{data:t,error:r}=await F.from("profiles").select("*").eq("id",e).single();return r?(console.error("Error getting user profile:",r),null):t},T0=async(e,t)=>{const{error:r}=await F.from("profiles").update(t).eq("id",e);if(r)throw r},MH=e=>F.auth.onAuthStateChange((t,r)=>{e((r==null?void 0:r.user)??null,r)}),IH=(e,t)=>{const r=F.channel("teacher-students-changes").on("postgres_changes",{event:"*",schema:"public",table:"students",filter:`teacher_id=eq.${e}`},()=>{n()}).subscribe(),n=async()=>{const{data:a,error:s}=await F.from("students").select(`
        *,
        profiles!students_user_id_fkey(name, email, avatar_url)
      `).eq("teacher_id",e);if(s){console.error("Error fetching students:",s),t([]);return}t(a||[])};return n(),()=>{F.removeChannel(r)}},RI=async e=>{const{data:t,error:r}=await F.from("progress").select("*").eq("user_id",e).eq("type","physical_assessment").order("date",{ascending:!1});if(r)throw r;return t},RH=(e,t)=>{const r=F.channel("student-changes").on("postgres_changes",{event:"*",schema:"public",table:"students",filter:`user_id=eq.${e}`},()=>{n()}).subscribe(),n=async()=>{const{data:a,error:s}=await F.from("students").select("*").eq("user_id",e).single();if(s&&s.code!=="PGRST116"){console.error("Error fetching student:",s),t(null);return}t(a)};return n(),()=>{F.removeChannel(r)}},DH=async e=>{const{data:t,error:r}=await F.from("students").insert(e).select().single();if(r)throw r;return t.id},LH=async(e,t)=>{const{error:r}=await F.from("students").update(t).eq("id",e);if(r)throw r},FH=(e,t)=>{const r=F.channel("workout-changes").on("postgres_changes",{event:"*",schema:"public",table:"workouts"},()=>{n()}).subscribe(),n=async()=>{const{data:a,error:s}=await F.from("workouts").select("*").contains("assigned_to",[e]).order("created_at",{ascending:!1});if(s){console.error("Error fetching workouts:",s),t([]);return}t(a||[])};return n(),()=>{F.removeChannel(r)}},BH=(e,t)=>{const r=F.channel("nutrition-changes").on("postgres_changes",{event:"*",schema:"public",table:"nutrition_plans"},()=>{n()}).subscribe(),n=async()=>{const{data:a,error:s}=await F.from("nutrition_plans").select("*").contains("assigned_to",[e]).order("created_at",{ascending:!1});if(s){console.error("Error fetching nutrition plans:",s),t([]);return}t(a||[])};return n(),()=>{F.removeChannel(r)}},zH=(e,t)=>{const r=F.channel("notification-changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications"},()=>{n()}).subscribe(),n=async()=>{const{data:a,error:s}=await F.from("notifications").select("*").contains("target_users",[e]).order("created_at",{ascending:!1});if(s){console.error("Error fetching notifications:",s),t([]);return}t(a||[])};return n(),()=>{F.removeChannel(r)}},wx=(e,t,r)=>{const n=F.channel("meal-logs-changes").on("postgres_changes",{event:"*",schema:"public",table:"meal_logs",filter:`user_id=eq.${e}`},()=>{a()}).subscribe(),a=async()=>{const{data:s,error:o}=await F.from("meal_logs").select("*").eq("user_id",e).gte("date",`${t}T00:00:00`).lt("date",`${t}T23:59:59`).order("created_at",{ascending:!1});if(o){console.error("Error fetching meal logs:",o),r([]);return}r(s||[])};return a(),()=>{F.removeChannel(n)}},UH=async e=>{const{data:t,error:r}=await F.from("meal_logs").insert(e).select().single();if(r)throw r;return t},WH=async e=>{const{data:t,error:r}=await F.from("anamneses").select("*").eq("user_id",e).order("updated_at",{ascending:!1}).limit(1).maybeSingle();if(r)throw r;return t},Ze=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(null),[a,s]=y.useState(null),[o,l]=y.useState(!0);return y.useEffect(()=>{const{data:{subscription:c}}=MH(async(u,d)=>{if(t(u),n(d),console.log("[useAuth] Auth state changed:",{userId:u==null?void 0:u.id,email:u==null?void 0:u.email}),u)try{const f=await $H(u.id);s(f),console.log("[useAuth] Profile loaded:",f)}catch(f){console.error("[useAuth] Error fetching user profile:",f),s(null)}else console.log("[useAuth] User logged out"),s(null);l(!1)});return()=>c.unsubscribe()},[]),{user:e,session:r,userProfile:a,loading:o,isAuthenticated:!!e,isStudent:(a==null?void 0:a.user_type)==="student",isTeacher:(a==null?void 0:a.user_type)==="teacher"}},qH=()=>i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mb-8",children:i.jsx("img",{src:"/lovable-uploads/11efc078-c8bc-4ac4-9d94-1e18b4e6a54d.png",alt:"Shape Pro - Consultoria Online",className:"h-20 w-auto mx-auto"})}),i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-muted-foreground mt-4",children:"Carregando..."})]})}),VH=hh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?dB:"button";return i.jsx(o,{className:Se(VH({variant:t,size:r,className:e})),ref:s,...a})});K.displayName="Button";const xe=y.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));xe.displayName="Input";var HH="Label",DI=y.forwardRef((e,t)=>i.jsx(_e.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DI.displayName=HH;var LI=DI;const GH=hh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=y.forwardRef(({className:e,...t},r)=>i.jsx(LI,{ref:r,className:Se(GH(),e),...t}));se.displayName=LI.displayName;var KH=y.createContext(void 0);function kv(e){const t=y.useContext(KH);return e||t||"ltr"}var jx="rovingFocusGroup.onEntryFocus",YH={bubbles:!1,cancelable:!0},jh="RovingFocusGroup",[$0,FI,XH]=yj(jh),[ZH,BI]=Ur(jh,[XH]),[QH,JH]=ZH(jh),zI=y.forwardRef((e,t)=>i.jsx($0.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx($0.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(eG,{...e,ref:t})})}));zI.displayName=jh;var eG=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=De(t,h),g=kv(s),[p,v]=fa({prop:o,defaultProp:l??null,onChange:c,caller:jh}),[x,b]=y.useState(!1),w=Ht(u),j=FI(r),_=y.useRef(!1),[S,N]=y.useState(0);return y.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(jx,w),()=>k.removeEventListener(jx,w)},[w]),i.jsx(QH,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(k=>v(k),[v]),onItemShiftTab:y.useCallback(()=>b(!0),[]),onFocusableItemAdd:y.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>N(k=>k-1),[]),children:i.jsx(_e.div,{tabIndex:x||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{_.current=!0}),onFocus:ge(e.onFocus,k=>{const E=!_.current;if(k.target===k.currentTarget&&E&&!x){const O=new CustomEvent(jx,YH);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const C=j().filter(I=>I.focusable),P=C.find(I=>I.active),A=C.find(I=>I.id===p),M=[P,A,...C].filter(Boolean).map(I=>I.ref.current);qI(M,d)}}_.current=!1}),onBlur:ge(e.onBlur,()=>b(!1))})})}),UI="RovingFocusGroupItem",WI=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=ua(),u=s||c,d=JH(UI,r),f=d.currentTabStopId===u,h=FI(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),i.jsx($0.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ge(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=nG(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const j=w.indexOf(v.currentTarget);w=d.loop?aG(w,j+1):w.slice(j+1)}setTimeout(()=>qI(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});WI.displayName=UI;var tG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nG(e,t,r){const n=rG(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return tG[n]}function qI(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function aG(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sG=zI,iG=WI,Ev="Tabs",[oG,gEe]=Ur(Ev,[BI]),VI=BI(),[lG,Gj]=oG(Ev),HI=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=kv(l),[f,h]=fa({prop:n,onChange:a,defaultProp:s??"",caller:Ev});return i.jsx(lG,{scope:r,baseId:ua(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(_e.div,{dir:d,"data-orientation":o,...u,ref:t})})});HI.displayName=Ev;var GI="TabsList",KI=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=Gj(GI,r),o=VI(r);return i.jsx(sG,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(_e.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});KI.displayName=GI;var YI="TabsTrigger",XI=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=Gj(YI,r),l=VI(r),c=JI(o.baseId,n),u=eR(o.baseId,n),d=n===o.value;return i.jsx(iG,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(_e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:ge(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ge(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ge(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});XI.displayName=YI;var ZI="TabsContent",QI=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=Gj(ZI,r),c=JI(l.baseId,n),u=eR(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Wr,{present:a||d,children:({present:h})=>i.jsx(_e.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});QI.displayName=ZI;function JI(e,t){return`${e}-trigger-${t}`}function eR(e,t){return`${e}-content-${t}`}var cG=HI,tR=KI,rR=XI,nR=QI;const Pv=cG,_h=y.forwardRef(({className:e,...t},r)=>i.jsx(tR,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_h.displayName=tR.displayName;const Pn=y.forwardRef(({className:e,...t},r)=>i.jsx(rR,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Pn.displayName=rR.displayName;const Cn=y.forwardRef(({className:e,...t},r)=>i.jsx(nR,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Cn.displayName=nR.displayName;const V=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));V.displayName="Card";const ft=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));ft.displayName="CardHeader";const gt=y.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));gt.displayName="CardTitle";const Xo=y.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));Xo.displayName="CardDescription";const re=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));re.displayName="CardContent";const uG=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));uG.displayName="CardFooter";const dG=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(""),[o,l]=y.useState(!1),[c,u]=y.useState(!1),{toast:d}=At(),f=Je(),h=async p=>{p.preventDefault(),l(!0);try{await OH(e,r),d({title:"Login realizado com sucesso!",description:"Bem-vindo de volta ao Shape Pro."})}catch(v){d({title:"Erro no login",description:v.message||"Verifique suas credenciais e tente novamente.",variant:"destructive"})}finally{l(!1)}},m=async p=>{p.preventDefault(),l(!0);try{const v=await CH(e,r,a,"student");v!=null&&v.session?(d({title:"Conta criada com sucesso!",description:"Bem-vindo ao Shape Pro!"}),f("/",{replace:!0})):(d({title:"Confirme seu email",description:"Enviamos um link de confirmao. Verifique sua caixa de entrada."}),f(`/auth/verify?email=${encodeURIComponent(e)}`,{replace:!0}))}catch(v){d({title:"Erro no cadastro",description:v.message||"No foi possvel criar sua conta. Tente novamente.",variant:"destructive"})}finally{l(!1)}},g=async()=>{if(!e){d({title:"Informe seu email",description:"Digite seu email e tente novamente.",variant:"destructive"});return}try{await TH(e),d({title:"Email de redefinio enviado",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch(p){d({title:"Erro ao enviar email",description:p.message||"Tente novamente mais tarde.",variant:"destructive"})}};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("img",{src:"/lovable-uploads/11efc078-c8bc-4ac4-9d94-1e18b4e6a54d.png",alt:"Shape Pro - Consultoria Online",className:"h-28 w-auto mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Sua jornada fitness comea aqui"})]}),i.jsxs(Pv,{defaultValue:"signin",className:"w-full",children:[i.jsxs(_h,{className:"grid w-full grid-cols-2",children:[i.jsx(Pn,{value:"signin",children:"Entrar"}),i.jsx(Pn,{value:"signup",children:"Cadastrar"})]}),i.jsx(Cn,{value:"signin",children:i.jsxs(V,{children:[i.jsxs(ft,{children:[i.jsx(gt,{children:"Fazer Login"}),i.jsx(Xo,{children:"Entre com sua conta para acessar seus treinos e dietas"})]}),i.jsx(re,{children:i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"email",children:"Email"}),i.jsx(xe,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:p=>t(p.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"password",type:c?"text":"password",placeholder:"",value:r,onChange:p=>n(p.target.value),required:!0}),i.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),children:c?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(Ko,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(K,{type:"button",variant:"link",size:"sm",onClick:g,children:"Esqueceu a senha?"})}),i.jsx(K,{type:"submit",className:"w-full",disabled:o,children:o?"Entrando...":"Entrar"})]})})]})}),i.jsx(Cn,{value:"signup",children:i.jsxs(V,{children:[i.jsxs(ft,{children:[i.jsx(gt,{children:"Criar Conta"}),i.jsx(Xo,{children:"Crie sua conta gratuita e comece sua transformao"})]}),i.jsx(re,{children:i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"name",children:"Nome Completo"}),i.jsx(xe,{id:"name",type:"text",placeholder:"Seu nome completo",value:a,onChange:p=>s(p.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"signup-email",children:"Email"}),i.jsx(xe,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:e,onChange:p=>t(p.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"signup-password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"signup-password",type:c?"text":"password",placeholder:"",value:r,onChange:p=>n(p.target.value),required:!0,minLength:6}),i.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),children:c?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(Ko,{className:"h-4 w-4"})})]})]}),i.jsx(K,{type:"submit",className:"w-full",disabled:o,children:o?"Criando conta...":"Criar Conta"})]})})]})})]})]})})},aR=y.createContext(void 0),Yt=()=>{const e=y.useContext(aR);if(e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return e},fG=({children:e})=>{const t=Ze(),n=["/auth/verify","/auth/verified","/reset-password"].some(a=>window.location.pathname.startsWith(a));return t.loading?i.jsx(qH,{}):!t.isAuthenticated&&!n?i.jsx(dG,{}):i.jsx(aR.Provider,{value:t,children:e})},Sh=()=>{const{user:e}=Yt(),[t,r]=y.useState(null),[n,a]=y.useState([]),[s,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState(!0),p=async()=>{if(e!=null&&e.id)try{const{data:k,error:E}=await F.from("user_points").select("*").eq("user_id",e.id).maybeSingle();if(E)throw E;r(k)}catch(k){console.error("Error fetching user points:",k)}},v=async(k=20)=>{if(e!=null&&e.id)try{const{data:E,error:O}=await F.from("gamification_activities").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(k);if(O)throw O;a(E||[])}catch(E){console.error("Error fetching activities:",E)}},x=async()=>{if(e!=null&&e.id)try{const{data:k}=await F.from("students").select("teacher_id").eq("user_id",e.id).maybeSingle();if(!(k!=null&&k.teacher_id))return;const{data:E,error:O}=await F.from("achievements").select("*").eq("created_by",k.teacher_id).eq("is_active",!0).order("created_at",{ascending:!1});if(O)throw O;o(E||[])}catch(k){console.error("Error fetching achievements:",k)}},b=async()=>{if(e!=null&&e.id)try{const{data:k,error:E}=await F.from("user_achievements").select(`
          *,
          achievement:achievements(*)
        `).eq("user_id",e.id).order("earned_at",{ascending:!1});if(E)throw E;c(k||[])}catch(k){console.error("Error fetching user achievements:",k)}},w=async()=>{if(e!=null&&e.id)try{const{data:k}=await F.from("students").select("teacher_id").eq("user_id",e.id).maybeSingle();if(!(k!=null&&k.teacher_id))return;const E=new Date().toISOString().slice(0,7)+"-01",{data:O,error:C}=await F.from("monthly_rankings").select("*").eq("teacher_id",k.teacher_id).eq("month",E).order("position",{ascending:!0}).limit(10);if(C)throw C;if(O&&O.length>0){const P=O.map(M=>M.user_id),{data:A}=await F.from("profiles").select("id, name, avatar_url").in("id",P),T=O.map(M=>({...M,profile:(A==null?void 0:A.find(I=>I.id===M.user_id))||{name:"Usurio",avatar_url:null}}));d(T)}else d([])}catch(k){console.error("Error fetching rankings:",k)}},j=async()=>{if(e!=null&&e.id)try{const{data:k}=await F.from("students").select("teacher_id").eq("user_id",e.id).maybeSingle();if(!(k!=null&&k.teacher_id))return;const{data:E,error:O}=await F.from("challenges").select("*").eq("teacher_id",k.teacher_id).eq("is_active",!0).gte("end_date",new Date().toISOString().split("T")[0]).order("created_at",{ascending:!1});if(O)throw O;const C=(E==null?void 0:E.map(P=>P.id))||[];if(C.length>0){const{data:P}=await F.from("challenge_participations").select("*").eq("user_id",e.id).in("challenge_id",C),A=E==null?void 0:E.map(T=>({...T,participation:P==null?void 0:P.find(M=>M.challenge_id===T.id)}));h(A||[])}else h(E||[])}catch(k){console.error("Error fetching challenges:",k)}},_=async k=>{if(e!=null&&e.id)try{const{error:E}=await F.from("challenge_participations").insert({challenge_id:k,user_id:e.id});if(E)throw E;ke.success("Desafio aceito com sucesso!"),await j()}catch(E){E.code==="23505"?ke.error("Voc j est participando deste desafio"):(ke.error("Erro ao aceitar desafio"),console.error("Error joining challenge:",E))}},S=async(k,E,O)=>{if(e!=null&&e.id)try{const{error:C}=await F.rpc("award_points_enhanced",{p_user_id:e.id,p_activity_type:k,p_description:E,p_custom_points:O});if(C)throw C;await Promise.all([p(),v()]),ke.success(`Pontos adicionados: ${E}`)}catch(C){console.error("Error awarding points:",C),ke.error("Erro ao adicionar pontos")}},N=k=>{const E=Math.floor(Math.sqrt(k/100))+1,O=Math.pow(E-1,2)*100,C=Math.pow(E,2)*100,P=k-O,A=C-O,T=P/A*100,M=["Iniciante","Bronze","Prata","Ouro","Platina","Diamante","Mestre","Lenda"];return{level:E,name:M[Math.min(E-1,M.length-1)]||`Nvel ${E}`,currentLevelPoints:O,nextLevelPoints:C,progressToNext:P,pointsNeeded:A,progress:Math.min(T,100)}};return y.useEffect(()=>{const k=async()=>{if(e!=null&&e.id){g(!0);try{await Promise.all([p(),v(),x(),b(),w(),j()])}finally{g(!1)}}},E=()=>{if(!(e!=null&&e.id))return;const O=F.channel("gamification_points").on("postgres_changes",{event:"*",schema:"public",table:"user_points",filter:`user_id=eq.${e.id}`},A=>{console.log("Points updated:",A),A.new&&r(A.new)}).subscribe(),C=F.channel("gamification_activities").on("postgres_changes",{event:"INSERT",schema:"public",table:"gamification_activities",filter:`user_id=eq.${e.id}`},A=>{if(console.log("New activity:",A),A.new){const T=A.new;a(M=>[T,...M.slice(0,19)]),fl(async()=>{const{showPointsToast:M}=await Promise.resolve().then(()=>d1e);return{showPointsToast:M}},void 0).then(({showPointsToast:M})=>{var I;M({points:T.points_earned,activity:T.description,description:(I=T.metadata)==null?void 0:I.description})})}}).subscribe(),P=F.channel("gamification_achievements").on("postgres_changes",{event:"INSERT",schema:"public",table:"user_achievements",filter:`user_id=eq.${e.id}`},A=>{console.log("New achievement:",A),b(),A.new&&ke.success(` Nova conquista desbloqueada! +${A.new.points_earned} pontos`,{duration:5e3})}).subscribe();return()=>{O.unsubscribe(),C.unsubscribe(),P.unsubscribe()}};if(e!=null&&e.id)return k(),E()},[e==null?void 0:e.id]),{userPoints:t,activities:n,achievements:s,userAchievements:l,rankings:u,challenges:f,loading:m,fetchUserPoints:p,fetchActivities:v,fetchAchievements:x,fetchUserAchievements:b,fetchRankings:w,fetchChallenges:j,joinChallenge:_,awardPoints:S,getLevelInfo:N,refresh:async()=>{await Promise.all([p(),v(),x(),b(),w(),j()])}}},hG=()=>{const e=y.useRef(new Map),t=5e3,r=y.useCallback(a=>{const s=Date.now(),o=e.current.get(a);if(o&&s-o<t)return console.warn(`[Gamification] Duplicate action prevented: ${a}`),!0;e.current.set(a,s);for(const[l,c]of e.current.entries())s-c>t*2&&e.current.delete(l);return!1},[]),n=y.useCallback((a,s,o)=>{const l=`${a}_${s}`;if(a==="meal_logged"&&(o!=null&&o.meal_id))return`${l}_${o.meal_id}_${o.date}`;if(a==="progress_logged"&&(o!=null&&o.progress_type))return`${l}_${o.progress_type}_${Date.now()}`;if(a==="daily_checkin"){const c=new Date().toISOString().split("T")[0];return`${l}_${c}`}return`${l}_${Date.now()}`},[]);return{isDuplicateAction:r,generateActionKey:n}},Kj=()=>{const{user:e}=Yt(),{isDuplicateAction:t,generateActionKey:r}=hG(),n=y.useCallback(async(s,o,l={})=>{if(!(e!=null&&e.id)){console.warn("[Gamification] User not authenticated");return}const c=r(s,e.id,l);if(t(c)){console.log("[Gamification] Duplicate action prevented:",s);return}try{console.log("[Gamification] Awarding points for action:",s,"metadata:",l);const{data:u,error:d}=await F.rpc("award_points_enhanced_v3",{p_user_id:e.id,p_activity_type:s,p_description:o||`Ao executada: ${s}`,p_metadata:l,p_custom_points:null});if(d){console.error("[Gamification] Error awarding points:",d);return}if(u&&typeof u=="object"&&"duplicate"in u&&u.duplicate){console.log("[Gamification] Duplicate action detected by server:",u.message);return}console.log("[Gamification] Points awarded successfully for action:",s,"Result:",u)}catch(u){console.error("[Gamification] Error awarding points:",u)}},[e==null?void 0:e.id,t,r]),a=y.useCallback(async()=>{if(e!=null&&e.id)try{const s=new Date().toISOString().split("T")[0],{data:o,error:l}=await F.from("gamification_activities").select("id").eq("user_id",e.id).eq("activity_type","daily_checkin").gte("created_at",`${s}T00:00:00.000Z`).lt("created_at",`${s}T23:59:59.999Z`).maybeSingle();if(l){console.error("[Gamification] Error checking existing checkin:",l);return}o?console.log("[Gamification] Checkin already exists today, skipping"):(console.log("[Gamification] No checkin today, awarding points"),await n("daily_checkin","Check-in dirio"))}catch(s){console.error("[Gamification] Error updating streak:",s)}},[e==null?void 0:e.id,n]);return y.useEffect(()=>{e!=null&&e.id&&a()},[e==null?void 0:e.id,a]),{awardPointsForAction:n,updateStreak:a}},Yj=()=>{const{awardPointsForAction:e}=Kj(),t=y.useCallback(o=>e("training_completed",`Treino completado${o?`: ${o}`:""}`),[e]),r=y.useCallback(()=>e("meal_logged","Refeio registrada"),[e]),n=y.useCallback(o=>e("progress_logged",`Progresso atualizado${o?`: ${o}`:""}`),[e]),a=y.useCallback(()=>e("ai_interaction","Interao com IA"),[e]),s=y.useCallback(()=>e("teacher_message","Mensagem do professor"),[e]);return{awardWorkoutPoints:t,awardMealPoints:r,awardProgressPoints:n,awardAIInteractionPoints:a,awardTeacherMessagePoints:s}},M0=y.createContext(null),mG=()=>{const e=y.useContext(M0);if(!e)throw new Error("useGamificationContext must be used within GamificationProvider");return e},pG=({children:e})=>{const{user:t}=Yt(),{userPoints:r,activities:n,achievements:a,userAchievements:s,rankings:o,challenges:l,loading:c,fetchUserPoints:u,fetchActivities:d,joinChallenge:f,awardPoints:h,getLevelInfo:m,refresh:g}=Sh(),{awardPointsForAction:p,updateStreak:v}=Kj();if(!t){const b={userPoints:{user_id:"",total_points:0,level:1,current_streak:0,longest_streak:0,last_activity_date:""},activities:[],achievements:[],userAchievements:[],rankings:[],challenges:[],loading:!1,fetchUserPoints:async()=>{},fetchActivities:async()=>{},joinChallenge:async()=>{},awardPoints:async()=>{},getLevelInfo:()=>({level:1,pointsForNext:100}),refresh:async()=>{},awardPointsForAction:async()=>{},updateStreak:async()=>{}};return i.jsx(M0.Provider,{value:b,children:e})}const x={userPoints:r,activities:n,achievements:a,userAchievements:s,rankings:o,challenges:l,loading:c,fetchUserPoints:u,fetchActivities:d,joinChallenge:f,awardPoints:h,getLevelInfo:m,refresh:g,awardPointsForAction:p,updateStreak:v};return i.jsx(M0.Provider,{value:x,children:e})},gG=({children:e})=>{const{user:t}=Yt(),{updateStreak:r}=Kj();return y.useEffect(()=>{t!=null&&t.id&&r()},[t==null?void 0:t.id,r]),i.jsx(i.Fragment,{children:e})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Rc;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Rc||(Rc={}));class _x extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const vG=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},yG=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:vG(e),s=()=>a()!=="web",o=f=>{const h=u.get(f);return!!(h!=null&&h.platforms.has(a())||l(f))},l=f=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(m=>m.name===f)},c=f=>e.console.error(f),u=new Map,d=(f,h={})=>{const m=u.get(f);if(m)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),m.proxy;const g=a(),p=l(f);let v;const x=async()=>(!v&&g in h?v=typeof h[g]=="function"?v=await h[g]():v=h[g]:t!==null&&!v&&"web"in h&&(v=typeof h.web=="function"?v=await h.web():v=h.web),v),b=(k,E)=>{var O,C;if(p){const P=p==null?void 0:p.methods.find(A=>E===A.name);if(P)return P.rtype==="promise"?A=>r.nativePromise(f,E.toString(),A):(A,T)=>r.nativeCallback(f,E.toString(),A,T);if(k)return(O=k[E])===null||O===void 0?void 0:O.bind(k)}else{if(k)return(C=k[E])===null||C===void 0?void 0:C.bind(k);throw new _x(`"${f}" plugin is not implemented on ${g}`,Rc.Unimplemented)}},w=k=>{let E;const O=(...C)=>{const P=x().then(A=>{const T=b(A,k);if(T){const M=T(...C);return E=M==null?void 0:M.remove,M}else throw new _x(`"${f}.${k}()" is not implemented on ${g}`,Rc.Unimplemented)});return k==="addListener"&&(P.remove=async()=>E()),P};return O.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:k,writable:!1,configurable:!1}),O},j=w("addListener"),_=w("removeListener"),S=(k,E)=>{const O=j({eventName:k},E),C=async()=>{const A=await O;_({eventName:k,callbackId:A},E)},P=new Promise(A=>O.then(()=>A({remove:C})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await C()},P},N=new Proxy({},{get(k,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return p?S:j;case"removeListener":return _;default:return w(E)}}});return n[f]=N,u.set(f,{name:f,proxy:N,platforms:new Set([...Object.keys(h),...p?[g]:[]])}),N};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=a,r.handleError=c,r.isNativePlatform=s,r.isPluginAvailable=o,r.registerPlugin=d,r.Exception=_x,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},xG=e=>e.Capacitor=yG(e),xf=xG(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Su=xf.registerPlugin;class sR{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const a=this.listeners[t];if(!a){if(n){let s=this.retainedEventArguments[t];s||(s=[]),s.push(r),this.retainedEventArguments[t]=s}return}a.forEach(s=>s(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new xf.Exception(t,Rc.Unimplemented)}unavailable(t="not available"){return new xf.Exception(t,Rc.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const a=n.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const aE=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),sE=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class bG extends sR{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[a,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=sE(a).trim(),s=sE(s).trim(),r[a]=s}),r}async setCookie(t){try{const r=aE(t.key),n=aE(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${s}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Su("CapacitorCookies",{web:()=>new bG});const wG=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(e)}),jG=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,s,o)=>(a[s]=e[t[o]],a),{})},_G=(e,t=!0)=>e?Object.entries(e).reduce((n,a)=>{const[s,o]=a;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${s}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${s}=${l}`),`${n}&${c}`},"").substr(1):null,SG=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=jG(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))s.set(o,l);r.body=s.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{s.append(c,l)});else for(const l of Object.keys(e.data))s.append(l,e.data[l]);r.body=s;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class NG extends sR{async request(t){const r=SG(t,t.webFetchExtra),n=_G(t.params,t.shouldEncodeUrlParams),a=n?`${t.url}?${n}`:t.url,s=await fetch(a,r),o=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?t:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await s.blob(),c=await wG(u);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const d={};return s.headers.forEach((f,h)=>{d[h]=f}),{data:c,headers:d,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Su("CapacitorHttp",{web:()=>new NG});const kG=async()=>{try{const{data:e}=await F.functions.invoke("get-onesignal-config");if(e!=null&&e.appId)return e.appId}catch(e){console.warn("Could not fetch OneSignal config from edge function:",e)}return"1af0b3d5-8b2a-4c75-9e6f-3a4b5c6d7e8f"},EG=async()=>new Promise((e,t)=>{if(window.OneSignal){e();return}const r=document.createElement("script");r.src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js",r.async=!0,r.onload=()=>e(),r.onerror=()=>t(new Error("Failed to load OneSignal SDK")),document.head.appendChild(r)}),PG=async(e=10,t=2e3)=>{var r,n;console.log("OneSignal Web: Waiting for Player ID...");for(let a=1;a<=e;a++)try{if((n=(r=window.OneSignal)==null?void 0:r.User)!=null&&n.PushSubscription){const s=await window.OneSignal.User.PushSubscription.id;if(s)return console.log(`OneSignal Web: Player ID obtained on attempt ${a}:`,s),s}console.log(`OneSignal Web: Attempt ${a}/${e} - Player ID not ready, waiting ${t}ms...`),await new Promise(s=>setTimeout(s,t))}catch(s){console.warn(`OneSignal Web: Error on attempt ${a}:`,s),await new Promise(o=>setTimeout(o,t))}return console.error("OneSignal Web: Failed to get Player ID after",e,"attempts"),null},CG=async e=>{try{if(console.log("OneSignal Web: Starting initialization for user:",e),await EG(),!window.OneSignal){console.error("OneSignal Web SDK not available after loading");return}const t=await kG();if(console.log("OneSignal Web: Using App ID:",t.substring(0,8)+"..."),await window.OneSignal.init({appId:t,serviceWorkerParam:{scope:"/"},serviceWorkerPath:"OneSignalSDKWorker.js",notificationClickHandlerMatch:"origin",allowLocalhostAsSecureOrigin:!0}),console.log("OneSignal Web SDK initialized successfully"),window.OneSignal.Notifications.addEventListener("click",r=>{console.log("OneSignal Web: Notification clicked:",r);const n=r.notification.additionalData;n!=null&&n.route?window.location.href=n.route:n!=null&&n.deep_link&&(window.location.href=n.deep_link)}),window.OneSignal.Notifications.addEventListener("foregroundWillDisplay",r=>{console.log("OneSignal Web: Notification received in foreground:",r),r.notification.display()}),e)try{await window.OneSignal.login(e),console.log("OneSignal Web: User logged in successfully:",e)}catch(r){console.error("OneSignal Web: Error logging in user:",r)}if(Notification.permission==="default")try{await window.OneSignal.Slidedown.promptPush(),console.log("OneSignal Web: Permission requested")}catch(r){console.error("OneSignal Web: Error requesting permission:",r)}if(e){const r=await PG();r?await iE(r,e):console.error("OneSignal Web: Could not obtain Player ID")}window.OneSignal.User.PushSubscription.addEventListener("change",async r=>{var n;console.log("OneSignal Web: Subscription changed:",r),(n=r.current)!=null&&n.id&&e&&await iE(r.current.id,e)})}catch(t){console.error("OneSignal Web SDK initialization error:",t)}},iE=async(e,t,r=3)=>{for(let n=1;n<=r;n++)try{console.log(`OneSignal Web: Updating player ID in Supabase (attempt ${n}):`,e);const{data:{user:a}}=await F.auth.getUser();if(!a){console.error("OneSignal Web: User not authenticated");return}const{data:s,error:o}=await F.from("profiles").update({onesignal_player_id:e}).eq("id",t).select();if(o){if(console.error(`OneSignal Web: Error updating player ID (attempt ${n}):`,o),n===r)throw o;await new Promise(c=>setTimeout(c,1e3*n));continue}console.log("OneSignal Web: Player ID successfully saved to Supabase:",s);const{data:l}=await F.from("profiles").select("onesignal_player_id").eq("id",t).single();(l==null?void 0:l.onesignal_player_id)===e?console.log("OneSignal Web: Player ID verification successful"):console.warn("OneSignal Web: Player ID verification failed");return}catch(a){console.error(`OneSignal Web: Error updating player ID in Supabase (attempt ${n}):`,a),n===r?console.error("OneSignal Web: Failed to save Player ID after",r,"attempts"):await new Promise(s=>setTimeout(s,1e3*n))}},OG=async e=>{try{const{data:t}=await F.from("profiles").select("onesignal_player_id").eq("id",e).single();return{hasPlayerId:!!(t!=null&&t.onesignal_player_id),playerId:t==null?void 0:t.onesignal_player_id}}catch(t){return console.error("OneSignal: Error checking player ID status:",t),{hasPlayerId:!1}}},AG=async()=>{try{const{data:e}=await F.functions.invoke("get-onesignal-config");if(e!=null&&e.appId)return e.appId}catch(e){console.warn("Could not fetch OneSignal config:",e)}return"1af0b3d5-8b2a-4c75-9e6f-3a4b5c6d7e8f"},TG=()=>{const{user:e}=Yt(),t=Je();y.useEffect(()=>{xf.isNativePlatform()?(console.log("OneSignal: Initializing for native platform"),r()):(console.log("OneSignal: Initializing for web platform"),e!=null&&e.id&&CG(e.id))},[e]);const r=async()=>{var s;try{if(!((s=window.plugins)!=null&&s.OneSignal)){console.log("OneSignal: Plugin not available");return}const o=window.plugins.OneSignal,l=await AG();console.log("OneSignal Native: Using App ID:",l.substring(0,8)+"..."),o.setAppId(l),o.promptForPushNotificationsWithUserResponse(c=>{console.log("OneSignal: Prompt response:",c)}),o.setNotificationWillShowInForegroundHandler(c=>{console.log("OneSignal: Notification received in foreground:",c);const u=c.getNotification();ke(u.title,{description:u.body,action:{label:"Ver",onClick:()=>n(u.additionalData)}}),c.complete(u)}),o.setNotificationOpenedHandler(c=>{console.log("OneSignal: Notification opened:",c);const{notification:u}=c,{additionalData:d}=u;n(d)}),o.getDeviceState(c=>{c.userId&&(e!=null&&e.id)&&a(c.userId)}),o.addSubscriptionObserver(c=>{c.to.userId&&(e!=null&&e.id)&&a(c.to.userId)})}catch(o){console.error("OneSignal: Error initializing:",o)}},n=s=>{if(!s)return;const{route:o,deep_link:l,type:c}=s;if(o)t(o);else if(l)window.location.href=l;else if(c)switch(c){case"teacher_announcement":t("/");break;case"new_lesson":t("/?tab=members");break;case"workout_reminder":t("/?tab=workouts");break;case"nutrition_reminder":t("/?tab=nutrition");break;case"appointment_reminder":t("/agenda");break;case"chat_message":t("/chat");break;default:t("/");break}else t("/")},a=async(s,o=3)=>{if(!(e!=null&&e.id)){console.error("OneSignal Native: No user ID available");return}for(let l=1;l<=o;l++)try{console.log(`OneSignal Native: Updating player ID in Supabase (attempt ${l}):`,s);const{data:c,error:u}=await F.from("profiles").update({onesignal_player_id:s}).eq("id",e.id).select();if(u){if(console.error(`OneSignal Native: Error updating player ID (attempt ${l}):`,u),l===o)throw u;await new Promise(f=>setTimeout(f,1e3*l));continue}console.log("OneSignal Native: Player ID successfully saved to Supabase:",c);const{data:d}=await F.from("profiles").select("onesignal_player_id").eq("id",e.id).single();(d==null?void 0:d.onesignal_player_id)===s?console.log("OneSignal Native: Player ID verification successful"):console.warn("OneSignal Native: Player ID verification failed");return}catch(c){console.error(`OneSignal Native: Error updating player ID in Supabase (attempt ${l}):`,c),l===o?console.error("OneSignal Native: Failed to save Player ID after",o,"attempts"):await new Promise(u=>setTimeout(u,1e3*l))}};return null},$G=()=>{try{const{user:e}=Yt();return i.jsx(TG,{})}catch{return null}};function Or({children:e,redirectTo:t="/login"}){const{isAuthenticated:r,loading:n}=Ze();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(gr,{className:"h-8 w-8 animate-spin"})}):r?i.jsx(i.Fragment,{children:e}):i.jsx(iV,{to:t,replace:!0})}const lc=({children:e,className:t=""})=>i.jsx("div",{className:`tab-container ${t}`,children:e}),MG=[{id:"home",icon:vz,label:"Incio"},{id:"workouts",icon:ki,label:"Treinos"},{id:"nutrition",icon:lv,label:"Dieta"},{id:"members",icon:Ei,label:"Membros"},{id:"profile",icon:Tc,label:"Perfil"}],IG=({activeTab:e,onTabChange:t})=>i.jsx("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-sm bg-card border-t border-border",children:i.jsx("div",{className:"flex justify-around items-center px-1 py-3",children:MG.map(r=>{const n=r.icon,a=e===r.id;return i.jsxs("button",{onClick:()=>t(r.id),className:`nav-item ${a?"active":""} flex-1 max-w-[80px] relative`,children:[i.jsx(n,{size:20,className:`transition-colors duration-300 ${a?"text-primary":"text-muted-foreground"}`}),i.jsx("span",{className:`text-[10px] font-medium transition-colors duration-300 text-center leading-tight ${a?"text-primary":"text-muted-foreground"}`,children:r.label})]},r.id)})})});var RG=Array.isArray,rn=RG,DG=typeof kr=="object"&&kr&&kr.Object===Object&&kr,iR=DG,LG=iR,FG=typeof self=="object"&&self&&self.Object===Object&&self,BG=LG||FG||Function("return this")(),Za=BG,zG=Za,UG=zG.Symbol,Nh=UG,oE=Nh,oR=Object.prototype,WG=oR.hasOwnProperty,qG=oR.toString,rd=oE?oE.toStringTag:void 0;function VG(e){var t=WG.call(e,rd),r=e[rd];try{e[rd]=void 0;var n=!0}catch{}var a=qG.call(e);return n&&(t?e[rd]=r:delete e[rd]),a}var HG=VG,GG=Object.prototype,KG=GG.toString;function YG(e){return KG.call(e)}var XG=YG,lE=Nh,ZG=HG,QG=XG,JG="[object Null]",eK="[object Undefined]",cE=lE?lE.toStringTag:void 0;function tK(e){return e==null?e===void 0?eK:JG:cE&&cE in Object(e)?ZG(e):QG(e)}var Ds=tK;function rK(e){return e!=null&&typeof e=="object"}var Ls=rK,nK=Ds,aK=Ls,sK="[object Symbol]";function iK(e){return typeof e=="symbol"||aK(e)&&nK(e)==sK}var Nu=iK,oK=rn,lK=Nu,cK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uK=/^\w*$/;function dK(e,t){if(oK(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||lK(e)?!0:uK.test(e)||!cK.test(e)||t!=null&&e in Object(t)}var Xj=dK;function fK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ki=fK;const ku=ut(Ki);var hK=Ds,mK=Ki,pK="[object AsyncFunction]",gK="[object Function]",vK="[object GeneratorFunction]",yK="[object Proxy]";function xK(e){if(!mK(e))return!1;var t=hK(e);return t==gK||t==vK||t==pK||t==yK}var Zj=xK;const Re=ut(Zj);var bK=Za,wK=bK["__core-js_shared__"],jK=wK,Sx=jK,uE=function(){var e=/[^.]+$/.exec(Sx&&Sx.keys&&Sx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _K(e){return!!uE&&uE in e}var SK=_K,NK=Function.prototype,kK=NK.toString;function EK(e){if(e!=null){try{return kK.call(e)}catch{}try{return e+""}catch{}}return""}var lR=EK,PK=Zj,CK=SK,OK=Ki,AK=lR,TK=/[\\^$.*+?()[\]{}|]/g,$K=/^\[object .+?Constructor\]$/,MK=Function.prototype,IK=Object.prototype,RK=MK.toString,DK=IK.hasOwnProperty,LK=RegExp("^"+RK.call(DK).replace(TK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FK(e){if(!OK(e)||CK(e))return!1;var t=PK(e)?LK:$K;return t.test(AK(e))}var BK=FK;function zK(e,t){return e==null?void 0:e[t]}var UK=zK,WK=BK,qK=UK;function VK(e,t){var r=qK(e,t);return WK(r)?r:void 0}var ml=VK,HK=ml,GK=HK(Object,"create"),Cv=GK,dE=Cv;function KK(){this.__data__=dE?dE(null):{},this.size=0}var YK=KK;function XK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZK=XK,QK=Cv,JK="__lodash_hash_undefined__",eY=Object.prototype,tY=eY.hasOwnProperty;function rY(e){var t=this.__data__;if(QK){var r=t[e];return r===JK?void 0:r}return tY.call(t,e)?t[e]:void 0}var nY=rY,aY=Cv,sY=Object.prototype,iY=sY.hasOwnProperty;function oY(e){var t=this.__data__;return aY?t[e]!==void 0:iY.call(t,e)}var lY=oY,cY=Cv,uY="__lodash_hash_undefined__";function dY(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=cY&&t===void 0?uY:t,this}var fY=dY,hY=YK,mY=ZK,pY=nY,gY=lY,vY=fY;function Eu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Eu.prototype.clear=hY;Eu.prototype.delete=mY;Eu.prototype.get=pY;Eu.prototype.has=gY;Eu.prototype.set=vY;var yY=Eu;function xY(){this.__data__=[],this.size=0}var bY=xY;function wY(e,t){return e===t||e!==e&&t!==t}var Qj=wY,jY=Qj;function _Y(e,t){for(var r=e.length;r--;)if(jY(e[r][0],t))return r;return-1}var Ov=_Y,SY=Ov,NY=Array.prototype,kY=NY.splice;function EY(e){var t=this.__data__,r=SY(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():kY.call(t,r,1),--this.size,!0}var PY=EY,CY=Ov;function OY(e){var t=this.__data__,r=CY(t,e);return r<0?void 0:t[r][1]}var AY=OY,TY=Ov;function $Y(e){return TY(this.__data__,e)>-1}var MY=$Y,IY=Ov;function RY(e,t){var r=this.__data__,n=IY(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var DY=RY,LY=bY,FY=PY,BY=AY,zY=MY,UY=DY;function Pu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pu.prototype.clear=LY;Pu.prototype.delete=FY;Pu.prototype.get=BY;Pu.prototype.has=zY;Pu.prototype.set=UY;var Av=Pu,WY=ml,qY=Za,VY=WY(qY,"Map"),Jj=VY,fE=yY,HY=Av,GY=Jj;function KY(){this.size=0,this.__data__={hash:new fE,map:new(GY||HY),string:new fE}}var YY=KY;function XY(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ZY=XY,QY=ZY;function JY(e,t){var r=e.__data__;return QY(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Tv=JY,eX=Tv;function tX(e){var t=eX(this,e).delete(e);return this.size-=t?1:0,t}var rX=tX,nX=Tv;function aX(e){return nX(this,e).get(e)}var sX=aX,iX=Tv;function oX(e){return iX(this,e).has(e)}var lX=oX,cX=Tv;function uX(e,t){var r=cX(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var dX=uX,fX=YY,hX=rX,mX=sX,pX=lX,gX=dX;function Cu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cu.prototype.clear=fX;Cu.prototype.delete=hX;Cu.prototype.get=mX;Cu.prototype.has=pX;Cu.prototype.set=gX;var e_=Cu,cR=e_,vX="Expected a function";function t_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vX);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(t_.Cache||cR),r}t_.Cache=cR;var uR=t_;const yX=ut(uR);var xX=uR,bX=500;function wX(e){var t=xX(e,function(n){return r.size===bX&&r.clear(),n}),r=t.cache;return t}var jX=wX,_X=jX,SX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NX=/\\(\\)?/g,kX=_X(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SX,function(r,n,a,s){t.push(a?s.replace(NX,"$1"):n||r)}),t}),EX=kX;function PX(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var r_=PX,hE=Nh,CX=r_,OX=rn,AX=Nu,mE=hE?hE.prototype:void 0,pE=mE?mE.toString:void 0;function dR(e){if(typeof e=="string")return e;if(OX(e))return CX(e,dR)+"";if(AX(e))return pE?pE.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var TX=dR,$X=TX;function MX(e){return e==null?"":$X(e)}var fR=MX,IX=rn,RX=Xj,DX=EX,LX=fR;function FX(e,t){return IX(e)?e:RX(e,t)?[e]:DX(LX(e))}var hR=FX,BX=Nu;function zX(e){if(typeof e=="string"||BX(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var $v=zX,UX=hR,WX=$v;function qX(e,t){t=UX(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[WX(t[r++])];return r&&r==n?e:void 0}var n_=qX,VX=n_;function HX(e,t,r){var n=e==null?void 0:VX(e,t);return n===void 0?r:n}var mR=HX;const On=ut(mR);function GX(e){return e==null}var KX=GX;const Be=ut(KX);var YX=Ds,XX=rn,ZX=Ls,QX="[object String]";function JX(e){return typeof e=="string"||!XX(e)&&ZX(e)&&YX(e)==QX}var eZ=JX;const Zo=ut(eZ);var pR={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_=Symbol.for("react.element"),s_=Symbol.for("react.portal"),Mv=Symbol.for("react.fragment"),Iv=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),Dv=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),tZ=Symbol.for("react.server_context"),Fv=Symbol.for("react.forward_ref"),Bv=Symbol.for("react.suspense"),zv=Symbol.for("react.suspense_list"),Uv=Symbol.for("react.memo"),Wv=Symbol.for("react.lazy"),rZ=Symbol.for("react.offscreen"),gR;gR=Symbol.for("react.module.reference");function In(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case a_:switch(e=e.type,e){case Mv:case Rv:case Iv:case Bv:case zv:return e;default:switch(e=e&&e.$$typeof,e){case tZ:case Lv:case Fv:case Wv:case Uv:case Dv:return e;default:return t}}case s_:return t}}}st.ContextConsumer=Lv;st.ContextProvider=Dv;st.Element=a_;st.ForwardRef=Fv;st.Fragment=Mv;st.Lazy=Wv;st.Memo=Uv;st.Portal=s_;st.Profiler=Rv;st.StrictMode=Iv;st.Suspense=Bv;st.SuspenseList=zv;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return In(e)===Lv};st.isContextProvider=function(e){return In(e)===Dv};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===a_};st.isForwardRef=function(e){return In(e)===Fv};st.isFragment=function(e){return In(e)===Mv};st.isLazy=function(e){return In(e)===Wv};st.isMemo=function(e){return In(e)===Uv};st.isPortal=function(e){return In(e)===s_};st.isProfiler=function(e){return In(e)===Rv};st.isStrictMode=function(e){return In(e)===Iv};st.isSuspense=function(e){return In(e)===Bv};st.isSuspenseList=function(e){return In(e)===zv};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mv||e===Rv||e===Iv||e===Bv||e===zv||e===rZ||typeof e=="object"&&e!==null&&(e.$$typeof===Wv||e.$$typeof===Uv||e.$$typeof===Dv||e.$$typeof===Lv||e.$$typeof===Fv||e.$$typeof===gR||e.getModuleId!==void 0)};st.typeOf=In;pR.exports=st;var nZ=pR.exports,aZ=Ds,sZ=Ls,iZ="[object Number]";function oZ(e){return typeof e=="number"||sZ(e)&&aZ(e)==iZ}var vR=oZ;const lZ=ut(vR);var cZ=vR;function uZ(e){return cZ(e)&&e!=+e}var dZ=uZ;const kh=ut(dZ);var oa=function(t){return t===0?0:t>0?1:-1},wo=function(t){return Zo(t)&&t.indexOf("%")===t.length-1},ue=function(t){return lZ(t)&&!kh(t)},fZ=function(t){return Be(t)},nr=function(t){return ue(t)||Zo(t)},hZ=0,Eh=function(t){var r=++hZ;return"".concat(t||"").concat(r)},Qo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&!Zo(t))return n;var s;if(wo(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return kh(s)&&(s=n),a&&s>r&&(s=r),s},ai=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},mZ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},na=function(t,r){return ue(t)&&ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function Op(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):On(n,t))===r})}var pZ=function(t,r){return ue(t)&&ue(r)?t-r:Zo(t)&&Zo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function cc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}var gZ=["viewBox","children"],vZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gE=["points","pathLength"],Nx={svg:gZ,polygon:gE,polyline:gE},i_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ap=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!ku(n))return null;var a={};return Object.keys(n).forEach(function(s){i_.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},yZ=function(t,r,n){return function(a){return t(r,n,a),null}},Tp=function(t,r,n){if(!ku(t)||I0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];i_.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=yZ(o,r,n))}),a},xZ=["children"],bZ=["children"];function vE(e,t){if(e==null)return{};var r=wZ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}var yE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xE=null,kx=null,o_=function e(t){if(t===xE&&Array.isArray(kx))return kx;var r=[];return y.Children.forEach(t,function(n){Be(n)||(nZ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),kx=r,xE=t,r};function An(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return bs(a)}):n=[bs(t)],o_(e).forEach(function(a){var s=On(a,"type.displayName")||On(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function on(e,t){var r=An(e,t);return r&&r[0]}var bE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ue(n)||n<=0||!ue(a)||a<=0)},jZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_Z=function(t){return t&&t.type&&Zo(t.type)&&jZ.indexOf(t.type)>=0},SZ=function(t){return t&&R0(t)==="object"&&"clipDot"in t},NZ=function(t,r,n,a){var s,o=(s=Nx==null?void 0:Nx[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Re(t)&&(a&&o.includes(r)||vZ.includes(r))||n&&i_.includes(r)},We=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!ku(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;NZ((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},D0=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!wE(s,o))return!1}return!0},wE=function(t,r){if(Be(t)&&Be(r))return!0;if(!Be(t)&&!Be(r)){var n=t.props||{},a=n.children,s=vE(n,xZ),o=r.props||{},l=o.children,c=vE(o,bZ);return a&&l?cc(s,c)&&D0(a,l):!a&&!l?cc(s,c):!1}return!1},jE=function(t,r){var n=[],a={};return o_(t).forEach(function(s,o){if(_Z(s))n.push(s);else if(s){var l=bs(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},kZ=function(t){var r=t&&t.type;return r&&yE[r]?yE[r]:null},EZ=function(t,r){return o_(r).indexOf(t)},PZ=["children","width","height","viewBox","className","style","title","desc"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function CZ(e,t){if(e==null)return{};var r=OZ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=CZ(e,PZ),d=a||{width:r,height:n,x:0,y:0},f=qe("recharts-surface",s);return $.createElement("svg",L0({},We(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),t)}var AZ=["children","className"];function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(this,arguments)}function TZ(e,t){if(e==null)return{};var r=$Z(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Z(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lt=$.forwardRef(function(e,t){var r=e.children,n=e.className,a=TZ(e,AZ),s=qe("recharts-layer",n);return $.createElement("g",B0({className:s},We(a,!0),{ref:t}),r)}),ws=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function MZ(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var IZ=MZ,RZ=IZ;function DZ(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:RZ(e,t,r)}var LZ=DZ,FZ="\\ud800-\\udfff",BZ="\\u0300-\\u036f",zZ="\\ufe20-\\ufe2f",UZ="\\u20d0-\\u20ff",WZ=BZ+zZ+UZ,qZ="\\ufe0e\\ufe0f",VZ="\\u200d",HZ=RegExp("["+VZ+FZ+WZ+qZ+"]");function GZ(e){return HZ.test(e)}var yR=GZ;function KZ(e){return e.split("")}var YZ=KZ,xR="\\ud800-\\udfff",XZ="\\u0300-\\u036f",ZZ="\\ufe20-\\ufe2f",QZ="\\u20d0-\\u20ff",JZ=XZ+ZZ+QZ,eQ="\\ufe0e\\ufe0f",tQ="["+xR+"]",z0="["+JZ+"]",U0="\\ud83c[\\udffb-\\udfff]",rQ="(?:"+z0+"|"+U0+")",bR="[^"+xR+"]",wR="(?:\\ud83c[\\udde6-\\uddff]){2}",jR="[\\ud800-\\udbff][\\udc00-\\udfff]",nQ="\\u200d",_R=rQ+"?",SR="["+eQ+"]?",aQ="(?:"+nQ+"(?:"+[bR,wR,jR].join("|")+")"+SR+_R+")*",sQ=SR+_R+aQ,iQ="(?:"+[bR+z0+"?",z0,wR,jR,tQ].join("|")+")",oQ=RegExp(U0+"(?="+U0+")|"+iQ+sQ,"g");function lQ(e){return e.match(oQ)||[]}var cQ=lQ,uQ=YZ,dQ=yR,fQ=cQ;function hQ(e){return dQ(e)?fQ(e):uQ(e)}var mQ=hQ,pQ=LZ,gQ=yR,vQ=mQ,yQ=fR;function xQ(e){return function(t){t=yQ(t);var r=gQ(t)?vQ(t):void 0,n=r?r[0]:t.charAt(0),a=r?pQ(r,1).join(""):t.slice(1);return n[e]()+a}}var bQ=xQ,wQ=bQ,jQ=wQ("toUpperCase"),_Q=jQ;const qv=ut(_Q);function pt(e){return function(){return e}}const NR=Math.cos,$p=Math.sin,va=Math.sqrt,Mp=Math.PI,Vv=2*Mp,W0=Math.PI,q0=2*W0,uo=1e-6,SQ=q0-uo;function kR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function NQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kR;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class kQ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kR:NQ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>uo)if(!(Math.abs(f*c-u*d)>uo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,x=Math.sqrt(p),b=Math.sqrt(h),w=s*Math.tan((W0-Math.acos((p+h-v)/(2*x*b)))/2),j=w/b,_=w/x;Math.abs(j-1)>uo&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uo||Math.abs(this._y1-d)>uo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%q0+q0),h>SQ?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>uo&&this._append`A${n},${n},0,${+(h>=W0)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function l_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kQ(t)}function c_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ER(e){this._context=e}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hv(e){return new ER(e)}function PR(e){return e[0]}function CR(e){return e[1]}function OR(e,t){var r=pt(!0),n=null,a=Hv,s=null,o=l_(l);e=typeof e=="function"?e:e===void 0?PR:pt(e),t=typeof t=="function"?t:t===void 0?CR:pt(t);function l(c){var u,d=(c=c_(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:pt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:pt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:pt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function pm(e,t,r){var n=null,a=pt(!0),s=null,o=Hv,l=null,c=l_(u);e=typeof e=="function"?e:e===void 0?PR:pt(+e),t=typeof t=="function"?t:pt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CR:pt(+r);function u(f){var h,m,g,p=(f=c_(f)).length,v,x=!1,b,w=new Array(p),j=new Array(p);for(s==null&&(l=o(b=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return OR().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:pt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class AR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function EQ(e){return new AR(e,!0)}function PQ(e){return new AR(e,!1)}const u_={draw(e,t){const r=va(t/Mp);e.moveTo(r,0),e.arc(0,0,r,0,Vv)}},CQ={draw(e,t){const r=va(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},TR=va(1/3),OQ=TR*2,AQ={draw(e,t){const r=va(t/OQ),n=r*TR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TQ={draw(e,t){const r=va(t),n=-r/2;e.rect(n,n,r,r)}},$Q=.8908130915292852,$R=$p(Mp/10)/$p(7*Mp/10),MQ=$p(Vv/10)*$R,IQ=-NR(Vv/10)*$R,RQ={draw(e,t){const r=va(t*$Q),n=MQ*r,a=IQ*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Vv*s/5,l=NR(o),c=$p(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Ex=va(3),DQ={draw(e,t){const r=-va(t/(Ex*3));e.moveTo(0,r*2),e.lineTo(-Ex*r,-r),e.lineTo(Ex*r,-r),e.closePath()}},yn=-.5,xn=va(3)/2,V0=1/va(12),LQ=(V0/2+1)*3,FQ={draw(e,t){const r=va(t/LQ),n=r/2,a=r*V0,s=n,o=r*V0+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(yn*n-xn*a,xn*n+yn*a),e.lineTo(yn*s-xn*o,xn*s+yn*o),e.lineTo(yn*l-xn*c,xn*l+yn*c),e.lineTo(yn*n+xn*a,yn*a-xn*n),e.lineTo(yn*s+xn*o,yn*o-xn*s),e.lineTo(yn*l+xn*c,yn*c-xn*l),e.closePath()}};function BQ(e,t){let r=null,n=l_(a);e=typeof e=="function"?e:pt(e||u_),t=typeof t=="function"?t:pt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:pt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:pt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ip(){}function Rp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function MR(e){this._context=e}MR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zQ(e){return new MR(e)}function IR(e){this._context=e}IR.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UQ(e){return new IR(e)}function RR(e){this._context=e}RR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WQ(e){return new RR(e)}function DR(e){this._context=e}DR.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qQ(e){return new DR(e)}function _E(e){return e<0?-1:1}function SE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(_E(s)+_E(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function NE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Px(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Dp(e){this._context=e}Dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Px(this,this._t0,NE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Px(this,NE(this,r=SE(this,e,t)),r);break;default:Px(this,this._t0,r=SE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function LR(e){this._context=new FR(e)}(LR.prototype=Object.create(Dp.prototype)).point=function(e,t){Dp.prototype.point.call(this,t,e)};function FR(e){this._context=e}FR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function VQ(e){return new Dp(e)}function HQ(e){return new LR(e)}function BR(e){this._context=e}BR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=kE(e),a=kE(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kE(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function GQ(e){return new BR(e)}function Gv(e,t){this._context=e,this._t=t}Gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function KQ(e){return new Gv(e,.5)}function YQ(e){return new Gv(e,0)}function XQ(e){return new Gv(e,1)}function Dc(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function H0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ZQ(e,t){return e[t]}function QQ(e){const t=[];return t.key=e,t}function JQ(){var e=pt([]),t=H0,r=Dc,n=ZQ;function a(s){var o=Array.from(e.apply(this,arguments),QQ),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=c_(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:pt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:pt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?H0:typeof s=="function"?s:pt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Dc,a):r},a}function eJ(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Dc(e,t)}}function tJ(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Dc(e,t)}}function rJ(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,x=p[n-1][1]||0;m+=v-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Dc(e,t)}}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}var nJ=["type","size","sizeType"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){aJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aJ(e,t,r){return t=sJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sJ(e){var t=iJ(e,"string");return bf(t)=="symbol"?t:t+""}function iJ(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oJ(e,t){if(e==null)return{};var r=lJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zR={symbolCircle:u_,symbolCross:CQ,symbolDiamond:AQ,symbolSquare:TQ,symbolStar:RQ,symbolTriangle:DQ,symbolWye:FQ},cJ=Math.PI/180,uJ=function(t){var r="symbol".concat(qv(t));return zR[r]||u_},dJ=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*cJ;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fJ=function(t,r){zR["symbol".concat(qv(t))]=r},d_=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=oJ(t,nJ),u=PE(PE({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=uJ(n),x=BQ().type(v).size(dJ(s,l,n));return x()},f=u.className,h=u.cx,m=u.cy,g=We(u,!0);return h===+h&&m===+m&&s===+s?$.createElement("path",G0({},g,{className:qe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};d_.registerSymbol=fJ;function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WR(n.key),n)}}function gJ(e,t,r){return t&&pJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vJ(e,t,r){return t=Lp(t),yJ(e,UR()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function yJ(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJ(e)}function xJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function bJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y0(e,t)}function Y0(e,t){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y0(e,t)}function wf(e,t,r){return t=WR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WR(e){var t=wJ(e,"string");return Lc(t)=="symbol"?t:t+""}function wJ(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bn=32,f_=function(e){function t(){return mJ(this,t),vJ(this,t,arguments)}return bJ(t,e),gJ(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=bn/2,o=bn/6,l=bn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:bn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(bn,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(bn/8,"h").concat(bn,"v").concat(bn*3/4,"h").concat(-bn,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=hJ({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(d_,{fill:c,cx:s,cy:s,size:bn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:bn,height:bn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=qe(wf(wf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Re(m.value)?null:m.value;ws(!Re(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return $.createElement("li",K0({className:v,style:f,key:"legend-item-".concat(g)},Tp(n.props,m,g)),$.createElement(F0,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(x,m,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);wf(f_,"displayName","Legend");wf(f_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jJ=Av;function _J(){this.__data__=new jJ,this.size=0}var SJ=_J;function NJ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kJ=NJ;function EJ(e){return this.__data__.get(e)}var PJ=EJ;function CJ(e){return this.__data__.has(e)}var OJ=CJ,AJ=Av,TJ=Jj,$J=e_,MJ=200;function IJ(e,t){var r=this.__data__;if(r instanceof AJ){var n=r.__data__;if(!TJ||n.length<MJ-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $J(n)}return r.set(e,t),this.size=r.size,this}var RJ=IJ,DJ=Av,LJ=SJ,FJ=kJ,BJ=PJ,zJ=OJ,UJ=RJ;function Ou(e){var t=this.__data__=new DJ(e);this.size=t.size}Ou.prototype.clear=LJ;Ou.prototype.delete=FJ;Ou.prototype.get=BJ;Ou.prototype.has=zJ;Ou.prototype.set=UJ;var qR=Ou,WJ="__lodash_hash_undefined__";function qJ(e){return this.__data__.set(e,WJ),this}var VJ=qJ;function HJ(e){return this.__data__.has(e)}var GJ=HJ,KJ=e_,YJ=VJ,XJ=GJ;function Fp(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new KJ;++t<r;)this.add(e[t])}Fp.prototype.add=Fp.prototype.push=YJ;Fp.prototype.has=XJ;var VR=Fp;function ZJ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var HR=ZJ;function QJ(e,t){return e.has(t)}var GR=QJ,JJ=VR,eee=HR,tee=GR,ree=1,nee=2;function aee(e,t,r,n,a,s){var o=r&ree,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&nee?new JJ:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!eee(t,function(x,b){if(!tee(m,b)&&(g===x||a(g,x,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var KR=aee,see=Za,iee=see.Uint8Array,oee=iee;function lee(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var cee=lee;function uee(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var h_=uee,OE=Nh,AE=oee,dee=Qj,fee=KR,hee=cee,mee=h_,pee=1,gee=2,vee="[object Boolean]",yee="[object Date]",xee="[object Error]",bee="[object Map]",wee="[object Number]",jee="[object RegExp]",_ee="[object Set]",See="[object String]",Nee="[object Symbol]",kee="[object ArrayBuffer]",Eee="[object DataView]",TE=OE?OE.prototype:void 0,Cx=TE?TE.valueOf:void 0;function Pee(e,t,r,n,a,s,o){switch(r){case Eee:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kee:return!(e.byteLength!=t.byteLength||!s(new AE(e),new AE(t)));case vee:case yee:case wee:return dee(+e,+t);case xee:return e.name==t.name&&e.message==t.message;case jee:case See:return e==t+"";case bee:var l=hee;case _ee:var c=n&pee;if(l||(l=mee),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=gee,o.set(e,t);var d=fee(l(e),l(t),n,a,s,o);return o.delete(e),d;case Nee:if(Cx)return Cx.call(e)==Cx.call(t)}return!1}var Cee=Pee;function Oee(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var YR=Oee,Aee=YR,Tee=rn;function $ee(e,t,r){var n=t(e);return Tee(e)?n:Aee(n,r(e))}var Mee=$ee;function Iee(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Ree=Iee;function Dee(){return[]}var Lee=Dee,Fee=Ree,Bee=Lee,zee=Object.prototype,Uee=zee.propertyIsEnumerable,$E=Object.getOwnPropertySymbols,Wee=$E?function(e){return e==null?[]:(e=Object(e),Fee($E(e),function(t){return Uee.call(e,t)}))}:Bee,qee=Wee;function Vee(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Hee=Vee,Gee=Ds,Kee=Ls,Yee="[object Arguments]";function Xee(e){return Kee(e)&&Gee(e)==Yee}var Zee=Xee,ME=Zee,Qee=Ls,XR=Object.prototype,Jee=XR.hasOwnProperty,ete=XR.propertyIsEnumerable,tte=ME(function(){return arguments}())?ME:function(e){return Qee(e)&&Jee.call(e,"callee")&&!ete.call(e,"callee")},m_=tte,Bp={exports:{}};function rte(){return!1}var nte=rte;Bp.exports;(function(e,t){var r=Za,n=nte,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Bp,Bp.exports);var ZR=Bp.exports,ate=9007199254740991,ste=/^(?:0|[1-9]\d*)$/;function ite(e,t){var r=typeof e;return t=t??ate,!!t&&(r=="number"||r!="symbol"&&ste.test(e))&&e>-1&&e%1==0&&e<t}var p_=ite,ote=9007199254740991;function lte(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ote}var g_=lte,cte=Ds,ute=g_,dte=Ls,fte="[object Arguments]",hte="[object Array]",mte="[object Boolean]",pte="[object Date]",gte="[object Error]",vte="[object Function]",yte="[object Map]",xte="[object Number]",bte="[object Object]",wte="[object RegExp]",jte="[object Set]",_te="[object String]",Ste="[object WeakMap]",Nte="[object ArrayBuffer]",kte="[object DataView]",Ete="[object Float32Array]",Pte="[object Float64Array]",Cte="[object Int8Array]",Ote="[object Int16Array]",Ate="[object Int32Array]",Tte="[object Uint8Array]",$te="[object Uint8ClampedArray]",Mte="[object Uint16Array]",Ite="[object Uint32Array]",bt={};bt[Ete]=bt[Pte]=bt[Cte]=bt[Ote]=bt[Ate]=bt[Tte]=bt[$te]=bt[Mte]=bt[Ite]=!0;bt[fte]=bt[hte]=bt[Nte]=bt[mte]=bt[kte]=bt[pte]=bt[gte]=bt[vte]=bt[yte]=bt[xte]=bt[bte]=bt[wte]=bt[jte]=bt[_te]=bt[Ste]=!1;function Rte(e){return dte(e)&&ute(e.length)&&!!bt[cte(e)]}var Dte=Rte;function Lte(e){return function(t){return e(t)}}var QR=Lte,zp={exports:{}};zp.exports;(function(e,t){var r=iR,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(zp,zp.exports);var Fte=zp.exports,Bte=Dte,zte=QR,IE=Fte,RE=IE&&IE.isTypedArray,Ute=RE?zte(RE):Bte,JR=Ute,Wte=Hee,qte=m_,Vte=rn,Hte=ZR,Gte=p_,Kte=JR,Yte=Object.prototype,Xte=Yte.hasOwnProperty;function Zte(e,t){var r=Vte(e),n=!r&&qte(e),a=!r&&!n&&Hte(e),s=!r&&!n&&!a&&Kte(e),o=r||n||a||s,l=o?Wte(e.length,String):[],c=l.length;for(var u in e)(t||Xte.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Gte(u,c)))&&l.push(u);return l}var Qte=Zte,Jte=Object.prototype;function ere(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Jte;return e===r}var tre=ere;function rre(e,t){return function(r){return e(t(r))}}var eD=rre,nre=eD,are=nre(Object.keys,Object),sre=are,ire=tre,ore=sre,lre=Object.prototype,cre=lre.hasOwnProperty;function ure(e){if(!ire(e))return ore(e);var t=[];for(var r in Object(e))cre.call(e,r)&&r!="constructor"&&t.push(r);return t}var dre=ure,fre=Zj,hre=g_;function mre(e){return e!=null&&hre(e.length)&&!fre(e)}var Ph=mre,pre=Qte,gre=dre,vre=Ph;function yre(e){return vre(e)?pre(e):gre(e)}var Kv=yre,xre=Mee,bre=qee,wre=Kv;function jre(e){return xre(e,wre,bre)}var _re=jre,DE=_re,Sre=1,Nre=Object.prototype,kre=Nre.hasOwnProperty;function Ere(e,t,r,n,a,s){var o=r&Sre,l=DE(e),c=l.length,u=DE(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:kre.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var x=e[h],b=t[h];if(n)var w=o?n(b,x,h,t,e,s):n(x,b,h,e,t,s);if(!(w===void 0?x===b||a(x,b,r,n,s):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return s.delete(e),s.delete(t),p}var Pre=Ere,Cre=ml,Ore=Za,Are=Cre(Ore,"DataView"),Tre=Are,$re=ml,Mre=Za,Ire=$re(Mre,"Promise"),Rre=Ire,Dre=ml,Lre=Za,Fre=Dre(Lre,"Set"),tD=Fre,Bre=ml,zre=Za,Ure=Bre(zre,"WeakMap"),Wre=Ure,X0=Tre,Z0=Jj,Q0=Rre,J0=tD,ew=Wre,rD=Ds,Au=lR,LE="[object Map]",qre="[object Object]",FE="[object Promise]",BE="[object Set]",zE="[object WeakMap]",UE="[object DataView]",Vre=Au(X0),Hre=Au(Z0),Gre=Au(Q0),Kre=Au(J0),Yre=Au(ew),fo=rD;(X0&&fo(new X0(new ArrayBuffer(1)))!=UE||Z0&&fo(new Z0)!=LE||Q0&&fo(Q0.resolve())!=FE||J0&&fo(new J0)!=BE||ew&&fo(new ew)!=zE)&&(fo=function(e){var t=rD(e),r=t==qre?e.constructor:void 0,n=r?Au(r):"";if(n)switch(n){case Vre:return UE;case Hre:return LE;case Gre:return FE;case Kre:return BE;case Yre:return zE}return t});var Xre=fo,Ox=qR,Zre=KR,Qre=Cee,Jre=Pre,WE=Xre,qE=rn,VE=ZR,ene=JR,tne=1,HE="[object Arguments]",GE="[object Array]",gm="[object Object]",rne=Object.prototype,KE=rne.hasOwnProperty;function nne(e,t,r,n,a,s){var o=qE(e),l=qE(t),c=o?GE:WE(e),u=l?GE:WE(t);c=c==HE?gm:c,u=u==HE?gm:u;var d=c==gm,f=u==gm,h=c==u;if(h&&VE(e)){if(!VE(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Ox),o||ene(e)?Zre(e,t,r,n,a,s):Qre(e,t,c,r,n,a,s);if(!(r&tne)){var m=d&&KE.call(e,"__wrapped__"),g=f&&KE.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new Ox),a(p,v,r,n,s)}}return h?(s||(s=new Ox),Jre(e,t,r,n,a,s)):!1}var ane=nne,sne=ane,YE=Ls;function nD(e,t,r,n,a){return e===t?!0:e==null||t==null||!YE(e)&&!YE(t)?e!==e&&t!==t:sne(e,t,r,n,nD,a)}var v_=nD,ine=qR,one=v_,lne=1,cne=2;function une(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new ine;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?one(d,u,lne|cne,n,f):h))return!1}}return!0}var dne=une,fne=Ki;function hne(e){return e===e&&!fne(e)}var aD=hne,mne=aD,pne=Kv;function gne(e){for(var t=pne(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,mne(a)]}return t}var vne=gne;function yne(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sD=yne,xne=dne,bne=vne,wne=sD;function jne(e){var t=bne(e);return t.length==1&&t[0][2]?wne(t[0][0],t[0][1]):function(r){return r===e||xne(r,e,t)}}var _ne=jne;function Sne(e,t){return e!=null&&t in Object(e)}var Nne=Sne,kne=hR,Ene=m_,Pne=rn,Cne=p_,One=g_,Ane=$v;function Tne(e,t,r){t=kne(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Ane(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&One(a)&&Cne(o,a)&&(Pne(e)||Ene(e)))}var $ne=Tne,Mne=Nne,Ine=$ne;function Rne(e,t){return e!=null&&Ine(e,t,Mne)}var Dne=Rne,Lne=v_,Fne=mR,Bne=Dne,zne=Xj,Une=aD,Wne=sD,qne=$v,Vne=1,Hne=2;function Gne(e,t){return zne(e)&&Une(t)?Wne(qne(e),t):function(r){var n=Fne(r,e);return n===void 0&&n===t?Bne(r,e):Lne(t,n,Vne|Hne)}}var Kne=Gne;function Yne(e){return e}var Tu=Yne;function Xne(e){return function(t){return t==null?void 0:t[e]}}var Zne=Xne,Qne=n_;function Jne(e){return function(t){return Qne(t,e)}}var eae=Jne,tae=Zne,rae=eae,nae=Xj,aae=$v;function sae(e){return nae(e)?tae(aae(e)):rae(e)}var iae=sae,oae=_ne,lae=Kne,cae=Tu,uae=rn,dae=iae;function fae(e){return typeof e=="function"?e:e==null?cae:typeof e=="object"?uae(e)?lae(e[0],e[1]):oae(e):dae(e)}var Yi=fae;function hae(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var iD=hae;function mae(e){return e!==e}var pae=mae;function gae(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var vae=gae,yae=iD,xae=pae,bae=vae;function wae(e,t,r){return t===t?bae(e,t,r):yae(e,xae,r)}var jae=wae,_ae=jae;function Sae(e,t){var r=e==null?0:e.length;return!!r&&_ae(e,t,0)>-1}var Nae=Sae;function kae(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Eae=kae;function Pae(){}var Cae=Pae,Ax=tD,Oae=Cae,Aae=h_,Tae=1/0,$ae=Ax&&1/Aae(new Ax([,-0]))[1]==Tae?function(e){return new Ax(e)}:Oae,Mae=$ae,Iae=VR,Rae=Nae,Dae=Eae,Lae=GR,Fae=Mae,Bae=h_,zae=200;function Uae(e,t,r){var n=-1,a=Rae,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Dae;else if(s>=zae){var u=t?null:Fae(e);if(u)return Bae(u);o=!1,a=Lae,c=new Iae}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Wae=Uae,qae=Yi,Vae=Wae;function Hae(e,t){return e&&e.length?Vae(e,qae(t)):[]}var Gae=Hae;const XE=ut(Gae);function oD(e,t,r){return t===!0?XE(e,r):Re(t)?XE(e,t):e}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}var Kae=["ref"];function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){Yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cD(n.key),n)}}function Xae(e,t,r){return t&&QE(e.prototype,t),r&&QE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zae(e,t,r){return t=Up(t),Qae(e,lD()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function Qae(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jae(e)}function Jae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function ese(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tw(e,t)}function tw(e,t){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tw(e,t)}function Yv(e,t,r){return t=cD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=tse(e,"string");return Fc(t)=="symbol"?t:t+""}function tse(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rse(e,t){if(e==null)return{};var r=nse(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ase(e){return e.value}function sse(e,t){if($.isValidElement(e))return $.cloneElement(e,t);if(typeof e=="function")return $.createElement(e,t);t.ref;var r=rse(t,Kae);return $.createElement(f_,r)}var JE=1,uc=function(e){function t(){var r;Yae(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Zae(this,t,[].concat(a)),Yv(r,"lastBoundingBox",{width:-1,height:-1}),r}return ese(t,e),Xae(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>JE||Math.abs(a.height-this.lastBoundingBox.height)>JE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ns({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ns(ns({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ns(ns({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},sse(s,ns(ns({},this.props),{},{payload:oD(d,u,ase)})))}}],[{key:"getWithHeight",value:function(n,a){var s=ns(ns({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ue(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);Yv(uc,"displayName","Legend");Yv(uc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var e2=Nh,ise=m_,ose=rn,t2=e2?e2.isConcatSpreadable:void 0;function lse(e){return ose(e)||ise(e)||!!(t2&&e&&e[t2])}var cse=lse,use=YR,dse=cse;function uD(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=dse),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?uD(l,t-1,r,n,a):use(a,l):n||(a[a.length]=l)}return a}var dD=uD;function fse(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var hse=fse,mse=hse,pse=mse(),gse=pse,vse=gse,yse=Kv;function xse(e,t){return e&&vse(e,t,yse)}var fD=xse,bse=Ph;function wse(e,t){return function(r,n){if(r==null)return r;if(!bse(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var jse=wse,_se=fD,Sse=jse,Nse=Sse(_se),y_=Nse,kse=y_,Ese=Ph;function Pse(e,t){var r=-1,n=Ese(e)?Array(e.length):[];return kse(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var hD=Pse;function Cse(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Ose=Cse,r2=Nu;function Ase(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=r2(e),o=t!==void 0,l=t===null,c=t===t,u=r2(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Tse=Ase,$se=Tse;function Mse(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=$se(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Ise=Mse,Tx=r_,Rse=n_,Dse=Yi,Lse=hD,Fse=Ose,Bse=QR,zse=Ise,Use=Tu,Wse=rn;function qse(e,t,r){t.length?t=Tx(t,function(s){return Wse(s)?function(o){return Rse(o,s.length===1?s[0]:s)}:s}):t=[Use];var n=-1;t=Tx(t,Bse(Dse));var a=Lse(e,function(s,o,l){var c=Tx(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Fse(a,function(s,o){return zse(s,o,r)})}var Vse=qse;function Hse(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Gse=Hse,Kse=Gse,n2=Math.max;function Yse(e,t,r){return t=n2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=n2(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Kse(e,this,l)}}var Xse=Yse;function Zse(e){return function(){return e}}var Qse=Zse,Jse=ml,eie=function(){try{var e=Jse(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mD=eie,tie=Qse,a2=mD,rie=Tu,nie=a2?function(e,t){return a2(e,"toString",{configurable:!0,enumerable:!1,value:tie(t),writable:!0})}:rie,aie=nie,sie=800,iie=16,oie=Date.now;function lie(e){var t=0,r=0;return function(){var n=oie(),a=iie-(n-r);if(r=n,a>0){if(++t>=sie)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cie=lie,uie=aie,die=cie,fie=die(uie),hie=fie,mie=Tu,pie=Xse,gie=hie;function vie(e,t){return gie(pie(e,t,mie),e+"")}var yie=vie,xie=Qj,bie=Ph,wie=p_,jie=Ki;function _ie(e,t,r){if(!jie(r))return!1;var n=typeof t;return(n=="number"?bie(r)&&wie(t,r.length):n=="string"&&t in r)?xie(r[t],e):!1}var Xv=_ie,Sie=dD,Nie=Vse,kie=yie,s2=Xv,Eie=kie(function(e,t){if(e==null)return[];var r=t.length;return r>1&&s2(e,t[0],t[1])?t=[]:r>2&&s2(t[0],t[1],t[2])&&(t=[t[0]]),Nie(e,Sie(t,1),[])}),Pie=Eie;const x_=ut(Pie);function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function Cie(e,t){return $ie(e)||Tie(e,t)||Aie(e,t)||Oie()}function Oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(e,t){if(e){if(typeof e=="string")return i2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i2(e,t)}}function i2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $ie(e){if(Array.isArray(e))return e}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){Mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mie(e,t,r){return t=Iie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iie(e){var t=Rie(e,"string");return jf(t)=="symbol"?t:t+""}function Rie(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Die(e){return Array.isArray(e)&&nr(e[0])&&nr(e[1])?e.join(" ~ "):e}var Lie=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var P={padding:0,margin:0},A=(h?x_(d,h):d).map(function(T,M){if(T.type==="none")return null;var I=$x({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),B=T.formatter||f||Die,R=T.value,L=T.name,W=R,Z=L;if(B&&W!=null&&Z!=null){var G=B(R,L,T,M,d);if(Array.isArray(G)){var ee=Cie(G,2);W=ee[0],Z=ee[1]}else W=G}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:I},nr(Z)?$.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,nr(Z)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},W),$.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:P},A)}return null},j=$x({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=$x({margin:0},u),S=!Be(p),N=S?p:"",k=qe("recharts-default-tooltip",m),E=qe("recharts-tooltip-label",g);S&&v&&d!==void 0&&d!==null&&(N=v(p,d));var O=b?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",rw({className:k,style:j},O),$.createElement("p",{className:E,style:_},$.isValidElement(N)?N:"".concat(N)),w())};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function vm(e,t,r){return t=Fie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fie(e){var t=Bie(e,"string");return _f(t)=="symbol"?t:t+""}function Bie(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nd="recharts-tooltip-wrapper",zie={visibility:"hidden"};function Uie(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qe(nd,vm(vm(vm(vm({},"".concat(nd,"-right"),ue(r)&&t&&ue(t.x)&&r>=t.x),"".concat(nd,"-left"),ue(r)&&t&&ue(t.x)&&r<t.x),"".concat(nd,"-bottom"),ue(n)&&t&&ue(t.y)&&n>=t.y),"".concat(nd,"-top"),ue(n)&&t&&ue(t.y)&&n<t.y))}function l2(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&ue(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Wie(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qie(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=l2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=l2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Wie({translateX:d,translateY:f,useTranslate3d:l})):u=zie,{cssProperties:u,cssClasses:Uie({translateX:d,translateY:f,coordinate:r})}}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gD(n.key),n)}}function Gie(e,t,r){return t&&Hie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kie(e,t,r){return t=Wp(t),Yie(e,pD()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function Yie(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xie(e)}function Xie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function Zie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nw(e,t)}function nw(e,t){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nw(e,t)}function aw(e,t,r){return t=gD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gD(e){var t=Qie(e,"string");return Bc(t)=="symbol"?t:t+""}function Qie(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d2=1,Jie=function(e){function t(){var r;Vie(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kie(this,t,[].concat(a)),aw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Zie(t,e),Gie(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>d2||Math.abs(n.height-this.state.lastBoundingBox.height)>d2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=qie({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),j=w.cssClasses,_=w.cssProperties,S=u2(u2({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return $.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(y.PureComponent),eoe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$u={isSsr:eoe()};function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){b_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function roe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yD(n.key),n)}}function noe(e,t,r){return t&&roe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aoe(e,t,r){return t=qp(t),soe(e,vD()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function soe(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(e)}function ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function ooe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sw(e,t)}function sw(e,t){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sw(e,t)}function b_(e,t,r){return t=yD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yD(e){var t=loe(e,"string");return zc(t)=="symbol"?t:t+""}function loe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function coe(e){return e.dataKey}function uoe(e,t){return $.isValidElement(e)?$.cloneElement(e,t):typeof e=="function"?$.createElement(e,t):$.createElement(Lie,t)}var Ea=function(e){function t(){return toe(this,t),aoe(this,t,arguments)}return ooe(t,e),noe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,_=g??[];f&&_.length&&(_=oD(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,coe));var S=_.length>0;return $.createElement(Jie,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:j},uoe(u,h2(h2({},this.props),{},{payload:_})))}}])}(y.PureComponent);b_(Ea,"displayName","Tooltip");b_(Ea,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$u.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var doe=Za,foe=function(){return doe.Date.now()},hoe=foe,moe=/\s/;function poe(e){for(var t=e.length;t--&&moe.test(e.charAt(t)););return t}var goe=poe,voe=goe,yoe=/^\s+/;function xoe(e){return e&&e.slice(0,voe(e)+1).replace(yoe,"")}var boe=xoe,woe=boe,m2=Ki,joe=Nu,p2=NaN,_oe=/^[-+]0x[0-9a-f]+$/i,Soe=/^0b[01]+$/i,Noe=/^0o[0-7]+$/i,koe=parseInt;function Eoe(e){if(typeof e=="number")return e;if(joe(e))return p2;if(m2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=m2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=woe(e);var r=Soe.test(e);return r||Noe.test(e)?koe(e.slice(2),r?2:8):_oe.test(e)?p2:+e}var xD=Eoe,Poe=Ki,Mx=hoe,g2=xD,Coe="Expected a function",Ooe=Math.max,Aoe=Math.min;function Toe(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Coe);t=g2(t)||0,Poe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Ooe(g2(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=a;return n=a=void 0,u=S,o=e.apply(k,N),o}function g(S){return u=S,l=setTimeout(x,t),d?m(S):o}function p(S){var N=S-c,k=S-u,E=t-N;return f?Aoe(E,s-k):E}function v(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=s}function x(){var S=Mx();if(v(S))return b(S);l=setTimeout(x,p(S))}function b(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:b(Mx())}function _(){var S=Mx(),N=v(S);if(n=arguments,a=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return _.cancel=w,_.flush=j,_}var $oe=Toe,Moe=$oe,Ioe=Ki,Roe="Expected a function";function Doe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Roe);return Ioe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Moe(e,t,{leading:n,maxWait:t,trailing:a})}var Loe=Doe;const bD=ut(Loe);function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){Foe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Foe(e,t,r){return t=Boe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=zoe(e,"string");return Sf(t)=="symbol"?t:t+""}function zoe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uoe(e,t){return Hoe(e)||Voe(e,t)||qoe(e,t)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(e,t){if(e){if(typeof e=="string")return y2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(e,t)}}function y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Voe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Hoe(e){if(Array.isArray(e))return e}var wD=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,x=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,_=y.useRef(null),S=y.useRef();S.current=b,y.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var N=y.useState({containerWidth:a.width,containerHeight:a.height}),k=Uoe(N,2),E=k[0],O=k[1],C=y.useCallback(function(A,T){O(function(M){var I=Math.round(A),B=Math.round(T);return M.containerWidth===I&&M.containerHeight===B?M:{containerWidth:I,containerHeight:B}})},[]);y.useEffect(function(){var A=function(L){var W,Z=L[0].contentRect,G=Z.width,ee=Z.height;C(G,ee),(W=S.current)===null||W===void 0||W.call(S,G,ee)};p>0&&(A=bD(A,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(A),M=_.current.getBoundingClientRect(),I=M.width,B=M.height;return C(I,B),T.observe(_.current),function(){T.disconnect()}},[C,p]);var P=y.useMemo(function(){var A=E.containerWidth,T=E.containerHeight;if(A<0||T<0)return null;ws(wo(o)||wo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ws(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=wo(o)?A:o,I=wo(c)?T:c;r&&r>0&&(M?I=M/r:I&&(M=I*r),h&&I>h&&(I=h)),ws(M>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,I,o,c,d,f,r);var B=!Array.isArray(m)&&bs(m.type).endsWith("Chart");return $.Children.map(m,function(R){return $.isValidElement(R)?y.cloneElement(R,ym({width:M,height:I},B?{style:ym({height:"100%",width:"100%",maxHeight:I,maxWidth:M},R.props.style)}:{})):R})},[r,m,c,h,f,d,E,o]);return $.createElement("div",{id:v?"".concat(v):void 0,className:qe("recharts-responsive-container",x),style:ym(ym({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},P)}),w_=function(t){return null};w_.displayName="Cell";function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){Goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t,r){return t=Koe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Koe(e){var t=Yoe(e,"string");return Nf(t)=="symbol"?t:t+""}function Yoe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nl={widthCache:{},cacheCount:0},Xoe=2e3,Zoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b2="recharts_measurement_span";function Qoe(e){var t=iw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Rd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$u.isSsr)return{width:0,height:0};var n=Qoe(r),a=JSON.stringify({text:t,copyStyle:n});if(Nl.widthCache[a])return Nl.widthCache[a];try{var s=document.getElementById(b2);s||(s=document.createElement("span"),s.setAttribute("id",b2),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=iw(iw({},Zoe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Nl.widthCache[a]=c,++Nl.cacheCount>Xoe&&(Nl.cacheCount=0,Nl.widthCache={}),c}catch{return{width:0,height:0}}},Joe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function Vp(e,t){return nle(e)||rle(e,t)||tle(e,t)||ele()}function ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tle(e,t){if(e){if(typeof e=="string")return w2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w2(e,t)}}function w2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nle(e){if(Array.isArray(e))return e}function ale(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ile(n.key),n)}}function sle(e,t,r){return t&&j2(e.prototype,t),r&&j2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ile(e){var t=ole(e,"string");return kf(t)=="symbol"?t:t+""}function ole(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ule=Object.keys(jD),Xl="NaN";function dle(e,t){return e*jD[t]}var xm=function(){function e(t,r){ale(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!lle.test(r)&&(this.num=NaN,this.unit=""),ule.includes(r)&&(this.num=dle(t,r),this.unit="px")}return sle(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=cle.exec(r))!==null&&n!==void 0?n:[],s=Vp(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function _D(e){if(e.includes(Xl))return Xl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_2.exec(t))!==null&&r!==void 0?r:[],a=Vp(n,4),s=a[1],o=a[2],l=a[3],c=xm.parse(s??""),u=xm.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Xl;t=t.replace(_2,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=S2.exec(t))!==null&&f!==void 0?f:[],m=Vp(h,4),g=m[1],p=m[2],v=m[3],x=xm.parse(g??""),b=xm.parse(v??""),w=p==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Xl;t=t.replace(S2,w.toString())}return t}var N2=/\(([^()]*)\)/;function fle(e){for(var t=e;t.includes("(");){var r=N2.exec(t),n=Vp(r,2),a=n[1];t=t.replace(N2,_D(a))}return t}function hle(e){var t=e.replace(/\s+/g,"");return t=fle(t),t=_D(t),t}function mle(e){try{return hle(e)}catch{return Xl}}function Ix(e){var t=mle(e.slice(5,-1));return t===Xl?"":t}var ple=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gle=["dx","dy","angle","className","breakAll"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(this,arguments)}function k2(e,t){if(e==null)return{};var r=vle(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E2(e,t){return wle(e)||ble(e,t)||xle(e,t)||yle()}function yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xle(e,t){if(e){if(typeof e=="string")return P2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P2(e,t)}}function P2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ble(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wle(e){if(Array.isArray(e))return e}var SD=/[ \f\n\r\t\v\u2028\u2029]+/,ND=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Be(r)||(n?s=r.toString().split(""):s=r.toString().split(SD));var o=s.map(function(c){return{word:c,width:Rd(c,a).width}}),l=n?0:Rd("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},jle=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ue(o),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(I,B){var R=B.word,L=B.width,W=I[I.length-1];if(W&&(a==null||s||W.width+L+n<Number(a)))W.words.push(R),W.width+=L+n;else{var Z={words:[R],width:L};I.push(Z)}return I},[])},m=h(r),g=function(M){return M.reduce(function(I,B){return I.width>B.width?I:B})};if(!d)return m;for(var p="",v=function(M){var I=f.slice(0,M),B=ND({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,R=h(B),L=R.length>o||g(R).width>Number(a);return[L,R]},x=0,b=f.length-1,w=0,j;x<=b&&w<=f.length-1;){var _=Math.floor((x+b)/2),S=_-1,N=v(S),k=E2(N,2),E=k[0],O=k[1],C=v(_),P=E2(C,1),A=P[0];if(!E&&!A&&(x=_+1),E&&A&&(b=_-1),!E&&A){j=O;break}w++}return j||m},C2=function(t){var r=Be(t)?[]:t.toString().split(SD);return[{words:r}]},_le=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!$u.isSsr){var c,u,d=ND({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return C2(a);return jle({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return C2(a)},O2="#808080",Hp=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,x=v===void 0?O2:v,b=k2(t,ple),w=y.useMemo(function(){return _le({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,_=b.dy,S=b.angle,N=b.className,k=b.breakAll,E=k2(b,gle);if(!nr(n)||!nr(s))return null;var O=n+(ue(j)?j:0),C=s+(ue(_)?_:0),P;switch(p){case"start":P=Ix("calc(".concat(u,")"));break;case"middle":P=Ix("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=Ix("calc(".concat(w.length-1," * -").concat(l,")"));break}var A=[];if(f){var T=w[0].width,M=b.width;A.push("scale(".concat((ue(M)?M/T:1)/T,")"))}return S&&A.push("rotate(".concat(S,", ").concat(O,", ").concat(C,")")),A.length&&(E.transform=A.join(" ")),$.createElement("text",ow({},We(E,!0),{x:O,y:C,className:qe("recharts-text",N),textAnchor:m,fill:x.includes("url")?O2:x}),w.map(function(I,B){var R=I.words.join(k?"":" ");return $.createElement("tspan",{x:O,dy:B===0?P:l,key:"".concat(R,"-").concat(B)},R)}))};function Pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sle(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function j_(e){let t,r,n;e.length!==2?(t=Pi,r=(l,c)=>Pi(e(l),c),n=(l,c)=>e(l)-c):(t=e===Pi||e===Sle?e:Nle,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function Nle(){return 0}function kD(e){return e===null?NaN:+e}function*kle(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ele=j_(Pi),Ch=Ele.right;j_(kD).center;class A2 extends Map{constructor(t,r=Ole){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(T2(this,t))}has(t){return super.has(T2(this,t))}set(t,r){return super.set(Ple(this,t),r)}delete(t){return super.delete(Cle(this,t))}}function T2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ple({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Cle({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ole(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ale(e=Pi){if(e===Pi)return ED;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ED(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Tle=Math.sqrt(50),$le=Math.sqrt(10),Mle=Math.sqrt(2);function Gp(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Tle?10:s>=$le?5:s>=Mle?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Gp(e,t,r*2):[l,c,u]}function lw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Gp(t,e,r):Gp(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function cw(e,t,r){return t=+t,e=+e,r=+r,Gp(e,t,r)[2]}function uw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?cw(t,e,r):cw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function M2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function PD(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ED:Ale(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));PD(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(ad(e,r,t),a(e[n],s)>0&&ad(e,r,n);o<l;){for(ad(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?ad(e,r,l):(++l,ad(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ad(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ile(e,t,r){if(e=Float64Array.from(kle(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return M2(e);if(t>=1)return $2(e);var n,a=(n-1)*t,s=Math.floor(a),o=$2(PD(e,s).subarray(0,s+1)),l=M2(e.subarray(s+1));return o+(l-o)*(a-s)}}function Rle(e,t,r=kD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Dle(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dw=Symbol("implicit");function __(){var e=new A2,t=[],r=[],n=dw;function a(s){let o=e.get(s);if(o===void 0){if(n!==dw)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new A2;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return __(t,r).unknown(n)},Rn.apply(a,arguments),a}function Ef(){var e=__().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Dle(h).map(function(x){return g+s*x});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ef(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Rn.apply(f(),arguments)}function CD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CD(t())},e}function Dd(){return CD(Ef.apply(null,arguments).paddingInner(1))}function S_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Oh(){}var Pf=.7,Kp=1/Pf,dc="\\s*([+-]?\\d+)\\s*",Cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lle=/^#([0-9a-f]{3,8})$/,Fle=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),Ble=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),zle=new RegExp(`^rgba\\(${dc},${dc},${dc},${Cf}\\)$`),Ule=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${Cf}\\)$`),Wle=new RegExp(`^hsl\\(${Cf},${Ua},${Ua}\\)$`),qle=new RegExp(`^hsla\\(${Cf},${Ua},${Ua},${Cf}\\)$`),I2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S_(Oh,Of,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:R2,formatHex:R2,formatHex8:Vle,formatHsl:Hle,formatRgb:D2,toString:D2});function R2(){return this.rgb().formatHex()}function Vle(){return this.rgb().formatHex8()}function Hle(){return AD(this).formatHsl()}function D2(){return this.rgb().formatRgb()}function Of(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Lle.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?L2(t):r===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fle.exec(e))?new Xr(t[1],t[2],t[3],1):(t=Ble.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zle.exec(e))?bm(t[1],t[2],t[3],t[4]):(t=Ule.exec(e))?bm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Wle.exec(e))?z2(t[1],t[2]/100,t[3]/100,1):(t=qle.exec(e))?z2(t[1],t[2]/100,t[3]/100,t[4]):I2.hasOwnProperty(e)?L2(I2[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function L2(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function bm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xr(e,t,r,n)}function Gle(e){return e instanceof Oh||(e=Of(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function fw(e,t,r,n){return arguments.length===1?Gle(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}S_(Xr,fw,OD(Oh,{brighter(e){return e=e==null?Kp:Math.pow(Kp,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pf:Math.pow(Pf,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(Bo(this.r),Bo(this.g),Bo(this.b),Yp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F2,formatHex:F2,formatHex8:Kle,formatRgb:B2,toString:B2}));function F2(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}`}function Kle(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}${jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function B2(){const e=Yp(this.opacity);return`${e===1?"rgb(":"rgba("}${Bo(this.r)}, ${Bo(this.g)}, ${Bo(this.b)}${e===1?")":`, ${e})`}`}function Yp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jo(e){return e=Bo(e),(e<16?"0":"")+e.toString(16)}function z2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new aa(e,t,r,n)}function AD(e){if(e instanceof aa)return new aa(e.h,e.s,e.l,e.opacity);if(e instanceof Oh||(e=Of(e)),!e)return new aa;if(e instanceof aa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new aa(o,l,c,e.opacity)}function Yle(e,t,r,n){return arguments.length===1?AD(e):new aa(e,t,r,n??1)}function aa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}S_(aa,Yle,OD(Oh,{brighter(e){return e=e==null?Kp:Math.pow(Kp,e),new aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pf:Math.pow(Pf,e),new aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xr(Rx(e>=240?e-240:e+120,a,n),Rx(e,a,n),Rx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new aa(U2(this.h),wm(this.s),wm(this.l),Yp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yp(this.opacity);return`${e===1?"hsl(":"hsla("}${U2(this.h)}, ${wm(this.s)*100}%, ${wm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function U2(e){return e=(e||0)%360,e<0?e+360:e}function wm(e){return Math.max(0,Math.min(1,e||0))}function Rx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const N_=e=>()=>e;function Xle(e,t){return function(r){return e+r*t}}function Zle(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Qle(e){return(e=+e)==1?TD:function(t,r){return r-t?Zle(t,r,e):N_(isNaN(t)?r:t)}}function TD(e,t){var r=t-e;return r?Xle(e,r):N_(isNaN(e)?t:e)}const W2=function e(t){var r=Qle(t);function n(a,s){var o=r((a=fw(a)).r,(s=fw(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=TD(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Jle(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function ece(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tce(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Mu(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function rce(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nce(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Mu(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var hw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dx=new RegExp(hw.source,"g");function ace(e){return function(){return e}}function sce(e){return function(t){return e(t)+""}}function ice(e,t){var r=hw.lastIndex=Dx.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=hw.exec(e))&&(a=Dx.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Xp(n,a)})),r=Dx.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?sce(c[0].x):ace(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Mu(e,t){var r=typeof t,n;return t==null||r==="boolean"?N_(t):(r==="number"?Xp:r==="string"?(n=Of(t))?(t=n,W2):ice:t instanceof Of?W2:t instanceof Date?rce:ece(t)?Jle:Array.isArray(t)?tce:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nce:Xp)(e,t)}function k_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oce(e,t){t===void 0&&(t=e,e=Mu);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function lce(e){return function(){return e}}function Zp(e){return+e}var q2=[0,1];function Lr(e){return e}function mw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lce(isNaN(t)?NaN:.5)}function cce(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uce(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=mw(a,n),s=r(o,s)):(n=mw(n,a),s=r(s,o)),function(l){return s(n(l))}}function dce(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=mw(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Ch(e,l,1,n)-1;return s[c](a[c](l))}}function Ah(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zv(){var e=q2,t=q2,r=Mu,n,a,s,o=Lr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Lr&&(o=cce(e[0],e[h-1])),l=h>2?dce:uce,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Xp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Zp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=k_,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Lr,d()):o!==Lr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function E_(){return Zv()(Lr,Lr)}function fce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Uc(e){return e=Qp(Math.abs(e)),e?e[1]:NaN}function hce(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function mce(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Af(e){if(!(t=pce.exec(e)))throw new Error("invalid format: "+e);var t;return new P_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Af.prototype=P_.prototype;function P_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}P_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gce(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var $D;function vce(e,t){var r=Qp(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-($D=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qp(e,Math.max(0,t+s-1))[0]}function V2(e,t){var r=Qp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const H2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fce,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>V2(e*100,t),r:V2,s:vce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function G2(e){return e}var K2=Array.prototype.map,Y2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yce(e){var t=e.grouping===void 0||e.thousands===void 0?G2:hce(K2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?G2:mce(K2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Af(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,x=f.width,b=f.comma,w=f.precision,j=f.trim,_=f.type;_==="n"?(b=!0,_="g"):H2[_]||(w===void 0&&(w=12),j=!0,_="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=p==="$"?n:/[%p]/.test(_)?o:"",k=H2[_],E=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(C){var P=S,A=N,T,M,I;if(_==="c")A=k(C)+A,C="";else{C=+C;var B=C<0||1/C<0;if(C=isNaN(C)?c:k(Math.abs(C),w),j&&(C=gce(C)),B&&+C==0&&g!=="+"&&(B=!1),P=(B?g==="("?g:l:g==="-"||g==="("?"":g)+P,A=(_==="s"?Y2[8+$D/3]:"")+A+(B&&g==="("?")":""),E){for(T=-1,M=C.length;++T<M;)if(I=C.charCodeAt(T),48>I||I>57){A=(I===46?a+C.slice(T+1):C.slice(T))+A,C=C.slice(0,T);break}}}b&&!v&&(C=t(C,1/0));var R=P.length+C.length+A.length,L=R<x?new Array(x-R+1).join(h):"";switch(b&&v&&(C=t(L+C,L.length?x-A.length:1/0),L=""),m){case"<":C=P+C+A+L;break;case"=":C=P+L+C+A;break;case"^":C=L.slice(0,R=L.length>>1)+P+C+A+L.slice(R);break;default:C=L+P+C+A;break}return s(C)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=Af(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Uc(h)/3)))*3,p=Math.pow(10,-g),v=Y2[8+g/3];return function(x){return m(p*x)+v}}return{format:u,formatPrefix:d}}var jm,C_,MD;xce({thousands:",",grouping:[3],currency:["$",""]});function xce(e){return jm=yce(e),C_=jm.format,MD=jm.formatPrefix,jm}function bce(e){return Math.max(0,-Uc(Math.abs(e)))}function wce(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uc(t)/3)))*3-Uc(Math.abs(e)))}function jce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Uc(t)-Uc(e))+1}function ID(e,t,r,n){var a=uw(e,t,r),s;switch(n=Af(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=wce(a,o))&&(n.precision=s),MD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=jce(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=bce(a))&&(n.precision=s-(n.type==="%")*2);break}}return C_(n)}function Xi(e){var t=e.domain;return e.ticks=function(r){var n=t();return lw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ID(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=cw(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Jp(){var e=E_();return e.copy=function(){return Ah(e,Jp())},Rn.apply(e,arguments),Xi(e)}function RD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return RD(e).unknown(t)},e=arguments.length?Array.from(e,Zp):[0,1],Xi(r)}function DD(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function X2(e){return Math.log(e)}function Z2(e){return Math.exp(e)}function _ce(e){return-Math.log(-e)}function Sce(e){return-Math.exp(-e)}function Nce(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kce(e){return e===10?Nce:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ece(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Q2(e){return(t,r)=>-e(-t,r)}function O_(e){const t=e(X2,Z2),r=t.domain;let n=10,a,s;function o(){return a=Ece(n),s=kce(n),r()[0]<0?(a=Q2(a),s=Q2(s),e(_ce,Sce)):e(X2,Z2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<v&&(x=lw(u,d,v))}else x=lw(h,m,Math.min(m-h,v)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Af(c)).precision==null&&(c.trim=!0),c=C_(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(DD(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function LD(){const e=O_(Zv()).domain([1,10]);return e.copy=()=>Ah(e,LD()).base(e.base()),Rn.apply(e,arguments),e}function J2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function A_(e){var t=1,r=e(J2(t),eP(t));return r.constant=function(n){return arguments.length?e(J2(t=+n),eP(t)):t},Xi(r)}function FD(){var e=A_(Zv());return e.copy=function(){return Ah(e,FD()).constant(e.constant())},Rn.apply(e,arguments)}function tP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Pce(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Cce(e){return e<0?-e*e:e*e}function T_(e){var t=e(Lr,Lr),r=1;function n(){return r===1?e(Lr,Lr):r===.5?e(Pce,Cce):e(tP(r),tP(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Xi(t)}function $_(){var e=T_(Zv());return e.copy=function(){return Ah(e,$_()).exponent(e.exponent())},Rn.apply(e,arguments),e}function Oce(){return $_.apply(null,arguments).exponent(.5)}function rP(e){return Math.sign(e)*e*e}function Ace(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function BD(){var e=E_(),t=[0,1],r=!1,n;function a(s){var o=Ace(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(rP(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Zp)).map(rP)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return BD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Rn.apply(a,arguments),Xi(a)}function zD(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Rle(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Ch(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Pi),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return zD().domain(e).range(t).unknown(n)},Rn.apply(s,arguments)}function UD(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Ch(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return UD().domain([e,t]).range(a).unknown(s)},Rn.apply(Xi(o),arguments)}function WD(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Ch(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return WD().domain(e).range(t).unknown(r)},Rn.apply(a,arguments)}const Lx=new Date,Fx=new Date;function ar(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>ar(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Lx.setTime(+s),Fx.setTime(+o),e(Lx),e(Fx),Math.floor(r(Lx,Fx))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const eg=ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);eg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):eg);eg.range;const ps=1e3,Nn=ps*60,gs=Nn*60,Os=gs*24,M_=Os*7,nP=Os*30,Bx=Os*365,_o=ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getUTCSeconds());_o.range;const I_=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ps)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getMinutes());I_.range;const R_=ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCMinutes());R_.range;const D_=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ps-e.getMinutes()*Nn)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getHours());D_.range;const L_=ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gs)},(e,t)=>(t-e)/gs,e=>e.getUTCHours());L_.range;const Th=ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nn)/Os,e=>e.getDate()-1);Th.range;const Qv=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>e.getUTCDate()-1);Qv.range;const qD=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>Math.floor(e/Os));qD.range;function pl(e){return ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/M_)}const Jv=pl(0),tg=pl(1),Tce=pl(2),$ce=pl(3),Wc=pl(4),Mce=pl(5),Ice=pl(6);Jv.range;tg.range;Tce.range;$ce.range;Wc.range;Mce.range;Ice.range;function gl(e){return ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/M_)}const ey=gl(0),rg=gl(1),Rce=gl(2),Dce=gl(3),qc=gl(4),Lce=gl(5),Fce=gl(6);ey.range;rg.range;Rce.range;Dce.range;qc.range;Lce.range;Fce.range;const F_=ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());F_.range;const B_=ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());B_.range;const As=ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());As.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});As.range;const Ts=ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ts.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ts.range;function VD(e,t,r,n,a,s){const o=[[_o,1,ps],[_o,5,5*ps],[_o,15,15*ps],[_o,30,30*ps],[s,1,Nn],[s,5,5*Nn],[s,15,15*Nn],[s,30,30*Nn],[a,1,gs],[a,3,3*gs],[a,6,6*gs],[a,12,12*gs],[n,1,Os],[n,2,2*Os],[r,1,M_],[t,1,nP],[t,3,3*nP],[e,1,Bx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=j_(([,,v])=>v).right(o,h);if(m===o.length)return e.every(uw(u/Bx,d/Bx,f));if(m===0)return eg.every(Math.max(uw(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[Bce,zce]=VD(Ts,B_,ey,qD,L_,R_),[Uce,Wce]=VD(As,F_,Jv,Th,D_,I_);function zx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ux(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qce(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=id(a),d=od(a),f=id(s),h=od(s),m=id(o),g=od(o),p=id(l),v=od(l),x=id(c),b=od(c),w={a:B,A:R,b:L,B:W,c:null,d:cP,e:cP,f:hue,g:_ue,G:Nue,H:uue,I:due,j:fue,L:HD,m:mue,M:pue,p:Z,q:G,Q:fP,s:hP,S:gue,u:vue,U:yue,V:xue,w:bue,W:wue,x:null,X:null,y:jue,Y:Sue,Z:kue,"%":dP},j={a:ee,A:fe,b:U,B:Ne,c:null,d:uP,e:uP,f:Oue,g:Bue,G:Uue,H:Eue,I:Pue,j:Cue,L:KD,m:Aue,M:Tue,p:te,q:we,Q:fP,s:hP,S:$ue,u:Mue,U:Iue,V:Rue,w:Due,W:Lue,x:null,X:null,y:Fue,Y:zue,Z:Wue,"%":dP},_={a:O,A:C,b:P,B:A,c:T,d:oP,e:oP,f:iue,g:iP,G:sP,H:lP,I:lP,j:rue,L:sue,m:tue,M:nue,p:E,q:eue,Q:lue,s:cue,S:aue,u:Yce,U:Xce,V:Zce,w:Kce,W:Qce,x:M,X:I,y:iP,Y:sP,Z:Jce,"%":oue};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(Q,ne){return function(de){var q=[],Me=-1,Pe=0,et=Q.length,tt,_t,Pr;for(de instanceof Date||(de=new Date(+de));++Me<et;)Q.charCodeAt(Me)===37&&(q.push(Q.slice(Pe,Me)),(_t=aP[tt=Q.charAt(++Me)])!=null?tt=Q.charAt(++Me):_t=tt==="e"?" ":"0",(Pr=ne[tt])&&(tt=Pr(de,_t)),q.push(tt),Pe=Me+1);return q.push(Q.slice(Pe,Me)),q.join("")}}function N(Q,ne){return function(de){var q=sd(1900,void 0,1),Me=k(q,Q,de+="",0),Pe,et;if(Me!=de.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ne&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Pe=Ux(sd(q.y,0,1)),et=Pe.getUTCDay(),Pe=et>4||et===0?rg.ceil(Pe):rg(Pe),Pe=Qv.offset(Pe,(q.V-1)*7),q.y=Pe.getUTCFullYear(),q.m=Pe.getUTCMonth(),q.d=Pe.getUTCDate()+(q.w+6)%7):(Pe=zx(sd(q.y,0,1)),et=Pe.getDay(),Pe=et>4||et===0?tg.ceil(Pe):tg(Pe),Pe=Th.offset(Pe,(q.V-1)*7),q.y=Pe.getFullYear(),q.m=Pe.getMonth(),q.d=Pe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),et="Z"in q?Ux(sd(q.y,0,1)).getUTCDay():zx(sd(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(et+5)%7:q.w+q.U*7-(et+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Ux(q)):zx(q)}}function k(Q,ne,de,q){for(var Me=0,Pe=ne.length,et=de.length,tt,_t;Me<Pe;){if(q>=et)return-1;if(tt=ne.charCodeAt(Me++),tt===37){if(tt=ne.charAt(Me++),_t=_[tt in aP?ne.charAt(Me++):tt],!_t||(q=_t(Q,de,q))<0)return-1}else if(tt!=de.charCodeAt(q++))return-1}return q}function E(Q,ne,de){var q=u.exec(ne.slice(de));return q?(Q.p=d.get(q[0].toLowerCase()),de+q[0].length):-1}function O(Q,ne,de){var q=m.exec(ne.slice(de));return q?(Q.w=g.get(q[0].toLowerCase()),de+q[0].length):-1}function C(Q,ne,de){var q=f.exec(ne.slice(de));return q?(Q.w=h.get(q[0].toLowerCase()),de+q[0].length):-1}function P(Q,ne,de){var q=x.exec(ne.slice(de));return q?(Q.m=b.get(q[0].toLowerCase()),de+q[0].length):-1}function A(Q,ne,de){var q=p.exec(ne.slice(de));return q?(Q.m=v.get(q[0].toLowerCase()),de+q[0].length):-1}function T(Q,ne,de){return k(Q,t,ne,de)}function M(Q,ne,de){return k(Q,r,ne,de)}function I(Q,ne,de){return k(Q,n,ne,de)}function B(Q){return o[Q.getDay()]}function R(Q){return s[Q.getDay()]}function L(Q){return c[Q.getMonth()]}function W(Q){return l[Q.getMonth()]}function Z(Q){return a[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function ee(Q){return o[Q.getUTCDay()]}function fe(Q){return s[Q.getUTCDay()]}function U(Q){return c[Q.getUTCMonth()]}function Ne(Q){return l[Q.getUTCMonth()]}function te(Q){return a[+(Q.getUTCHours()>=12)]}function we(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ne=S(Q+="",w);return ne.toString=function(){return Q},ne},parse:function(Q){var ne=N(Q+="",!1);return ne.toString=function(){return Q},ne},utcFormat:function(Q){var ne=S(Q+="",j);return ne.toString=function(){return Q},ne},utcParse:function(Q){var ne=N(Q+="",!0);return ne.toString=function(){return Q},ne}}}var aP={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,Vce=/^%/,Hce=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Gce(e){return e.replace(Hce,"\\$&")}function id(e){return new RegExp("^(?:"+e.map(Gce).join("|")+")","i")}function od(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Kce(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Yce(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Xce(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zce(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Qce(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sP(e,t,r){var n=ur.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iP(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jce(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eue(e,t,r){var n=ur.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tue(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function oP(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rue(e,t,r){var n=ur.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lP(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nue(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aue(e,t,r){var n=ur.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sue(e,t,r){var n=ur.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function iue(e,t,r){var n=ur.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oue(e,t,r){var n=Vce.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lue(e,t,r){var n=ur.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cue(e,t,r){var n=ur.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cP(e,t){return Xe(e.getDate(),t,2)}function uue(e,t){return Xe(e.getHours(),t,2)}function due(e,t){return Xe(e.getHours()%12||12,t,2)}function fue(e,t){return Xe(1+Th.count(As(e),e),t,3)}function HD(e,t){return Xe(e.getMilliseconds(),t,3)}function hue(e,t){return HD(e,t)+"000"}function mue(e,t){return Xe(e.getMonth()+1,t,2)}function pue(e,t){return Xe(e.getMinutes(),t,2)}function gue(e,t){return Xe(e.getSeconds(),t,2)}function vue(e){var t=e.getDay();return t===0?7:t}function yue(e,t){return Xe(Jv.count(As(e)-1,e),t,2)}function GD(e){var t=e.getDay();return t>=4||t===0?Wc(e):Wc.ceil(e)}function xue(e,t){return e=GD(e),Xe(Wc.count(As(e),e)+(As(e).getDay()===4),t,2)}function bue(e){return e.getDay()}function wue(e,t){return Xe(tg.count(As(e)-1,e),t,2)}function jue(e,t){return Xe(e.getFullYear()%100,t,2)}function _ue(e,t){return e=GD(e),Xe(e.getFullYear()%100,t,2)}function Sue(e,t){return Xe(e.getFullYear()%1e4,t,4)}function Nue(e,t){var r=e.getDay();return e=r>=4||r===0?Wc(e):Wc.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function kue(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function uP(e,t){return Xe(e.getUTCDate(),t,2)}function Eue(e,t){return Xe(e.getUTCHours(),t,2)}function Pue(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function Cue(e,t){return Xe(1+Qv.count(Ts(e),e),t,3)}function KD(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function Oue(e,t){return KD(e,t)+"000"}function Aue(e,t){return Xe(e.getUTCMonth()+1,t,2)}function Tue(e,t){return Xe(e.getUTCMinutes(),t,2)}function $ue(e,t){return Xe(e.getUTCSeconds(),t,2)}function Mue(e){var t=e.getUTCDay();return t===0?7:t}function Iue(e,t){return Xe(ey.count(Ts(e)-1,e),t,2)}function YD(e){var t=e.getUTCDay();return t>=4||t===0?qc(e):qc.ceil(e)}function Rue(e,t){return e=YD(e),Xe(qc.count(Ts(e),e)+(Ts(e).getUTCDay()===4),t,2)}function Due(e){return e.getUTCDay()}function Lue(e,t){return Xe(rg.count(Ts(e)-1,e),t,2)}function Fue(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function Bue(e,t){return e=YD(e),Xe(e.getUTCFullYear()%100,t,2)}function zue(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function Uue(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qc(e):qc.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function Wue(){return"+0000"}function dP(){return"%"}function fP(e){return+e}function hP(e){return Math.floor(+e/1e3)}var kl,XD,ZD;que({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function que(e){return kl=qce(e),XD=kl.format,kl.parse,ZD=kl.utcFormat,kl.utcParse,kl}function Vue(e){return new Date(e)}function Hue(e){return e instanceof Date?+e:+new Date(+e)}function z_(e,t,r,n,a,s,o,l,c,u){var d=E_(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function _(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:s(S)<S?v:n(S)<S?a(S)<S?x:b:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Hue)):h().map(Vue)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?_:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(DD(N,S)):d},d.copy=function(){return Ah(d,z_(e,t,r,n,a,s,o,l,c,u))},d}function Gue(){return Rn.apply(z_(Uce,Wce,As,F_,Jv,Th,D_,I_,_o,XD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kue(){return Rn.apply(z_(Bce,zce,Ts,B_,ey,Qv,L_,R_,_o,ZD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ty(){var e=0,t=1,r,n,a,s,o=Lr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Mu),u.rangeRound=d(k_),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QD(){var e=Xi(ty()(Lr));return e.copy=function(){return Zi(e,QD())},Fs.apply(e,arguments)}function JD(){var e=O_(ty()).domain([1,10]);return e.copy=function(){return Zi(e,JD()).base(e.base())},Fs.apply(e,arguments)}function e4(){var e=A_(ty());return e.copy=function(){return Zi(e,e4()).constant(e.constant())},Fs.apply(e,arguments)}function U_(){var e=T_(ty());return e.copy=function(){return Zi(e,U_()).exponent(e.exponent())},Fs.apply(e,arguments)}function Yue(){return U_.apply(null,arguments).exponent(.5)}function t4(){var e=[],t=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ch(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Pi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Ile(e,s/n))},r.copy=function(){return t4(t).domain(e)},Fs.apply(r,arguments)}function ry(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Lr,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,u=oce(p,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Mu),m.rangeRound=g(k_),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),o=p(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function r4(){var e=Xi(ry()(Lr));return e.copy=function(){return Zi(e,r4())},Fs.apply(e,arguments)}function n4(){var e=O_(ry()).domain([.1,1,10]);return e.copy=function(){return Zi(e,n4()).base(e.base())},Fs.apply(e,arguments)}function a4(){var e=A_(ry());return e.copy=function(){return Zi(e,a4()).constant(e.constant())},Fs.apply(e,arguments)}function W_(){var e=T_(ry());return e.copy=function(){return Zi(e,W_()).exponent(e.exponent())},Fs.apply(e,arguments)}function Xue(){return W_.apply(null,arguments).exponent(.5)}const mP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ef,scaleDiverging:r4,scaleDivergingLog:n4,scaleDivergingPow:W_,scaleDivergingSqrt:Xue,scaleDivergingSymlog:a4,scaleIdentity:RD,scaleImplicit:dw,scaleLinear:Jp,scaleLog:LD,scaleOrdinal:__,scalePoint:Dd,scalePow:$_,scaleQuantile:zD,scaleQuantize:UD,scaleRadial:BD,scaleSequential:QD,scaleSequentialLog:JD,scaleSequentialPow:U_,scaleSequentialQuantile:t4,scaleSequentialSqrt:Yue,scaleSequentialSymlog:e4,scaleSqrt:Oce,scaleSymlog:FD,scaleThreshold:WD,scaleTime:Gue,scaleUtc:Kue,tickFormat:ID},Symbol.toStringTag,{value:"Module"}));var Zue=Nu;function Que(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!Zue(o):r(o,l)))var l=o,c=s}return c}var s4=Que;function Jue(e,t){return e>t}var ede=Jue,tde=s4,rde=ede,nde=Tu;function ade(e){return e&&e.length?tde(e,nde,rde):void 0}var sde=ade;const ny=ut(sde);function ide(e,t){return e<t}var ode=ide,lde=s4,cde=ode,ude=Tu;function dde(e){return e&&e.length?lde(e,ude,cde):void 0}var fde=dde;const ay=ut(fde);var hde=r_,mde=Yi,pde=hD,gde=rn;function vde(e,t){var r=gde(e)?hde:pde;return r(e,mde(t))}var yde=vde,xde=dD,bde=yde;function wde(e,t){return xde(bde(e,t),1)}var jde=wde;const _de=ut(jde);var Sde=v_;function Nde(e,t){return Sde(e,t)}var kde=Nde;const sy=ut(kde);var Iu=1e9,Ede={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V_,kt=!0,Mn="[DecimalError] ",zo=Mn+"Invalid argument: ",q_=Mn+"Exponent out of range: ",Ru=Math.floor,ho=Math.pow,Pde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cn,or=1e7,wt=7,i4=9007199254740991,ng=Ru(i4/wt),ve={};ve.absoluteValue=ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ve.comparedTo=ve.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(e){return js(this,new this.constructor(e))};ve.dividedToIntegerBy=ve.idiv=function(e){var t=this,r=t.constructor;return ht(js(t,new r(e),0,1),r.precision)};ve.equals=ve.eq=function(e){return!this.cmp(e)};ve.exponent=function(){return Kt(this)};ve.greaterThan=ve.gt=function(e){return this.cmp(e)>0};ve.greaterThanOrEqualTo=ve.gte=function(e){return this.cmp(e)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(e){return this.cmp(e)<0};ve.lessThanOrEqualTo=ve.lte=function(e){return this.cmp(e)<1};ve.logarithm=ve.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(cn))throw Error(Mn+"NaN");if(r.s<1)throw Error(Mn+(r.s?"NaN":"-Infinity"));return r.eq(cn)?new n(0):(kt=!1,t=js(Tf(r,s),Tf(e,s),s),kt=!0,ht(t,a))};ve.minus=ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?c4(t,e):o4(t,(e.s=-e.s,e))};ve.modulo=ve.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Mn+"NaN");return r.s?(kt=!1,t=js(r,e,0,1).times(e),kt=!0,r.minus(t)):ht(new n(r),a)};ve.naturalExponential=ve.exp=function(){return l4(this)};ve.naturalLogarithm=ve.ln=function(){return Tf(this)};ve.negated=ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ve.plus=ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?o4(t,e):c4(t,(e.s=-e.s,e))};ve.precision=ve.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zo+e);if(t=Kt(a)+1,n=a.d.length-1,r=n*wt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ve.squareRoot=ve.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Mn+"NaN")}for(e=Kt(l),kt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Da(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ru((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(js(l,s,o+2)).times(.5),Da(s.d).slice(0,o)===(t=Da(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ht(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return kt=!0,ht(n,r)};ve.times=ve.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%or|0,t=l/or|0;s[a]=(s[a]+t)%or|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,kt?ht(e,f.precision):e};ve.toDecimalPlaces=ve.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ga(e,0,Iu),t===void 0?t=n.rounding:Ga(t,0,8),ht(r,e+Kt(r)+1,t))};ve.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Jo(n,!0):(Ga(e,0,Iu),t===void 0?t=a.rounding:Ga(t,0,8),n=ht(new a(n),e+1,t),r=Jo(n,!0,e+1)),r};ve.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Jo(a):(Ga(e,0,Iu),t===void 0?t=s.rounding:Ga(t,0,8),n=ht(new s(a),e+Kt(a)+1,t),r=Jo(n.abs(),!1,e+Kt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var e=this,t=e.constructor;return ht(new t(e),Kt(e)+1,t.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(cn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Mn+"Infinity");return l}if(l.eq(cn))return l;if(n=c.precision,e.eq(cn))return ht(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=i4){for(a=new c(cn),t=Math.ceil(n/wt+4),kt=!1;r%2&&(a=a.times(l),gP(a.d,t)),r=Ru(r/2),r!==0;)l=l.times(l),gP(l.d,t);return kt=!0,e.s<0?new c(cn).div(a):ht(a,n)}}else if(s<0)throw Error(Mn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,kt=!1,a=e.times(Tf(l,n+u)),kt=!0,a=l4(a),a.s=s,a};ve.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Kt(a),n=Jo(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ga(e,1,Iu),t===void 0?t=s.rounding:Ga(t,0,8),a=ht(new s(a),e,t),r=Kt(a),n=Jo(a,e<=r||r<=s.toExpNeg,e)),n};ve.toSignificantDigits=ve.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ga(e,1,Iu),t===void 0?t=n.rounding:Ga(t,0,8)),ht(new n(r),e,t)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kt(e),r=e.constructor;return Jo(e,t<=r.toExpNeg||t>=r.toExpPos)};function o4(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kt?ht(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/wt),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/or|0,c[s]%=or;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,kt?ht(t,f):t}function Ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zo+e)}function Da(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=wt-n.length,r&&(s+=Js(r)),s+=n;o=e[t],n=o+"",r=wt-n.length,r&&(s+=Js(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var js=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%or|0,o=s/or|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*or+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,p,v,x,b,w,j,_,S,N,k,E=n.constructor,O=n.s==a.s?1:-1,C=n.d,P=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Mn+"Division by zero");for(c=n.e-a.e,N=P.length,_=C.length,m=new E(O),g=m.d=[],u=0;P[u]==(C[u]||0);)++u;if(P[u]>(C[u]||0)&&--c,s==null?b=s=E.precision:o?b=s+(Kt(n)-Kt(a))+1:b=s,b<0)return new E(0);if(b=b/wt+2|0,u=0,N==1)for(d=0,P=P[0],b++;(u<_||d)&&b--;u++)w=d*or+(C[u]||0),g[u]=w/P|0,d=w%P|0;else{for(d=or/(P[0]+1)|0,d>1&&(P=e(P,d),C=e(C,d),N=P.length,_=C.length),j=N,p=C.slice(0,N),v=p.length;v<N;)p[v++]=0;k=P.slice(),k.unshift(0),S=P[0],P[1]>=or/2&&++S;do d=0,l=t(P,p,N,v),l<0?(x=p[0],N!=v&&(x=x*or+(p[1]||0)),d=x/S|0,d>1?(d>=or&&(d=or-1),f=e(P,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,N<h?k:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(P,p,N,v),l<1&&(d++,r(p,N<v?k:P,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=C[j]||0:(p=[C[j]],v=1);while((j++<_||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,ht(m,o?s+Kt(m)+1:s)}}();function l4(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Kt(e)>16)throw Error(q_+Kt(e));if(!e.s)return new d(cn);for(kt=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ho(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(cn),d.precision=l;;){if(a=ht(a.times(e),l),r=r.times(++c),o=s.plus(js(a,r,l)),Da(o.d).slice(0,l)===Da(s.d).slice(0,l)){for(;u--;)s=ht(s.times(s),l);return d.precision=f,t==null?(kt=!0,ht(s,f)):s}s=o}}function Kt(e){for(var t=e.e*wt,r=e.d[0];r>=10;r/=10)t++;return t}function Wx(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(Mn+"LN10 precision limit exceeded");return ht(new e(e.LN10),t)}function Js(e){for(var t="";e--;)t+="0";return t}function Tf(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Mn+(m.s?"NaN":"-Infinity"));if(m.eq(cn))return new p(0);if(t==null?(kt=!1,u=v):u=t,m.eq(10))return t==null&&(kt=!0),Wx(p,u);if(u+=h,p.precision=u,r=Da(g),n=r.charAt(0),s=Kt(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Da(m.d),n=r.charAt(0),f++;s=Kt(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=Wx(p,u+2,v).times(s+""),m=Tf(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(kt=!0,ht(m,v)):m;for(l=o=m=js(m.minus(cn),m.plus(cn),u),d=ht(m.times(m),u),a=3;;){if(o=ht(o.times(d),u),c=l.plus(js(o,new p(a),u)),Da(c.d).slice(0,u)===Da(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Wx(p,u+2,v).times(s+""))),l=js(l,new p(f),u),p.precision=v,t==null?(kt=!0,ht(l,v)):l;l=c,a+=2}}function pP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ru(r/wt),e.d=[],n=(r+1)%wt,r<0&&(n+=wt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wt;n<a;)e.d.push(+t.slice(n,n+=wt));t=t.slice(n),n=wt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>ng||e.e<-ng))throw Error(q_+r)}else e.s=0,e.e=0,e.d=[0];return e}function ht(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=wt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/wt),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=wt,a=n-wt+o}if(r!==void 0&&(s=ho(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ho(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Kt(e),f.length=1,t=t-s-1,f[0]=ho(10,(wt-t%wt)%wt),e.e=Ru(-t/wt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ho(10,wt-n),f[d]=a>0?(u/ho(10,o-a)%ho(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==or&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=or)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(kt&&(e.e>ng||e.e<-ng))throw Error(q_+Kt(e));return e}function c4(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kt?ht(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/wt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=or-1;--c[s],c[a]+=or}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,kt?ht(t,m):t):new h(0)}function Jo(e,t,r){var n,a=Kt(e),s=Da(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Js(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Js(-a-1)+s,r&&(n=r-o)>0&&(s+=Js(n))):a>=o?(s+=Js(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Js(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Js(n))),e.s<0?"-"+s:s}function gP(e,t){if(e.length>t)return e.length=t,!0}function u4(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(zo+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return pP(o,s.toString())}else if(typeof s!="string")throw Error(zo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Pde.test(s))pP(o,s);else throw Error(zo+s)}if(a.prototype=ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=u4,a.config=a.set=Cde,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Cde(e){if(!e||typeof e!="object")throw Error(Mn+"Object expected");var t,r,n,a=["precision",1,Iu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ru(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zo+r+": "+n);return this}var V_=u4(Ede);cn=new V_(1);const ct=V_;function Ode(e){return Mde(e)||$de(e)||Tde(e)||Ade()}function Ade(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function $de(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mde(e){if(Array.isArray(e))return pw(e)}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ide=function(t){return t},d4={},f4=function(t){return t===d4},vP=function(t){return function r(){return arguments.length===0||arguments.length===1&&f4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Rde=function e(t,r){return t===1?r:vP(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==d4}).length;return o>=t?r.apply(void 0,a):e(t-o,vP(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return f4(f)?c.shift():f});return r.apply(void 0,Ode(d).concat(c))}))})},iy=function(t){return Rde(t.length,t)},gw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Dde=iy(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Lde=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Ide;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},vw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},h4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function Fde(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function Bde(e,t,r){for(var n=new ct(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var zde=iy(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Ude=iy(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Wde=iy(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const oy={rangeStep:Bde,getDigitCount:Fde,interpolateNumber:zde,uninterpolateNumber:Ude,uninterpolateTruncation:Wde};function yw(e){return Hde(e)||Vde(e)||m4(e)||qde()}function qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vde(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Hde(e){if(Array.isArray(e))return xw(e)}function $f(e,t){return Yde(e)||Kde(e,t)||m4(e,t)||Gde()}function Gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4(e,t){if(e){if(typeof e=="string")return xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(e,t)}}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kde(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function Yde(e){if(Array.isArray(e))return e}function p4(e){var t=$f(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function g4(e,t,r){if(e.lte(0))return new ct(0);var n=oy.getDigitCount(e.toNumber()),a=new ct(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new ct(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new ct(Math.ceil(c))}function Xde(e,t,r){var n=1,a=new ct(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ct(10).pow(oy.getDigitCount(e)-1),a=new ct(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ct(Math.floor(e)))}else e===0?a=new ct(Math.floor((t-1)/2)):r||(a=new ct(Math.floor(e)));var o=Math.floor((t-1)/2),l=Lde(Dde(function(c){return a.add(new ct(c-o).mul(n)).toNumber()}),gw);return l(0,t)}function v4(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var s=g4(new ct(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new ct(0):(o=new ct(e).add(t).div(2),o=o.sub(new ct(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new ct(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?v4(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new ct(l).mul(s)),tickMax:o.add(new ct(c).mul(s))})}function Zde(e){var t=$f(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=p4([r,n]),c=$f(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(yw(gw(0,a-1).map(function(){return 1/0}))):[].concat(yw(gw(0,a-1).map(function(){return-1/0})),[d]);return r>n?vw(f):f}if(u===d)return Xde(u,a,s);var h=v4(u,d,o,s),m=h.step,g=h.tickMin,p=h.tickMax,v=oy.rangeStep(g,p.add(new ct(.1).mul(m)),m);return r>n?vw(v):v}function Qde(e,t){var r=$f(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=p4([n,a]),l=$f(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=g4(new ct(u).sub(c).div(d-1),s,0),h=[].concat(yw(oy.rangeStep(new ct(c),new ct(u).sub(new ct(.99).mul(f)),f)),[u]);return n>a?vw(h):h}var Jde=h4(Zde),efe=h4(Qde),tfe="Invariant failed";function el(e,t){throw new Error(tfe)}var rfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function nfe(e,t){return ofe(e)||ife(e,t)||sfe(e,t)||afe()}function afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sfe(e,t){if(e){if(typeof e=="string")return yP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,t)}}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ife(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ofe(e){if(Array.isArray(e))return e}function lfe(e,t){if(e==null)return{};var r=cfe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ufe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b4(n.key),n)}}function ffe(e,t,r){return t&&dfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hfe(e,t,r){return t=sg(t),mfe(e,y4()?Reflect.construct(t,r||[],sg(e).constructor):t.apply(e,r))}function mfe(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pfe(e)}function pfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!e})()}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(e)}function gfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bw(e,t)}function bw(e,t){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bw(e,t)}function x4(e,t,r){return t=b4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4(e){var t=vfe(e,"string");return Vc(t)=="symbol"?t:t+""}function vfe(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $h=function(e){function t(){return ufe(this,t),hfe(this,t,arguments)}return gfe(t,e),ffe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=lfe(n,rfe),m=We(h,!1);this.props.direction==="x"&&d.type!=="number"&&el();var g=c.map(function(p){var v=u(p,l),x=v.x,b=v.y,w=v.value,j=v.errorVal;if(!j)return null;var _=[],S,N;if(Array.isArray(j)){var k=nfe(j,2);S=k[0],N=k[1]}else S=N=j;if(s==="vertical"){var E=d.scale,O=b+a,C=O+o,P=O-o,A=E(w-S),T=E(w+N);_.push({x1:T,y1:C,x2:T,y2:P}),_.push({x1:A,y1:O,x2:T,y2:O}),_.push({x1:A,y1:C,x2:A,y2:P})}else if(s==="horizontal"){var M=f.scale,I=x+a,B=I-o,R=I+o,L=M(w-S),W=M(w+N);_.push({x1:B,y1:W,x2:R,y2:W}),_.push({x1:I,y1:L,x2:I,y2:W}),_.push({x1:B,y1:L,x2:R,y2:L})}return $.createElement(Lt,ag({className:"recharts-errorBar",key:"bar-".concat(_.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),_.map(function(Z){return $.createElement("line",ag({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return $.createElement(Lt,{className:"recharts-errorBars"},g)}}])}($.Component);x4($h,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});x4($h,"displayName","ErrorBar");function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){yfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yfe(e,t,r){return t=xfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xfe(e){var t=bfe(e,"string");return Mf(t)=="symbol"?t:t+""}function bfe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=on(r,uc);if(!o)return null;var l=uc.defaultProps,c=l!==void 0?io(io({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?io(io({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:H_(f),value:p||g,payload:m}}),io(io(io({},c),uc.getWithHeight(o,a)),{},{payload:u,item:o})};function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function bP(e){return Sfe(e)||_fe(e)||jfe(e)||wfe()}function wfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jfe(e,t){if(e){if(typeof e=="string")return ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ww(e,t)}}function _fe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sfe(e){if(Array.isArray(e))return ww(e)}function ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){fc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fc(e,t,r){return t=Nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nfe(e){var t=kfe(e,"string");return If(t)=="symbol"?t:t+""}function kfe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mn(e,t,r){return Be(e)||Be(t)?r:nr(t)?On(e,t,r):Re(t)?t(e):r}function Ld(e,t,r,n){var a=_de(e,function(l){return mn(l,t)});if(r==="number"){var s=a.filter(function(l){return ue(l)||parseFloat(l)});return s.length?[ay(s),ny(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Be(l)}):a;return o.map(function(l){return nr(l)||l instanceof Date?l:""})}var Efe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(oa(f-d)!==oa(h-f)){var g=[];if(oa(h-f)===oa(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},H_=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Pfe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,x=p.filter(function(N){return bs(N.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Mt(Mt({},b),x[0].props):x[0].props,j=w.barSize,_=w[v];o[_]||(o[_]=[]);var S=Be(j)?r:j;o[_].push({item:x[0],stackList:x.slice(1),barSize:Be(S)?void 0:Qo(S,n,0)})}}return o},Cfe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Qo(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(j,_){return j+_.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(j,_){var S={item:_.item,position:{offset:v.offset+v.size+u,size:h?m:_.barSize}},N=[].concat(bP(j),[S]);return v=N[N.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(k){N.push({item:k,position:v})}),N},f)}else{var x=Qo(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(j,_,S){var N=[].concat(bP(j),[{item:_.item,position:{offset:x+(b+u)*S+(b-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},Ofe=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=w4({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&ue(t[m]))return Mt(Mt({},t),{},fc({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&ue(t[g]))return Mt(Mt({},t),{},fc({},g,t[g]+(h||0)))}return t},Afe=function(t,r,n){return Be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},j4=function(t,r,n,a,s){var o=r.props.children,l=An(o,$h).filter(function(u){return Afe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=mn(d,n);if(Be(f))return u;var h=Array.isArray(f)?[ay(f),ny(f)]:[f,f],m=c.reduce(function(g,p){var v=mn(d,p,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Tfe=function(t,r,n,a,s){var o=r.map(function(l){return j4(t,l,n,s,a)}).filter(function(l){return!Be(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},_4=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&j4(t,c,u,a)||Ld(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},S4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},N4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},vs=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?oa(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!kh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},qx=new WeakMap,_m=function(t,r){if(typeof r!="function")return t;qx.has(t)||qx.set(t,new WeakMap);var n=qx.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},$fe=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ef(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Jp(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dd(),realScaleType:"point"}:s==="category"?{scale:Ef(),realScaleType:"band"}:{scale:Jp(),realScaleType:"linear"};if(Zo(a)){var c="scale".concat(qv(a));return{scale:(mP[c]||Dd)(),realScaleType:mP[c]?c:"point"}}return Re(a)?{scale:a}:{scale:Dd(),realScaleType:"point"}},jP=1e-4,Mfe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-jP,o=Math.max(a[0],a[1])+jP,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},Ife=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Rfe=function(t,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(s[0]=n),(!ue(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Dfe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=kh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Lfe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=kh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Ffe={sign:Dfe,expand:eJ,none:Dc,silhouette:tJ,wiggle:rJ,positive:Lfe},Bfe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Ffe[n],o=JQ().keys(a).value(function(l,c){return+mn(l,c,0)}).order(H0).offset(s);return o(t)},zfe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Mt(Mt({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var x=g[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(nr(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[Eh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Mt(Mt({},f),{},fc({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return Mt(Mt({},p),{},fc({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Bfe(t,x.items,s)}))},g)}return Mt(Mt({},f),{},fc({},h,m))},d)},Ufe=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Jde(u,s,l);return t.domain([ay(d),ny(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=efe(f,s,l);return{niceTicks:h}}return null};function _P(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Be(a[t.dataKey])){var l=Op(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=mn(a,Be(o)?t.dataKey:o);return Be(c)?null:t.scale(c)}var SP=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=mn(o,r.dataKey,r.domain[l]);return Be(c)?null:r.scale(c)-s/2+a},Wfe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},qfe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(nr(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Vfe=function(t){return t.reduce(function(r,n){return[ay(n.concat([r[0]]).filter(ue)),ny(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},k4=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Vfe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},NP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jw=function(t,r,n){if(Re(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ue(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(NP.test(t[0])){var s=+NP.exec(t[0])[1];a[0]=r[0]-s}else Re(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ue(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(kP.test(t[1])){var o=+kP.exec(t[1])[1];a[1]=r[1]+o}else Re(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},ig=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=x_(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},EP=function(t,r,n){return!t||!t.length||sy(t,On(n,"type.defaultProps.domain"))?r:t},E4=function(t,r){var n=t.type.defaultProps?Mt(Mt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Mt(Mt({},We(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:H_(t),value:mn(r,a),type:c,payload:r,chartType:u,hide:d})};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){Hfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hfe(e,t,r){return t=Gfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gfe(e){var t=Kfe(e,"string");return Rf(t)=="symbol"?t:t+""}function Kfe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var og=Math.PI/180,Yfe=function(t){return t*180/Math.PI},hr=function(t,r,n,a){return{x:t+Math.cos(-og*a)*n,y:r+Math.sin(-og*a)*n}},Xfe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Zfe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Xfe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Yfe(u),angleInRadian:u}},Qfe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Jfe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},OP=function(t,r){var n=t.x,a=t.y,s=Zfe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Qfe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?CP(CP({},r),{},{radius:o,angle:Jfe(m,r)}):null};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}var ehe=["offset"];function the(e){return she(e)||ahe(e)||nhe(e)||rhe()}function rhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nhe(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function ahe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function she(e){if(Array.isArray(e))return _w(e)}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ihe(e,t){if(e==null)return{};var r=ohe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ohe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){lhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lhe(e,t,r){return t=che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function che(e){var t=uhe(e,"string");return Df(t)=="symbol"?t:t+""}function uhe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}var dhe=function(t){var r=t.value,n=t.formatter,a=Be(t.children)?r:t.children;return Re(n)?n(a):a},fhe=function(t,r){var n=oa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},hhe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,x=fhe(m,g),b=x>=0?1:-1,w,j;a==="insideStart"?(w=m+b*o,j=p):a==="insideEnd"?(w=g-b*o,j=!p):a==="end"&&(w=g+b*o,j=p),j=x<=0?j:!j;var _=hr(u,d,v,w),S=hr(u,d,v,w+(j?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),k=Be(t.id)?Eh("recharts-radial-line-"):t.id;return $.createElement("text",Lf({},n,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:k,d:N})),$.createElement("textPath",{xlinkHref:"#".concat(k)},r))},mhe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=hr(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=hr(o,l,v,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},phe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,x=p>0?"end":"start",b=p>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Zt(Zt({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Zt(Zt({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Zt(Zt({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Zt(Zt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?Zt({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideRight"?Zt({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideTop"?Zt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):s==="insideBottom"?Zt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):s==="insideTopLeft"?Zt({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},N):s==="insideTopRight"?Zt({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:g},N):s==="insideBottomLeft"?Zt({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},N):s==="insideBottomRight"?Zt({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:m},N):ku(s)&&(ue(s.x)||wo(s.x))&&(ue(s.y)||wo(s.y))?Zt({x:l+Qo(s.x,u),y:c+Qo(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):Zt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},ghe=function(t){return"cx"in t&&ue(t.cx)};function _r(e){var t=e.offset,r=t===void 0?5:t,n=ihe(e,ehe),a=Zt({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Be(l)&&Be(c)&&!y.isValidElement(u)&&!Re(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(Re(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=dhe(a);var g=ghe(s),p=We(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return hhe(a,m,p);var v=g?mhe(a):phe(a);return $.createElement(Hp,Lf({className:qe("recharts-label",f)},p,v,{breakAll:h}),m)}_r.displayName="Label";var P4=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(ue(p)&&ue(v)){if(ue(f)&&ue(h))return{x:f,y:h,width:p,height:v};if(ue(m)&&ue(g))return{x:m,y:g,width:p,height:v}}return ue(f)&&ue(h)?{x:f,y:h,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},vhe=function(t,r){return t?t===!0?$.createElement(_r,{key:"label-implicit",viewBox:r}):nr(t)?$.createElement(_r,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===_r?y.cloneElement(t,{key:"label-implicit",viewBox:r}):$.createElement(_r,{key:"label-implicit",content:t,viewBox:r}):Re(t)?$.createElement(_r,{key:"label-implicit",content:t,viewBox:r}):ku(t)?$.createElement(_r,Lf({viewBox:r},t,{key:"label-implicit"})):null:null},yhe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=P4(t),o=An(a,_r).map(function(c,u){return y.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=vhe(t.label,r||s);return[l].concat(the(o))};_r.parseViewBox=P4;_r.renderCallByParent=yhe;function xhe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bhe=xhe;const whe=ut(bhe);function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}var jhe=["valueAccessor"],_he=["data","dataKey","clockWise","id","textBreakAll"];function She(e){return Phe(e)||Ehe(e)||khe(e)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(e,t){if(e){if(typeof e=="string")return Sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sw(e,t)}}function Ehe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Phe(e){if(Array.isArray(e))return Sw(e)}function Sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Che(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Che(e,t,r){return t=Ohe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ohe(e){var t=Ahe(e,"string");return Ff(t)=="symbol"?t:t+""}function Ahe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MP(e,t){if(e==null)return{};var r=The(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function The(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $he=function(t){return Array.isArray(t.value)?whe(t.value):t.value};function _s(e){var t=e.valueAccessor,r=t===void 0?$he:t,n=MP(e,jhe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=MP(n,_he);return!a||!a.length?null:$.createElement(Lt,{className:"recharts-label-list"},a.map(function(d,f){var h=Be(s)?r(d,f):mn(d&&d.payload,s),m=Be(l)?{}:{id:"".concat(l,"-").concat(f)};return $.createElement(_r,lg({},We(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:_r.parseViewBox(Be(o)?d:$P($P({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}_s.displayName="LabelList";function Mhe(e,t){return e?e===!0?$.createElement(_s,{key:"labelList-implicit",data:t}):$.isValidElement(e)||Re(e)?$.createElement(_s,{key:"labelList-implicit",data:t,content:e}):ku(e)?$.createElement(_s,lg({data:t},e,{key:"labelList-implicit"})):null:null}function Ihe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=An(n,_s).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=Mhe(e.label,t);return[s].concat(She(a))}_s.renderCallByParent=Ihe;function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){Rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rhe(e,t,r){return t=Dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dhe(e){var t=Lhe(e,"string");return Bf(t)=="symbol"?t:t+""}function Lhe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fhe=function(t,r){var n=oa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sm=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/og,h=u?s:s+o*f,m=hr(r,n,d,h),g=hr(r,n,a,h),p=u?s-o*f:s,v=hr(r,n,d*Math.cos(f*og),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},C4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Fhe(o,l),u=o+c,d=hr(r,n,s,o),f=hr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=hr(r,n,a,o),g=hr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Bhe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=oa(d-u),h=Sm({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=Sm({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):C4({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=Sm({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,E=S.theta,O=Sm({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=O.circleTangency,P=O.lineTangency,A=O.theta,T=c?Math.abs(u-d):Math.abs(u-d)-E-A;if(T<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},zhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O4=function(t){var r=RP(RP({},zhe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=qe("recharts-sector",h),g=o-s,p=Qo(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=Bhe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=C4({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),$.createElement("path",Nw({},We(r,!0),{className:m,d:v,role:"img"}))};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(this,arguments)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){Uhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uhe(e,t,r){return t=Whe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Whe(e){var t=qhe(e,"string");return zf(t)=="symbol"?t:t+""}function qhe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FP={curveBasisClosed:UQ,curveBasisOpen:WQ,curveBasis:zQ,curveBumpX:EQ,curveBumpY:PQ,curveLinearClosed:qQ,curveLinear:Hv,curveMonotoneX:VQ,curveMonotoneY:HQ,curveNatural:GQ,curveStep:KQ,curveStepAfter:XQ,curveStepBefore:YQ},Nm=function(t){return t.x===+t.x&&t.y===+t.y},ld=function(t){return t.x},cd=function(t){return t.y},Vhe=function(t,r){if(Re(t))return t;var n="curve".concat(qv(t));return(n==="curveMonotone"||n==="curveBump")&&r?FP["".concat(n).concat(r==="vertical"?"Y":"X")]:FP[n]||Hv},Hhe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Vhe(n,l),f=u?s.filter(function(p){return Nm(p)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Nm(p)}):o,g=f.map(function(p,v){return LP(LP({},p),{},{base:m[v]})});return l==="vertical"?h=pm().y(cd).x1(ld).x0(function(p){return p.base.x}):h=pm().x(ld).y1(cd).y0(function(p){return p.base.y}),h.defined(Nm).curve(d),h(g)}return l==="vertical"&&ue(o)?h=pm().y(cd).x1(ld).x0(o):ue(o)?h=pm().x(ld).y1(cd).y0(o):h=OR().x(ld).y(cd),h.defined(Nm).curve(d),h(f)},Ew=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Hhe(t):a;return y.createElement("path",kw({},We(t,!1),Ap(t),{className:qe("recharts-curve",r),d:o,ref:s}))},A4={exports:{}},Ghe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Khe=Ghe,Yhe=Khe;function T4(){}function $4(){}$4.resetWarningCache=T4;var Xhe=function(){function e(n,a,s,o,l,c){if(c!==Yhe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$4,resetWarningCache:T4};return r.PropTypes=r,r};A4.exports=Xhe();var Zhe=A4.exports;const rt=ut(Zhe);var Qhe=Object.getOwnPropertyNames,Jhe=Object.getOwnPropertySymbols,eme=Object.prototype.hasOwnProperty;function BP(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function km(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function zP(e){return Qhe(e).concat(Jhe(e))}var tme=Object.hasOwn||function(e,t){return eme.call(e,t)};function vl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rme="__v",nme="__o",ame="_owner",UP=Object.getOwnPropertyDescriptor,WP=Object.keys;function sme(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ime(e,t){return vl(e.getTime(),t.getTime())}function ome(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lme(e,t){return e===t}function qP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var cme=vl;function ume(e,t,r){var n=WP(e),a=n.length;if(WP(t).length!==a)return!1;for(;a-- >0;)if(!M4(e,t,r,n[a]))return!1;return!0}function ud(e,t,r){var n=zP(e),a=n.length;if(zP(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!M4(e,t,r,s)||(o=UP(e,s),l=UP(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function dme(e,t){return vl(e.valueOf(),t.valueOf())}function fme(e,t){return e.source===t.source&&e.flags===t.flags}function VP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function hme(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function mme(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function M4(e,t,r,n){return(n===ame||n===nme||n===rme)&&(e.$$typeof||t.$$typeof)?!0:tme(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var pme="[object Arguments]",gme="[object Boolean]",vme="[object Date]",yme="[object Error]",xme="[object Map]",bme="[object Number]",wme="[object Object]",jme="[object RegExp]",_me="[object Set]",Sme="[object String]",Nme="[object URL]",kme=Array.isArray,HP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,GP=Object.assign,Eme=Object.prototype.toString.call.bind(Object.prototype.toString);function Pme(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var x=typeof g;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?o(g,p,v):x==="function"?a(g,p,v):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,v);if(kme(g))return t(g,p,v);if(HP!=null&&HP(g))return f(g,p,v);if(b===Date)return r(g,p,v);if(b===RegExp)return u(g,p,v);if(b===Map)return s(g,p,v);if(b===Set)return d(g,p,v);var w=Eme(g);return w===vme?r(g,p,v):w===jme?u(g,p,v):w===xme?s(g,p,v):w===_me?d(g,p,v):w===wme?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):w===Nme?h(g,p,v):w===yme?n(g,p,v):w===pme?l(g,p,v):w===gme||w===bme||w===Sme?c(g,p,v):!1}}function Cme(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?ud:sme,areDatesEqual:ime,areErrorsEqual:ome,areFunctionsEqual:lme,areMapsEqual:n?BP(qP,ud):qP,areNumbersEqual:cme,areObjectsEqual:n?ud:ume,arePrimitiveWrappersEqual:dme,areRegExpsEqual:fme,areSetsEqual:n?BP(VP,ud):VP,areTypedArraysEqual:n?ud:hme,areUrlsEqual:mme};if(r&&(a=GP({},a,r(a))),t){var s=km(a.areArraysEqual),o=km(a.areMapsEqual),l=km(a.areObjectsEqual),c=km(a.areSetsEqual);a=GP({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Ome(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function Ame(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var Tme=Qi();Qi({strict:!0});Qi({circular:!0});Qi({circular:!0,strict:!0});Qi({createInternalComparator:function(){return vl}});Qi({strict:!0,createInternalComparator:function(){return vl}});Qi({circular:!0,createInternalComparator:function(){return vl}});Qi({circular:!0,createInternalComparator:function(){return vl},strict:!0});function Qi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=Cme(e),c=Pme(l),u=n?n(c):Ome(c);return Ame({circular:r,comparator:c,createState:a,equals:u,strict:o})}function $me(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function KP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):$me(a)};requestAnimationFrame(n)}function Pw(e){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pw(e)}function Mme(e){return Lme(e)||Dme(e)||Rme(e)||Ime()}function Ime(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(e,t){if(e){if(typeof e=="string")return YP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YP(e,t)}}function YP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lme(e){if(Array.isArray(e))return e}function Fme(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Mme(o),c=l[0],u=l.slice(1);if(typeof c=="number"){KP(a.bind(null,u),c);return}a(c),KP(a.bind(null,u));return}Pw(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){I4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4(e,t,r){return t=Bme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bme(e){var t=zme(e,"string");return Uf(t)==="symbol"?t:String(t)}function zme(e,t){if(Uf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ume=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},Wme=function(t){return t},qme=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fd=function(t,r){return Object.keys(r).reduce(function(n,a){return ZP(ZP({},n),{},I4({},a,t(a,r[a])))},{})},QP=function(t,r,n){return t.map(function(a){return"".concat(qme(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Vme(e,t){return Kme(e)||Gme(e,t)||R4(e,t)||Hme()}function Hme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Kme(e){if(Array.isArray(e))return e}function Yme(e){return Qme(e)||Zme(e)||R4(e)||Xme()}function Xme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Zme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qme(e){if(Array.isArray(e))return Cw(e)}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cg=1e-4,D4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},L4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},JP=function(t,r){return function(n){var a=D4(t,r);return L4(a,n)}},Jme=function(t,r){return function(n){var a=D4(t,r),s=[].concat(Yme(a.map(function(o,l){return o*l}).slice(1)),[0]);return L4(s,n)}},eC=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Vme(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=JP(a,o),h=JP(s,l),m=Jme(a,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var b=x>1?1:x,w=b,j=0;j<8;++j){var _=f(w)-b,S=m(w);if(Math.abs(_-b)<cg||S<cg)return h(w);w=g(w-_/S)}return h(w)};return p.isStepper=!1,p},epe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<cg&&Math.abs(p)<cg?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},tpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eC(a);case"spring":return epe();default:if(a.split("(")[0]==="cubic-bezier")return eC(a)}return typeof a=="function"?a:null};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function tC(e){return ape(e)||npe(e)||F4(e)||rpe()}function rpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function npe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ape(e){if(Array.isArray(e))return Aw(e)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){Ow(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ow(e,t,r){return t=spe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function spe(e){var t=ipe(e,"string");return Wf(t)==="symbol"?t:String(t)}function ipe(e,t){if(Wf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ope(e,t){return upe(e)||cpe(e,t)||F4(e,t)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F4(e,t){if(e){if(typeof e=="string")return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}}function Aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function upe(e){if(Array.isArray(e))return e}var ug=function(t,r,n){return t+(r-t)*n},Tw=function(t){var r=t.from,n=t.to;return r!==n},dpe=function e(t,r,n){var a=Fd(function(s,o){if(Tw(o)){var l=t(o.from,o.to,o.velocity),c=ope(l,2),u=c[0],d=c[1];return dr(dr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Fd(function(s,o){return Tw(o)?dr(dr({},o),{},{velocity:ug(o.velocity,a[s].velocity,n),from:ug(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const fpe=function(e,t,r,n,a){var s=Ume(e,t),o=s.reduce(function(v,x){return dr(dr({},v),{},Ow({},x,[e[x],t[x]]))},{}),l=s.reduce(function(v,x){return dr(dr({},v),{},Ow({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Fd(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter(Tw).length},g=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=dpe(r,l,w),a(dr(dr(dr({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var b=(x-d)/n,w=Fd(function(_,S){return ug.apply(void 0,tC(S).concat([r(b)]))},o);if(a(dr(dr(dr({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var j=Fd(function(_,S){return ug.apply(void 0,tC(S).concat([r(1)]))},o);a(dr(dr(dr({},e),t),j))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}var hpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mpe(e,t){if(e==null)return{};var r=ppe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ppe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Vx(e){return xpe(e)||ype(e)||vpe(e)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function ype(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xpe(e){if(Array.isArray(e))return $w(e)}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(n){xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xd(e,t,r){return t=B4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B4(n.key),n)}}function jpe(e,t,r){return t&&wpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B4(e){var t=_pe(e,"string");return Hc(t)==="symbol"?t:String(t)}function _pe(e,t){if(Hc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Spe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mw(e,t)}function Npe(e){var t=kpe();return function(){var n=dg(e),a;if(t){var s=dg(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Iw(this,a)}}function Iw(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rw(e)}function Rw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dg(e){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(e)}var $s=function(e){Spe(r,e);var t=Npe(r);function r(n,a){var s;bpe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Rw(s)),s.changeStyle=s.changeStyle.bind(Rw(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Iw(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Iw(s);s.state={style:c?xd({},c,u):u}}else s.state={style:{}};return s}return jpe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?xd({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Tme(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?xd({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Vn(Vn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=fpe(o,l,tpe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,x){if(x===0)return p;var b=v.duration,w=v.easing,j=w===void 0?"ease":w,_=v.style,S=v.properties,N=v.onAnimationEnd,k=x>0?o[x-1]:v,E=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Vx(p),[s.runJSAnimation.bind(s,{from:k.style,to:_,duration:b,easing:j}),b]);var O=QP(E,b,j),C=Vn(Vn(Vn({},k.style),_),{},{transition:O});return[].concat(Vx(p),[C,b,N]).filter(Wme)};return this.manager.start([c].concat(Vx(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Fme());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?xd({},l,c):c,v=QP(Object.keys(p),o,u);g.start([d,s,Vn(Vn({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=mpe(a,hpe),u=y.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,x=g.className,b=y.cloneElement(m,Vn(Vn({},c),{},{style:Vn(Vn({},v),d),className:x}));return b};return u===1?f(y.Children.only(s)):$.createElement("div",null,y.Children.map(s,function(h){return f(h)}))}}]),r}(y.PureComponent);$s.displayName="Animate";$s.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$s.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function Epe(e,t){return Ape(e)||Ope(e,t)||Cpe(e,t)||Ppe()}function Ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(e,t){if(e){if(typeof e=="string")return aC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aC(e,t)}}function aC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ope(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ape(e){if(Array.isArray(e))return e}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){Tpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tpe(e,t,r){return t=$pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $pe(e){var t=Mpe(e,"string");return qf(t)=="symbol"?t:t+""}function Mpe(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oC=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Ipe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Rpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G_=function(t){var r=iC(iC({},Rpe),t),n=y.useRef(),a=y.useState(-1),s=Epe(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=qe("recharts-rectangle",m);return b?$.createElement($s,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(j){var _=j.width,S=j.height,N=j.x,k=j.y;return $.createElement($s,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:g},$.createElement("path",fg({},We(r,!0),{className:w,d:oC(N,k,_,S,h),ref:n})))}):$.createElement("path",fg({},We(r,!0),{className:w,d:oC(c,u,d,f,h)}))};function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}var K_=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=qe("recharts-dot",s);return r===+r&&n===+n&&a===+a?y.createElement("circle",Dw({},We(t,!1),Ap(t),{className:o,cx:r,cy:n,r:a})):null};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}var Dpe=["x","y","top","left","width","height","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){Fpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fpe(e,t,r){return t=Bpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpe(e){var t=zpe(e,"string");return Vf(t)=="symbol"?t:t+""}function zpe(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Upe(e,t){if(e==null)return{};var r=Wpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qpe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Vpe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=Upe(t,Dpe),v=Lpe({x:n,y:s,top:l,left:u,width:f,height:m},p);return!ue(n)||!ue(s)||!ue(f)||!ue(m)||!ue(l)||!ue(u)?null:$.createElement("path",Lw({},We(v,!0),{className:qe("recharts-cross",g),d:qpe(n,s,f,m,l,u)}))},Hpe=eD,Gpe=Hpe(Object.getPrototypeOf,Object),Kpe=Gpe,Ype=Ds,Xpe=Kpe,Zpe=Ls,Qpe="[object Object]",Jpe=Function.prototype,ege=Object.prototype,z4=Jpe.toString,tge=ege.hasOwnProperty,rge=z4.call(Object);function nge(e){if(!Zpe(e)||Ype(e)!=Qpe)return!1;var t=Xpe(e);if(t===null)return!0;var r=tge.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&z4.call(r)==rge}var age=nge;const sge=ut(age);var ige=Ds,oge=Ls,lge="[object Boolean]";function cge(e){return e===!0||e===!1||oge(e)&&ige(e)==lge}var uge=cge;const dge=ut(uge);function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function fge(e,t){return gge(e)||pge(e,t)||mge(e,t)||hge()}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mge(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gge(e){if(Array.isArray(e))return e}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){vge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vge(e,t,r){return t=yge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yge(e){var t=xge(e,"string");return Hf(t)=="symbol"?t:t+""}function xge(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fC=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},bge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wge=function(t){var r=dC(dC({},bge),t),n=y.useRef(),a=y.useState(-1),s=fge(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=qe("recharts-trapezoid",m);return x?$.createElement($s,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(w){var j=w.upperWidth,_=w.lowerWidth,S=w.height,N=w.x,k=w.y;return $.createElement($s,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},$.createElement("path",hg({},We(r,!0),{className:b,d:fC(N,k,j,_,S),ref:n})))}):$.createElement("g",null,$.createElement("path",hg({},We(r,!0),{className:b,d:fC(c,u,d,f,h)})))},jge=["option","shapeType","propTransformer","activeClassName","isActive"];function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function _ge(e,t){if(e==null)return{};var r=Sge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){Nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t,r){return t=kge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kge(e){var t=Ege(e,"string");return Gf(t)=="symbol"?t:t+""}function Ege(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pge(e,t){return mg(mg({},t),e)}function Cge(e,t){return e==="symbols"}function mC(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return $.createElement(G_,r);case"trapezoid":return $.createElement(wge,r);case"sector":return $.createElement(O4,r);case"symbols":if(Cge(t))return $.createElement(d_,r);break;default:return null}}function Oge(e){return y.isValidElement(e)?e.props:e}function Age(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Pge:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=_ge(e,jge),u;if(y.isValidElement(t))u=y.cloneElement(t,mg(mg({},c),Oge(t)));else if(Re(t))u=t(c);else if(sge(t)&&!dge(t)){var d=a(t,c);u=$.createElement(mC,{shapeType:r,elementProps:d})}else{var f=c;u=$.createElement(mC,{shapeType:r,elementProps:f})}return l?$.createElement(Lt,{className:o},u):u}function ly(e,t){return t!=null&&"trapezoids"in e.props}function cy(e,t){return t!=null&&"sectors"in e.props}function Kf(e,t){return t!=null&&"points"in e.props}function Tge(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function $ge(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Mge(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Ige(e,t){var r;return ly(e,t)?r=Tge:cy(e,t)?r=$ge:Kf(e,t)&&(r=Mge),r}function Rge(e,t){var r;return ly(e,t)?r="trapezoids":cy(e,t)?r="sectors":Kf(e,t)&&(r="points"),r}function Dge(e,t){if(ly(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(cy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kf(e,t)?t.payload:{}}function Lge(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Rge(r,t),s=Dge(r,t),o=n.filter(function(c,u){var d=sy(s,c),f=r.props[a].filter(function(g){var p=Ige(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Fge=Math.ceil,Bge=Math.max;function zge(e,t,r,n){for(var a=-1,s=Bge(Fge((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var Uge=zge,Wge=xD,pC=1/0,qge=17976931348623157e292;function Vge(e){if(!e)return e===0?e:0;if(e=Wge(e),e===pC||e===-pC){var t=e<0?-1:1;return t*qge}return e===e?e:0}var U4=Vge,Hge=Uge,Gge=Xv,Hx=U4;function Kge(e){return function(t,r,n){return n&&typeof n!="number"&&Gge(t,r,n)&&(r=n=void 0),t=Hx(t),r===void 0?(r=t,t=0):r=Hx(r),n=n===void 0?t<r?1:-1:Hx(n),Hge(t,r,n,e)}}var Yge=Kge,Xge=Yge,Zge=Xge(),Qge=Zge;const pg=ut(Qge);function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){W4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W4(e,t,r){return t=Jge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jge(e){var t=eve(e,"string");return Yf(t)=="symbol"?t:t+""}function eve(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tve=["Webkit","Moz","O","ms"],rve=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=tve.reduce(function(s,o){return vC(vC({},s),{},W4({},o+n,r))},{});return a[t]=r,a};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){an(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V4(n.key),n)}}function ave(e,t,r){return t&&xC(e.prototype,t),r&&xC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sve(e,t,r){return t=vg(t),ive(e,q4()?Reflect.construct(t,r||[],vg(e).constructor):t.apply(e,r))}function ive(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ove(e)}function ove(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!e})()}function vg(e){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vg(e)}function lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fw(e,t)}function an(e,t,r){return t=V4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V4(e){var t=cve(e,"string");return Gc(t)=="symbol"?t:t+""}function cve(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uve=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Dd().domain(pg(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},bC=function(t){return t.changedTouches&&!!t.changedTouches.length},Kc=function(e){function t(r){var n;return nve(this,t),n=sve(this,t,[r]),an(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),an(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),an(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),an(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),an(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),an(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),an(n,"handleSlideDragStart",function(a){var s=bC(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lve(t,e),ave(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=mn(s[n],l,n);return Re(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=bC(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var w=this.getIndex(x),j=w.startIndex,_=w.endIndex,S=function(){var k=v.length-1;return o==="startX"&&(l>c?j%p===0:_%p===0)||l<c&&_===k||o==="endX"&&(l>c?_%p===0:j%p===0)||l>c&&_===k};this.setState(an(an({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(an({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?$.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),b=Gx(Gx({},We(this.props,!1)),{},{x,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return $.createElement(Lt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return $.createElement(Lt,{className:"recharts-brush-texts"},$.createElement(Hp,gg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),$.createElement(Hp,gg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!ue(l)||!ue(c)||!ue(u)||!ue(d)||u<=0||d<=0)return null;var w=qe("recharts-brush",s),j=$.Children.count(o)===1,_=rve("userSelect","none");return $.createElement(Lt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return $.isValidElement(n)?s=$.cloneElement(n,a):Re(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return Gx({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?uve({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(y.PureComponent);an(Kc,"displayName","Brush");an(Kc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dve=y_;function fve(e,t){var r;return dve(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var hve=fve,mve=HR,pve=Yi,gve=hve,vve=rn,yve=Xv;function xve(e,t,r){var n=vve(e)?mve:gve;return r&&yve(e,t,r)&&(t=void 0),n(e,pve(t))}var bve=xve;const wve=ut(bve);var Wa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},wC=mD;function jve(e,t,r){t=="__proto__"&&wC?wC(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _ve=jve,Sve=_ve,Nve=fD,kve=Yi;function Eve(e,t){var r={};return t=kve(t),Nve(e,function(n,a,s){Sve(r,a,t(n,a,s))}),r}var Pve=Eve;const Cve=ut(Pve);function Ove(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Ave=Ove,Tve=y_;function $ve(e,t){var r=!0;return Tve(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var Mve=$ve,Ive=Ave,Rve=Mve,Dve=Yi,Lve=rn,Fve=Xv;function Bve(e,t,r){var n=Lve(e)?Ive:Rve;return r&&Fve(e,t,r)&&(t=void 0),n(e,Dve(t))}var zve=Bve;const H4=ut(zve);var Uve=["x","y"];function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){Wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wve(e,t,r){return t=qve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qve(e){var t=Vve(e,"string");return Xf(t)=="symbol"?t:t+""}function Vve(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hve(e,t){if(e==null)return{};var r=Gve(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kve(e,t){var r=e.x,n=e.y,a=Hve(e,Uve),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return dd(dd(dd(dd(dd({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _C(e){return $.createElement(Age,Bw({shapeType:"rectangle",propTransformer:Kve,activeClassName:"recharts-active-bar"},e))}var Yve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=ue(n)||fZ(n);return s?t(n,a):(s||el(),r)}},Xve=["value","background"],G4;function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Zve(e,t){if(e==null)return{};var r=Qve(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y4(n.key),n)}}function eye(e,t,r){return t&&NC(e.prototype,t),r&&NC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tye(e,t,r){return t=xg(t),rye(e,K4()?Reflect.construct(t,r||[],xg(e).constructor):t.apply(e,r))}function rye(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nye(e)}function nye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!e})()}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(e)}function aye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zw(e,t)}function pi(e,t,r){return t=Y4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y4(e){var t=sye(e,"string");return Yc(t)=="symbol"?t:t+""}function sye(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yl=function(e){function t(){var r;Jve(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=tye(this,t,[].concat(a)),pi(r,"state",{isAnimationFinished:!1}),pi(r,"id",Eh("recharts-bar-")),pi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),pi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return aye(t,e),eye(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=We(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=zt(zt(zt({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(Lt,yg({className:"recharts-bar-rectangle"},Tp(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$.createElement(_C,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return $.createElement($s,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,x){var b=h&&h[x];if(b){var w=na(b.x,v.x),j=na(b.y,v.y),_=na(b.width,v.width),S=na(b.height,v.height);return zt(zt({},v),{},{x:w(g),y:j(g),width:_(g),height:S(g)})}if(o==="horizontal"){var N=na(0,v.height),k=N(g);return zt(zt({},v),{},{y:v.y+v.height-k,height:k})}var E=na(0,v.width),O=E(g);return zt(zt({},v),{},{width:O})});return $.createElement(Lt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!sy(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=We(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Zve(u,Xve);if(!f)return null;var m=zt(zt(zt(zt(zt({},h),{},{fill:"#eee"},f),c),Tp(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(_C,yg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=An(d,$h);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:mn(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(Lt,g,f.map(function(p){return $.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=qe("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,_=Be(p)?this.id:p;return $.createElement(Lt,{className:x},b||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(_)},$.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,$.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||v)&&_s.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);G4=yl;pi(yl,"displayName","Bar");pi(yl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$u.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pi(yl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Ife(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?zt(zt({},p),r.props):r.props,x=v.dataKey,b=v.children,w=v.minPointSize,j=g==="horizontal"?o:s,_=u?j.scale.domain():null,S=Wfe({numericAxis:j}),N=An(b,w_),k=f.map(function(E,O){var C,P,A,T,M,I;u?C=Rfe(u[d+O],_):(C=mn(E,x),Array.isArray(C)||(C=[S,C]));var B=Yve(w,G4.defaultProps.minPointSize)(C[1],O);if(g==="horizontal"){var R,L=[o.scale(C[0]),o.scale(C[1])],W=L[0],Z=L[1];P=SP({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:E,index:O}),A=(R=Z??W)!==null&&R!==void 0?R:void 0,T=m.size;var G=W-Z;if(M=Number.isNaN(G)?0:G,I={x:P,y:o.y,width:T,height:o.height},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var ee=oa(M||B)*(Math.abs(B)-Math.abs(M));A-=ee,M+=ee}}else{var fe=[s.scale(C[0]),s.scale(C[1])],U=fe[0],Ne=fe[1];if(P=U,A=SP({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:E,index:O}),T=Ne-U,M=m.size,I={x:s.x,y:A,width:s.width,height:M},Math.abs(B)>0&&Math.abs(T)<Math.abs(B)){var te=oa(T||B)*(Math.abs(B)-Math.abs(T));T+=te}}return zt(zt(zt({},E),{},{x:P,y:A,width:T,height:M,value:u?C:C[1],payload:E,background:I},N&&N[O]&&N[O].props),{},{tooltipPayload:[E4(r,E)],tooltipPosition:{x:P+T/2,y:A+M/2}})});return zt({data:k,layout:g},h)});function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function iye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X4(n.key),n)}}function oye(e,t,r){return t&&kC(e.prototype,t),r&&kC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){uy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uy(e,t,r){return t=X4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4(e){var t=lye(e,"string");return Zf(t)=="symbol"?t:t+""}function lye(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z4=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!on(u,yl);return d.reduce(function(m,g){var p=r[g],v=p.orientation,x=p.domain,b=p.padding,w=b===void 0?{}:b,j=p.mirror,_=p.reversed,S="".concat(v).concat(j?"Mirror":""),N,k,E,O,C;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var P=x[1]-x[0],A=1/0,T=p.categoricalDomain.sort(pZ);if(T.forEach(function(fe,U){U>0&&(A=Math.min((fe||0)-(T[U-1]||0),A))}),Number.isFinite(A)){var M=A/P,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=M*I/2),p.padding==="no-gap"){var B=Qo(t.barCategoryGap,M*I),R=M*I/2;N=R-B-(R-B)/I*B}}}a==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,_&&(k=[k[1],k[0]]);var L=$fe(p,s,h),W=L.scale,Z=L.realScaleType;W.domain(x).range(k),Mfe(W);var G=Ufe(W,ea(ea({},p),{},{realScaleType:Z}));a==="xAxis"?(C=v==="top"&&!j||v==="bottom"&&j,E=n.left,O=f[S]-C*p.height):a==="yAxis"&&(C=v==="left"&&!j||v==="right"&&j,E=f[S]-C*p.width,O=n.top);var ee=ea(ea(ea({},p),G),{},{realScaleType:Z,x:E,y:O,scale:W,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return ee.bandSize=ig(ee,G),!p.hide&&a==="xAxis"?f[S]+=(C?-1:1)*ee.height:p.hide||(f[S]+=(C?-1:1)*ee.width),ea(ea({},m),{},uy({},g,ee))},{})},Q4=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},cye=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return Q4({x:r,y:n},{x:a,y:s})},J4=function(){function e(t){iye(this,e),this.scale=t}return oye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();uy(J4,"EPS",1e-4);var Y_=function(t){var r=Object.keys(t).reduce(function(n,a){return ea(ea({},n),{},uy({},a,J4.create(t[a])))},{});return ea(ea({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Cve(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return H4(a,function(s,o){return r[o].isInRange(s)})}})};function uye(e){return(e%180+180)%180}var dye=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=uye(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},fye=Yi,hye=Ph,mye=Kv;function pye(e){return function(t,r,n){var a=Object(t);if(!hye(t)){var s=fye(r);t=mye(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var gye=pye,vye=U4;function yye(e){var t=vye(e),r=t%1;return t===t?r?t-r:t:0}var xye=yye,bye=iD,wye=Yi,jye=xye,_ye=Math.max;function Sye(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:jye(r);return a<0&&(a=_ye(n+a,0)),bye(e,wye(t),a)}var Nye=Sye,kye=gye,Eye=Nye,Pye=kye(Eye),Cye=Pye;const Oye=ut(Cye);var Aye=yX(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),X_=y.createContext(void 0),Z_=y.createContext(void 0),e3=y.createContext(void 0),t3=y.createContext({}),r3=y.createContext(void 0),n3=y.createContext(0),a3=y.createContext(0),PC=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Aye(s);return $.createElement(X_.Provider,{value:n},$.createElement(Z_.Provider,{value:a},$.createElement(t3.Provider,{value:s},$.createElement(e3.Provider,{value:d},$.createElement(r3.Provider,{value:o},$.createElement(n3.Provider,{value:u},$.createElement(a3.Provider,{value:c},l)))))))},Tye=function(){return y.useContext(r3)},s3=function(t){var r=y.useContext(X_);r==null&&el();var n=r[t];return n==null&&el(),n},$ye=function(){var t=y.useContext(X_);return ai(t)},Mye=function(){var t=y.useContext(Z_),r=Oye(t,function(n){return H4(n.domain,Number.isFinite)});return r||ai(t)},i3=function(t){var r=y.useContext(Z_);r==null&&el();var n=r[t];return n==null&&el(),n},Iye=function(){var t=y.useContext(e3);return t},Rye=function(){return y.useContext(t3)},Q_=function(){return y.useContext(a3)},J_=function(){return y.useContext(n3)};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Dye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l3(n.key),n)}}function Fye(e,t,r){return t&&Lye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bye(e,t,r){return t=bg(t),zye(e,o3()?Reflect.construct(t,r||[],bg(e).constructor):t.apply(e,r))}function zye(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uye(e)}function Uye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}function Wye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uw(e,t)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){eS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eS(e,t,r){return t=l3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3(e){var t=qye(e,"string");return Xc(t)=="symbol"?t:t+""}function qye(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vye(e,t){return Yye(e)||Kye(e,t)||Gye(e,t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(e,t){if(e){if(typeof e=="string")return AC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(e,t)}}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Yye(e){if(Array.isArray(e))return e}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}var Xye=function(t,r){var n;return $.isValidElement(t)?n=$.cloneElement(t,r):Re(t)?n=t(r):n=$.createElement("line",Ww({},r,{className:"recharts-reference-line-line"})),n},Zye=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Wa(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var x=u.x,b=t.x.apply(x,{position:o});if(Wa(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,_=j.map(function(S){return t.apply(S,{position:o})});return Wa(u,"discard")&&wve(_,function(S){return!t.isInRange(S)})?null:_}return null};function Qye(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Tye(),d=s3(a),f=i3(s),h=Iye();if(!u||!h)return null;ws(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Y_({x:d.scale,y:f.scale}),g=nr(t),p=nr(r),v=n&&n.length===2,x=Zye(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=Vye(x,2),w=b[0],j=w.x,_=w.y,S=b[1],N=S.x,k=S.y,E=Wa(e,"hidden")?"url(#".concat(u,")"):void 0,O=OC(OC({clipPath:E},We(e,!0)),{},{x1:j,y1:_,x2:N,y2:k});return $.createElement(Lt,{className:qe("recharts-reference-line",l)},Xye(o,O),_r.renderCallByParent(e,cye({x1:j,y1:_,x2:N,y2:k})))}var tS=function(e){function t(){return Dye(this,t),Bye(this,t,arguments)}return Wye(t,e),Fye(t,[{key:"render",value:function(){return $.createElement(Qye,this.props)}}])}($.Component);eS(tS,"displayName","ReferenceLine");eS(tS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(this,arguments)}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){dy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function exe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u3(n.key),n)}}function txe(e,t,r){return t&&exe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rxe(e,t,r){return t=wg(t),nxe(e,c3()?Reflect.construct(t,r||[],wg(e).constructor):t.apply(e,r))}function nxe(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return axe(e)}function axe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!e})()}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vw(e,t)}function dy(e,t,r){return t=u3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3(e){var t=ixe(e,"string");return Zc(t)=="symbol"?t:t+""}function ixe(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oxe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=Y_({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Wa(t,"discard")&&!o.isInRange(l)?null:l},fy=function(e){function t(){return Jye(this,t),rxe(this,t,arguments)}return sxe(t,e),txe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=nr(a),d=nr(s);if(ws(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=oxe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,x=Wa(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=$C($C({clipPath:x},We(this.props,!0)),{},{cx:h,cy:m});return $.createElement(Lt,{className:qe("recharts-reference-dot",v)},t.renderDot(p,b),_r.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}($.Component);dy(fy,"displayName","ReferenceDot");dy(fy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dy(fy,"renderDot",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):Re(e)?r=e(t):r=$.createElement(K_,qw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f3(n.key),n)}}function uxe(e,t,r){return t&&cxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dxe(e,t,r){return t=jg(t),fxe(e,d3()?Reflect.construct(t,r||[],jg(e).constructor):t.apply(e,r))}function fxe(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hxe(e)}function hxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d3=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(e)}function mxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gw(e,t)}function hy(e,t,r){return t=f3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3(e){var t=pxe(e,"string");return Qc(t)=="symbol"?t:t+""}function pxe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gxe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=Y_({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Wa(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:Q4(m,g)},my=function(e){function t(){return lxe(this,t),dxe(this,t,arguments)}return mxe(t,e),uxe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ws(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=nr(a),h=nr(s),m=nr(o),g=nr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=gxe(f,h,m,g,this.props);if(!v&&!p)return null;var x=Wa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(Lt,{className:qe("recharts-reference-area",c)},t.renderRect(p,IC(IC({clipPath:x},We(this.props,!0)),v)),_r.renderCallByParent(this.props,v))}}])}($.Component);hy(my,"displayName","ReferenceArea");hy(my,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hy(my,"renderRect",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):Re(e)?r=e(t):r=$.createElement(G_,Hw({},t,{className:"recharts-reference-area-rect"})),r});function h3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function vxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dye(n,r)}function yxe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function _g(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function xxe(e,t){return h3(e,t+1)}function bxe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:h3(n,u)};var p=c,v,x=function(){return v===void 0&&(v=r(g,p)),v},b=g.coordinate,w=c===0||_g(e,b,x,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){wxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e,t,r){return t=jxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jxe(e){var t=_xe(e,"string");return Qf(t)=="symbol"?t:t+""}function _xe(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sxe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=wr(wr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=wr(wr({},m),{},{tickCoord:m.coordinate});var x=_g(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),s[h]=wr(wr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function Nxe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=wr(wr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=_g(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=wr(wr({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(b){var w=o[b],j,_=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var S=e*(w.coordinate-e*_()/2-c);o[b]=w=wr(wr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[b]=w=wr(wr({},w),{},{tickCoord:w.coordinate});var N=_g(e,w.tickCoord,_,c,u);N&&(c=w.tickCoord+e*(_()/2+a),o[b]=wr(wr({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function rS(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ue(c)||$u.isSsr)return xxe(a,typeof c=="number"&&ue(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Rd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var _=Re(u)?u(w.value,j):w.value;return m==="width"?vxe(Rd(_,{fontSize:t,letterSpacing:r}),g,f):Rd(_,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?oa(a[1].coordinate-a[0].coordinate):1,x=yxe(s,v,m);return c==="equidistantPreserveStart"?bxe(v,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Nxe(v,x,p,a,o,c==="preserveStartEnd"):h=Sxe(v,x,p,a,o),h.filter(function(b){return b.isShow}))}var kxe=["viewBox"],Exe=["viewBox"],Pxe=["ticks"];function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){nS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kx(e,t){if(e==null)return{};var r=Cxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p3(n.key),n)}}function Axe(e,t,r){return t&&LC(e.prototype,t),r&&LC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Txe(e,t,r){return t=Sg(t),$xe(e,m3()?Reflect.construct(t,r||[],Sg(e).constructor):t.apply(e,r))}function $xe(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mxe(e)}function Mxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m3=function(){return!!e})()}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(e)}function Ixe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kw(e,t)}function nS(e,t,r){return t=p3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3(e){var t=Rxe(e,"string");return Jc(t)=="symbol"?t:t+""}function Rxe(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Du=function(e){function t(r){var n;return Oxe(this,t),n=Txe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Ixe(t,e),Axe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=Kx(n,kxe),l=this.props,c=l.viewBox,u=Kx(l,Exe);return!cc(s,c)||!cc(o,u)||!cc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,x,b,w=f?-1:1,j=n.tickSize||d,_=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*j,b=p-w*h,x=_;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-w*j,x=m-w*h,b=_;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+w*j,x=m+w*h,b=_;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*j,b=p+w*h,x=_;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Xt(Xt(Xt({},We(this.props,!1)),We(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Xt(Xt({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Xt(Xt({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return $.createElement("line",Zl({},f,{className:qe("recharts-cartesian-axis-line",On(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=rS(Xt(Xt({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=We(this.props,!1),x=We(d,!1),b=Xt(Xt({},v),{},{fill:"none"},We(c,!1)),w=m.map(function(j,_){var S=o.getTickLineCoord(j),N=S.line,k=S.tick,E=Xt(Xt(Xt(Xt({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),k),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return $.createElement(Lt,Zl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Tp(o.props,j,_)),c&&$.createElement("line",Zl({},b,N,{className:qe("recharts-cartesian-axis-tick-line",On(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(Re(f)?f(j.value,_):j.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Kx(f,Pxe),g=h;return Re(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:$.createElement(Lt,{className:qe("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),_r.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=qe(a.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(n)?o=$.cloneElement(n,Xt(Xt({},a),{},{className:l})):Re(n)?o=n(Xt(Xt({},a),{},{className:l})):o=$.createElement(Hp,Zl({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(y.Component);nS(Du,"displayName","CartesianAxis");nS(Du,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Dxe=["x1","y1","x2","y2","key"],Lxe=["offset"];function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){Fxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fxe(e,t,r){return t=Bxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bxe(e){var t=zxe(e,"string");return tl(t)=="symbol"?t:t+""}function zxe(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(this,arguments)}function BC(e,t){if(e==null)return{};var r=Uxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wxe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return $.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function g3(e,t){var r;if($.isValidElement(e))r=$.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=BC(t,Dxe),u=We(c,!1);u.offset;var d=BC(u,Lxe);r=$.createElement("line",So({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function qxe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Sr(Sr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return g3(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Vxe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Sr(Sr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return g3(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Hxe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return $.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Gxe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return $.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Kxe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return N4(rS(Sr(Sr(Sr({},Du.defaultProps),n),{},{ticks:vs(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},Yxe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return N4(rS(Sr(Sr(Sr({},Du.defaultProps),n),{},{ticks:vs(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},El={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function v3(e){var t,r,n,a,s,o,l=Q_(),c=J_(),u=Rye(),d=Sr(Sr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:El.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:El.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:El.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:El.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:El.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:El.verticalFill,x:ue(e.x)?e.x:u.left,y:ue(e.y)?e.y:u.top,width:ue(e.width)?e.width:u.width,height:ue(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=$ye(),w=Mye();if(!ue(m)||m<=0||!ue(g)||g<=0||!ue(f)||f!==+f||!ue(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Kxe,_=d.horizontalCoordinatesGenerator||Yxe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Re(_)){var k=v&&v.length,E=_({yAxis:w?Sr(Sr({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);ws(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tl(E),"]")),Array.isArray(E)&&(S=E)}if((!N||!N.length)&&Re(j)){var O=x&&x.length,C=j({xAxis:b?Sr(Sr({},b),{},{ticks:O?x:b.ticks}):void 0,width:l,height:c,offset:u},O?!0:p);ws(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tl(C),"]")),Array.isArray(C)&&(N=C)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(Wxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(qxe,So({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:w})),$.createElement(Vxe,So({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:w})),$.createElement(Hxe,So({},d,{horizontalPoints:S})),$.createElement(Gxe,So({},d,{verticalPoints:N})))}v3.displayName="CartesianGrid";var Xxe=["type","layout","connectNulls","ref"],Zxe=["key"];function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function zC(e,t){if(e==null)return{};var r=Qxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bd.apply(this,arguments)}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pl(e){return rbe(e)||tbe(e)||ebe(e)||Jxe()}function Jxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ebe(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function tbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rbe(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x3(n.key),n)}}function abe(e,t,r){return t&&WC(e.prototype,t),r&&WC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sbe(e,t,r){return t=Ng(t),ibe(e,y3()?Reflect.construct(t,r||[],Ng(e).constructor):t.apply(e,r))}function ibe(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return obe(e)}function obe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y3=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(e)}function lbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xw(e,t)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xw(e,t)}function ta(e,t,r){return t=x3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3(e){var t=cbe(e,"string");return eu(t)=="symbol"?t:t+""}function cbe(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mh=function(e){function t(){var r;nbe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=sbe(this,t,[].concat(a)),ta(r,"state",{isAnimationFinished:!0,totalLength:0}),ta(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ta(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Pl(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Pl(t.repeat(c,d)),Pl(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ta(r,"id",Eh("recharts-line-")),ta(r,"pathRef",function(o){r.mainCurve=o}),ta(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ta(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return lbe(t,e),abe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=An(d,$h);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:mn(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(Lt,m,f.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=We(this.props,!1),h=We(c,!0),m=u.map(function(p,v){var x=nn(nn(nn({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return $.createElement(Lt,Bd({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=zC(l,Xxe),h=nn(nn(nn({},We(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return $.createElement(Ew,Bd({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,x=this.state,b=x.prevPoints,w=x.totalLength;return $.createElement($s,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(b){var S=b.length/l.length,N=l.map(function(P,A){var T=Math.floor(A*S);if(b[T]){var M=b[T],I=na(M.x,P.x),B=na(M.y,P.y);return nn(nn({},P),{},{x:I(_),y:B(_)})}if(g){var R=na(p*2,P.x),L=na(v/2,P.y);return nn(nn({},P),{},{x:R(_),y:L(_)})}return nn(nn({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(N,n,a)}var k=na(0,w),E=k(_),O;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});O=s.getStrokeDasharray(E,w,C)}else O=s.generateSimpleStrokeDasharray(w,E);return s.renderCurveStatically(l,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!sy(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=qe("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=j||_,N=Be(v)?this.id:v,k=(n=We(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=k.r,O=E===void 0?3:E,C=k.strokeWidth,P=C===void 0?2:C,A=SZ(o)?o:{},T=A.clipDot,M=T===void 0?!0:T,I=O*2+P;return $.createElement(Lt,{className:w},j||_?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(N)},$.createElement("rect",{x:j?h:h-m/2,y:_?f:f-g/2,width:j?m:m*2,height:_?g:g*2})),!M&&$.createElement("clipPath",{id:"clipPath-dots-".concat(N)},$.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:g+I}))):null,!b&&this.renderCurve(S,N),this.renderErrorBar(S,N),(b||o)&&this.renderDots(S,M,N),(!p||x)&&_s.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Pl(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Pl(o),Pl(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if($.isValidElement(n))s=$.cloneElement(n,a);else if(Re(n))s=n(a);else{var o=a.key,l=zC(a,Zxe),c=qe("recharts-line-dot",typeof n!="boolean"?n.className:"");s=$.createElement(K_,Bd({key:o},l,{className:c}))}return s}}])}(y.PureComponent);ta(Mh,"displayName","Line");ta(Mh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!$u.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ta(Mh,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=mn(h,o);return d==="horizontal"?{x:_P({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Be(g)?null:n.scale(g),value:g,payload:h}:{x:Be(g)?null:r.scale(g),y:_P({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return nn({points:f,layout:d},u)});function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function ube(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j3(n.key),n)}}function fbe(e,t,r){return t&&dbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hbe(e,t,r){return t=kg(t),mbe(e,b3()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function mbe(e,t){if(t&&(tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pbe(e)}function pbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b3=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function gbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zw(e,t)}function w3(e,t,r){return t=j3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3(e){var t=vbe(e,"string");return tu(t)=="symbol"?t:t+""}function vbe(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(this,arguments)}function ybe(e){var t=e.xAxisId,r=Q_(),n=J_(),a=s3(t);return a==null?null:y.createElement(Du,Qw({},a,{className:qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return vs(o,!0)}}))}var Lu=function(e){function t(){return ube(this,t),hbe(this,t,arguments)}return gbe(t,e),fbe(t,[{key:"render",value:function(){return y.createElement(ybe,this.props)}}])}(y.Component);w3(Lu,"displayName","XAxis");w3(Lu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N3(n.key),n)}}function wbe(e,t,r){return t&&bbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jbe(e,t,r){return t=Eg(t),_be(e,_3()?Reflect.construct(t,r||[],Eg(e).constructor):t.apply(e,r))}function _be(e,t){if(t&&(ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sbe(e)}function Sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(e)}function Nbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jw(e,t)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jw(e,t)}function S3(e,t,r){return t=N3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N3(e){var t=kbe(e,"string");return ru(t)=="symbol"?t:t+""}function kbe(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}var Ebe=function(t){var r=t.yAxisId,n=Q_(),a=J_(),s=i3(r);return s==null?null:y.createElement(Du,e1({},s,{className:qe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return vs(l,!0)}}))},Fu=function(e){function t(){return xbe(this,t),jbe(this,t,arguments)}return Nbe(t,e),wbe(t,[{key:"render",value:function(){return y.createElement(Ebe,this.props)}}])}(y.Component);S3(Fu,"displayName","YAxis");S3(Fu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qC(e){return Abe(e)||Obe(e)||Cbe(e)||Pbe()}function Pbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cbe(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function Obe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Abe(e){if(Array.isArray(e))return t1(e)}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var r1=function(t,r,n,a,s){var o=An(t,tS),l=An(t,fy),c=[].concat(qC(o),qC(l)),u=An(t,my),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&Wa(v.props,"extendDomain")&&ue(v.props[f])){var x=v.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&Wa(v.props,"extendDomain")&&ue(v.props[m])&&ue(v.props[g])){var x=v.props[m],b=v.props[g];return[Math.min(p[0],x,b),Math.max(p[1],x,b)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return ue(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},k3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,_;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],x=g.length;p<x;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(k3);var Tbe=k3.exports;const $be=ut(Tbe);var Yx=new $be,Xx="recharts.syncMouseEvents";function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function Mbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ibe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E3(n.key),n)}}function Rbe(e,t,r){return t&&Ibe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zx(e,t,r){return t=E3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3(e){var t=Dbe(e,"string");return Jf(t)=="symbol"?t:t+""}function Dbe(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lbe=function(){function e(){Mbe(this,e),Zx(this,"activeIndex",0),Zx(this,"coordinateList",[]),Zx(this,"layout","horizontal")}return Rbe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Fbe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ue(n)&&ue(a))return!0}return!1}function Bbe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function P3(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=hr(t,r,n,a),l=hr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function zbe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=hr(l,c,u,f),m=hr(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return P3(t);return[{x:n,y:a},{x:s,y:o}]}function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){Ube(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ube(e,t,r){return t=Wbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wbe(e){var t=qbe(e,"string");return eh(t)=="symbol"?t:t+""}function qbe(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vbe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Ew;if(h==="ScatterChart")g=o,p=Vpe;else if(h==="BarChart")g=Bbe(f,o,c,d),p=G_;else if(f==="radial"){var v=P3(o),x=v.cx,b=v.cy,w=v.radius,j=v.startAngle,_=v.endAngle;g={cx:x,cy:b,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},p=O4}else g={points:zbe(f,o,c)},p=Ew;var S=Em(Em(Em(Em({stroke:"#ccc",pointerEvents:"none"},c),g),We(m,!1)),{},{payload:l,payloadIndex:u,className:qe("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(p,S)}var Hbe=["item"],Gbe=["children","className","width","height","style","compact","title","desc"];function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function HC(e,t){return Xbe(e)||Ybe(e,t)||O3(e,t)||Kbe()}function Kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xbe(e){if(Array.isArray(e))return e}function GC(e,t){if(e==null)return{};var r=Zbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A3(n.key),n)}}function e0e(e,t,r){return t&&Jbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t0e(e,t,r){return t=Pg(t),r0e(e,C3()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function r0e(e,t){if(t&&(nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0e(e)}function n0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function a0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n1(e,t)}function n1(e,t){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n1(e,t)}function au(e){return o0e(e)||i0e(e)||O3(e)||s0e()}function s0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3(e,t){if(e){if(typeof e=="string")return a1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(e,t)}}function i0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o0e(e){if(Array.isArray(e))return a1(e)}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t=A3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3(e){var t=l0e(e,"string");return nu(t)=="symbol"?t:t+""}function l0e(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c0e={xAxis:["bottom","top"],yAxis:["left","right"]},u0e={width:"100%",height:"100%"},T3={x:0,y:0};function Pm(e){return e}var d0e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},f0e=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Y(Y(Y({},a),hr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Y(Y(Y({},a),hr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return T3},py=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(au(l),au(u)):l},[]);return o.length>0?o:t&&t.length&&ue(a)&&ue(s)?t.slice(a,s+1):[]};function $3(e){return e==="number"?[0,"auto"]:void 0}var s1=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=py(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Op(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(au(c),[E4(u,h)]):c},[])},YC=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=d0e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Efe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=s1(t,r,d,f),m=f0e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},h0e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=S4(d,s);return n.reduce(function(g,p){var v,x=p.type.defaultProps!==void 0?Y(Y({},p.type.defaultProps),p.props):p.props,b=x.type,w=x.dataKey,j=x.allowDataOverflow,_=x.allowDuplicatedCategory,S=x.scale,N=x.ticks,k=x.includeHidden,E=x[o];if(g[E])return g;var O=py(t.data,{graphicalItems:a.filter(function(G){var ee,fe=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o];return fe===E}),dataStartIndex:c,dataEndIndex:u}),C=O.length,P,A,T;Fbe(x.domain,j,b)&&(P=jw(x.domain,null,j),m&&(b==="number"||S!=="auto")&&(T=Ld(O,w,"category")));var M=$3(b);if(!P||P.length===0){var I,B=(I=x.domain)!==null&&I!==void 0?I:M;if(w){if(P=Ld(O,w,b),b==="category"&&m){var R=mZ(P);_&&R?(A=P,P=pg(0,C)):_||(P=EP(B,P,p).reduce(function(G,ee){return G.indexOf(ee)>=0?G:[].concat(au(G),[ee])},[]))}else if(b==="category")_?P=P.filter(function(G){return G!==""&&!Be(G)}):P=EP(B,P,p).reduce(function(G,ee){return G.indexOf(ee)>=0||ee===""||Be(ee)?G:[].concat(au(G),[ee])},[]);else if(b==="number"){var L=Tfe(O,a.filter(function(G){var ee,fe,U=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o],Ne="hide"in G.props?G.props.hide:(fe=G.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return U===E&&(k||!Ne)}),w,s,d);L&&(P=L)}m&&(b==="number"||S!=="auto")&&(T=Ld(O,w,"category"))}else m?P=pg(0,C):l&&l[E]&&l[E].hasStack&&b==="number"?P=h==="expand"?[0,1]:k4(l[E].stackGroups,c,u):P=_4(O,a.filter(function(G){var ee=o in G.props?G.props[o]:G.type.defaultProps[o],fe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ee===E&&(k||!fe)}),b,d,!0);if(b==="number")P=r1(f,P,E,s,N),B&&(P=jw(B,P,j));else if(b==="category"&&B){var W=B,Z=P.every(function(G){return W.indexOf(G)>=0});Z&&(P=W)}}return Y(Y({},g),{},Ee({},E,Y(Y({},x),{},{axisType:s,domain:P,categoricalDomain:T,duplicateDomain:A,originalDomain:(v=x.domain)!==null&&v!==void 0?v:M,isCategorical:m,layout:d})))},{})},m0e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=py(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=S4(d,s),p=-1;return n.reduce(function(v,x){var b=x.type.defaultProps!==void 0?Y(Y({},x.type.defaultProps),x.props):x.props,w=b[o],j=$3("number");if(!v[w]){p++;var _;return g?_=pg(0,m):l&&l[w]&&l[w].hasStack?(_=k4(l[w].stackGroups,c,u),_=r1(f,_,w,s)):(_=jw(j,_4(h,n.filter(function(S){var N,k,E=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],O="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===w&&!O}),"number",d),a.defaultProps.allowDataOverflow),_=r1(f,_,w,s)),Y(Y({},v),{},Ee({},w,Y(Y({axisType:s},a.defaultProps),{},{hide:!0,orientation:On(c0e,"".concat(s,".").concat(p%2),null),domain:_,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},p0e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=An(d,s),m={};return h&&h.length?m=h0e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=m0e(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},g0e=function(t){var r=ai(t),n=vs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:x_(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ig(r,n)}},XC=function(t){var r=t.children,n=t.defaultShowTooltip,a=on(r,Kc),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},v0e=function(t){return!t||!t.length?!1:t.some(function(r){var n=bs(r&&r.type);return n&&n.indexOf("Bar")>=0})},ZC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},y0e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=on(f,Kc),g=on(f,uc),p=Object.keys(c).reduce(function(_,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?Y(Y({},_),{},Ee({},k,_[k]+N.width)):_},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(_,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?Y(Y({},_),{},Ee({},k,On(_,"".concat(k))+N.height)):_},{top:h.top||0,bottom:h.bottom||0}),x=Y(Y({},v),p),b=x.bottom;m&&(x.bottom+=m.props.height||Kc.defaultProps.height),g&&r&&(x=Ofe(x,a,n,r));var w=u-x.left-x.right,j=d-x.top-x.bottom;return Y(Y({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(j,0)})},x0e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},M3=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,b){var w=b.graphicalItems,j=b.stackGroups,_=b.offset,S=b.updateId,N=b.dataStartIndex,k=b.dataEndIndex,E=x.barSize,O=x.layout,C=x.barGap,P=x.barCategoryGap,A=x.maxBarSize,T=ZC(O),M=T.numericAxisName,I=T.cateAxisName,B=v0e(w),R=[];return w.forEach(function(L,W){var Z=py(x.data,{graphicalItems:[L],dataStartIndex:N,dataEndIndex:k}),G=L.type.defaultProps!==void 0?Y(Y({},L.type.defaultProps),L.props):L.props,ee=G.dataKey,fe=G.maxBarSize,U=G["".concat(M,"Id")],Ne=G["".concat(I,"Id")],te={},we=c.reduce(function(z,H){var le=b["".concat(H.axisType,"Map")],ce=G["".concat(H.axisType,"Id")];le&&le[ce]||H.axisType==="zAxis"||el();var ie=le[ce];return Y(Y({},z),{},Ee(Ee({},H.axisType,ie),"".concat(H.axisType,"Ticks"),vs(ie)))},te),Q=we[I],ne=we["".concat(I,"Ticks")],de=j&&j[U]&&j[U].hasStack&&qfe(L,j[U].stackGroups),q=bs(L.type).indexOf("Bar")>=0,Me=ig(Q,ne),Pe=[],et=B&&Pfe({barSize:E,stackGroups:j,totalSize:x0e(we,I)});if(q){var tt,_t,Pr=Be(fe)?A:fe,vr=(tt=(_t=ig(Q,ne,!0))!==null&&_t!==void 0?_t:Pr)!==null&&tt!==void 0?tt:0;Pe=Cfe({barGap:C,barCategoryGap:P,bandSize:vr!==Me?vr:Me,sizeList:et[Ne],maxBarSize:Pr}),vr!==Me&&(Pe=Pe.map(function(z){return Y(Y({},z),{},{position:Y(Y({},z.position),{},{offset:z.position.offset-vr/2})})}))}var D=L&&L.type&&L.type.getComposedData;D&&R.push({props:Y(Y({},D(Y(Y({},we),{},{displayedData:Z,props:x,dataKey:ee,item:L,bandSize:Me,barPosition:Pe,offset:_,stackedData:de,layout:O,dataStartIndex:N,dataEndIndex:k}))),{},Ee(Ee(Ee({key:L.key||"item-".concat(W)},M,we[M]),I,we[I]),"animationId",S)),childIndex:EZ(L,x.children),item:L})}),R},m=function(x,b){var w=x.props,j=x.dataStartIndex,_=x.dataEndIndex,S=x.updateId;if(!bE({props:w}))return null;var N=w.children,k=w.layout,E=w.stackOffset,O=w.data,C=w.reverseStackOrder,P=ZC(k),A=P.numericAxisName,T=P.cateAxisName,M=An(N,n),I=zfe(O,M,"".concat(A,"Id"),"".concat(T,"Id"),E,C),B=c.reduce(function(G,ee){var fe="".concat(ee.axisType,"Map");return Y(Y({},G),{},Ee({},fe,p0e(w,Y(Y({},ee),{},{graphicalItems:M,stackGroups:ee.axisType===A&&I,dataStartIndex:j,dataEndIndex:_}))))},{}),R=y0e(Y(Y({},B),{},{props:w,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(G){B[G]=d(w,B[G],R,G.replace("Map",""),r)});var L=B["".concat(T,"Map")],W=g0e(L),Z=h(w,Y(Y({},B),{},{dataStartIndex:j,dataEndIndex:_,updateId:S,graphicalItems:M,stackGroups:I,offset:R}));return Y(Y({formattedGraphicalItems:Z,graphicalItems:M,offset:R,stackGroups:I},W),B)},g=function(v){function x(b){var w,j,_;return Qbe(this,x),_=t0e(this,x,[b]),Ee(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(_,"accessibilityManager",new Lbe),Ee(_,"handleLegendBBoxUpdate",function(S){if(S){var N=_.state,k=N.dataStartIndex,E=N.dataEndIndex,O=N.updateId;_.setState(Y({legendBBox:S},m({props:_.props,dataStartIndex:k,dataEndIndex:E,updateId:O},Y(Y({},_.state),{},{legendBBox:S}))))}}),Ee(_,"handleReceiveSyncEvent",function(S,N,k){if(_.props.syncId===S){if(k===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(N)}}),Ee(_,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==_.state.dataStartIndex||k!==_.state.dataEndIndex){var E=_.state.updateId;_.setState(function(){return Y({dataStartIndex:N,dataEndIndex:k},m({props:_.props,dataStartIndex:N,dataEndIndex:k,updateId:E},_.state))}),_.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Ee(_,"handleMouseEnter",function(S){var N=_.getMouseInfo(S);if(N){var k=Y(Y({},N),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var E=_.props.onMouseEnter;Re(E)&&E(k,S)}}),Ee(_,"triggeredAfterMouseMove",function(S){var N=_.getMouseInfo(S),k=N?Y(Y({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var E=_.props.onMouseMove;Re(E)&&E(k,S)}),Ee(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ee(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ee(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),Ee(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};_.setState(N),_.triggerSyncEvent(N);var k=_.props.onMouseLeave;Re(k)&&k(N,S)}),Ee(_,"handleOuterEvent",function(S){var N=kZ(S),k=On(_.props,"".concat(N));if(N&&Re(k)){var E,O;/.*touch.*/i.test(N)?O=_.getMouseInfo(S.changedTouches[0]):O=_.getMouseInfo(S),k((E=O)!==null&&E!==void 0?E:{},S)}}),Ee(_,"handleClick",function(S){var N=_.getMouseInfo(S);if(N){var k=Y(Y({},N),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var E=_.props.onClick;Re(E)&&E(k,S)}}),Ee(_,"handleMouseDown",function(S){var N=_.props.onMouseDown;if(Re(N)){var k=_.getMouseInfo(S);N(k,S)}}),Ee(_,"handleMouseUp",function(S){var N=_.props.onMouseUp;if(Re(N)){var k=_.getMouseInfo(S);N(k,S)}}),Ee(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ee(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),Ee(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),Ee(_,"handleDoubleClick",function(S){var N=_.props.onDoubleClick;if(Re(N)){var k=_.getMouseInfo(S);N(k,S)}}),Ee(_,"handleContextMenu",function(S){var N=_.props.onContextMenu;if(Re(N)){var k=_.getMouseInfo(S);N(k,S)}}),Ee(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Yx.emit(Xx,_.props.syncId,S,_.eventEmitterSymbol)}),Ee(_,"applySyncEvent",function(S){var N=_.props,k=N.layout,E=N.syncMethod,O=_.state.updateId,C=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(Y({dataStartIndex:C,dataEndIndex:P},m({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:O},_.state)));else if(S.activeTooltipIndex!==void 0){var A=S.chartX,T=S.chartY,M=S.activeTooltipIndex,I=_.state,B=I.offset,R=I.tooltipTicks;if(!B)return;if(typeof E=="function")M=E(R,S);else if(E==="value"){M=-1;for(var L=0;L<R.length;L++)if(R[L].value===S.activeLabel){M=L;break}}var W=Y(Y({},B),{},{x:B.left,y:B.top}),Z=Math.min(A,W.x+W.width),G=Math.min(T,W.y+W.height),ee=R[M]&&R[M].value,fe=s1(_.state,_.props.data,M),U=R[M]?{x:k==="horizontal"?R[M].coordinate:Z,y:k==="horizontal"?G:R[M].coordinate}:T3;_.setState(Y(Y({},S),{},{activeLabel:ee,activeCoordinate:U,activePayload:fe,activeTooltipIndex:M}))}else _.setState(S)}),Ee(_,"renderCursor",function(S){var N,k=_.state,E=k.isTooltipActive,O=k.activeCoordinate,C=k.activePayload,P=k.offset,A=k.activeTooltipIndex,T=k.tooltipAxisBandSize,M=_.getTooltipEventType(),I=(N=S.props.active)!==null&&N!==void 0?N:E,B=_.props.layout,R=S.key||"_recharts-cursor";return $.createElement(Vbe,{key:R,activeCoordinate:O,activePayload:C,activeTooltipIndex:A,chartName:r,element:S,isActive:I,layout:B,offset:P,tooltipAxisBandSize:T,tooltipEventType:M})}),Ee(_,"renderPolarAxis",function(S,N,k){var E=On(S,"type.axisType"),O=On(_.state,"".concat(E,"Map")),C=S.type.defaultProps,P=C!==void 0?Y(Y({},C),S.props):S.props,A=O&&O[P["".concat(E,"Id")]];return y.cloneElement(S,Y(Y({},A),{},{className:qe(E,A.className),key:S.key||"".concat(N,"-").concat(k),ticks:vs(A,!0)}))}),Ee(_,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,E=N.polarAngles,O=N.polarRadius,C=_.state,P=C.radiusAxisMap,A=C.angleAxisMap,T=ai(P),M=ai(A),I=M.cx,B=M.cy,R=M.innerRadius,L=M.outerRadius;return y.cloneElement(S,{polarAngles:Array.isArray(E)?E:vs(M,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(O)?O:vs(T,!0).map(function(W){return W.coordinate}),cx:I,cy:B,innerRadius:R,outerRadius:L,key:S.key||"polar-grid",radialLines:k})}),Ee(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,N=_.props,k=N.children,E=N.width,O=N.height,C=_.props.margin||{},P=E-(C.left||0)-(C.right||0),A=w4({children:k,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!A)return null;var T=A.item,M=GC(A,Hbe);return y.cloneElement(T,Y(Y({},M),{},{chartWidth:E,chartHeight:O,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ee(_,"renderTooltip",function(){var S,N=_.props,k=N.children,E=N.accessibilityLayer,O=on(k,Ea);if(!O)return null;var C=_.state,P=C.isTooltipActive,A=C.activeCoordinate,T=C.activePayload,M=C.activeLabel,I=C.offset,B=(S=O.props.active)!==null&&S!==void 0?S:P;return y.cloneElement(O,{viewBox:Y(Y({},I),{},{x:I.left,y:I.top}),active:B,label:M,payload:B?T:[],coordinate:A,accessibilityLayer:E})}),Ee(_,"renderBrush",function(S){var N=_.props,k=N.margin,E=N.data,O=_.state,C=O.offset,P=O.dataStartIndex,A=O.dataEndIndex,T=O.updateId;return y.cloneElement(S,{key:S.key||"_recharts-brush",onChange:_m(_.handleBrushChange,S.props.onChange),data:E,x:ue(S.props.x)?S.props.x:C.left,y:ue(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:ue(S.props.width)?S.props.width:C.width,startIndex:P,endIndex:A,updateId:"brush-".concat(T)})}),Ee(_,"renderReferenceElement",function(S,N,k){if(!S)return null;var E=_,O=E.clipPathId,C=_.state,P=C.xAxisMap,A=C.yAxisMap,T=C.offset,M=S.type.defaultProps||{},I=S.props,B=I.xAxisId,R=B===void 0?M.xAxisId:B,L=I.yAxisId,W=L===void 0?M.yAxisId:L;return y.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:P[R],yAxis:A[W],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:O})}),Ee(_,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,E=S.basePoint,O=S.childIndex,C=S.isRange,P=[],A=N.props.key,T=N.item.type.defaultProps!==void 0?Y(Y({},N.item.type.defaultProps),N.item.props):N.item.props,M=T.activeDot,I=T.dataKey,B=Y(Y({index:O,dataKey:I,cx:k.x,cy:k.y,r:4,fill:H_(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},We(M,!1)),Ap(M));return P.push(x.renderActiveDot(M,B,"".concat(A,"-activePoint-").concat(O))),E?P.push(x.renderActiveDot(M,Y(Y({},B),{},{cx:E.x,cy:E.y}),"".concat(A,"-basePoint-").concat(O))):C&&P.push(null),P}),Ee(_,"renderGraphicChild",function(S,N,k){var E=_.filterFormatItem(S,N,k);if(!E)return null;var O=_.getTooltipEventType(),C=_.state,P=C.isTooltipActive,A=C.tooltipAxis,T=C.activeTooltipIndex,M=C.activeLabel,I=_.props.children,B=on(I,Ea),R=E.props,L=R.points,W=R.isRange,Z=R.baseLine,G=E.item.type.defaultProps!==void 0?Y(Y({},E.item.type.defaultProps),E.item.props):E.item.props,ee=G.activeDot,fe=G.hide,U=G.activeBar,Ne=G.activeShape,te=!!(!fe&&P&&B&&(ee||U||Ne)),we={};O!=="axis"&&B&&B.props.trigger==="click"?we={onClick:_m(_.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(we={onMouseLeave:_m(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:_m(_.handleItemMouseEnter,S.props.onMouseEnter)});var Q=y.cloneElement(S,Y(Y({},E.props),we));function ne(H){return typeof A.dataKey=="function"?A.dataKey(H.payload):null}if(te)if(T>=0){var de,q;if(A.dataKey&&!A.allowDuplicatedCategory){var Me=typeof A.dataKey=="function"?ne:"payload.".concat(A.dataKey.toString());de=Op(L,Me,M),q=W&&Z&&Op(Z,Me,M)}else de=L==null?void 0:L[T],q=W&&Z&&Z[T];if(Ne||U){var Pe=S.props.activeIndex!==void 0?S.props.activeIndex:T;return[y.cloneElement(S,Y(Y(Y({},E.props),we),{},{activeIndex:Pe})),null,null]}if(!Be(de))return[Q].concat(au(_.renderActivePoints({item:E,activePoint:de,basePoint:q,childIndex:T,isRange:W})))}else{var et,tt=(et=_.getItemByXY(_.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:Q},_t=tt.graphicalItem,Pr=_t.item,vr=Pr===void 0?S:Pr,D=_t.childIndex,z=Y(Y(Y({},E.props),we),{},{activeIndex:D});return[y.cloneElement(vr,z),null,null]}return W?[Q,null,null]:[Q,null]}),Ee(_,"renderCustomized",function(S,N,k){return y.cloneElement(S,Y(Y({key:"recharts-customized-".concat(k)},_.props),_.state))}),Ee(_,"renderMap",{CartesianGrid:{handler:Pm,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Pm},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Pm},YAxis:{handler:Pm},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Eh("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=bD(_.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return a0e(x,v),e0e(x,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,_=w.data,S=w.height,N=w.layout,k=on(j,Ea);if(k){var E=k.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,C=s1(this.state,_,E,O),P=this.state.tooltipTicks[E].coordinate,A=(this.state.offset.top+S)/2,T=N==="horizontal",M=T?{x:P,y:A}:{y:P,x:A},I=this.state.formattedGraphicalItems.find(function(R){var L=R.item;return L.type.name==="Scatter"});I&&(M=Y(Y({},M),I.props.points[E].tooltipPosition),C=I.props.points[E].tooltipPayload);var B={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:O,activePayload:C,activeCoordinate:M};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){D0([on(w.children,Ea)],[on(this.props.children,Ea)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=on(this.props.children,Ea);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),S=Joe(_),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=_.width/j.offsetWidth||1,E=this.inRange(N.chartX,N.chartY,k);if(!E)return null;var O=this.state,C=O.xAxisMap,P=O.yAxisMap,A=this.getTooltipEventType(),T=YC(this.state,this.props.data,this.props.layout,E);if(A!=="axis"&&C&&P){var M=ai(C).scale,I=ai(P).scale,B=M&&M.invert?M.invert(N.chartX):null,R=I&&I.invert?I.invert(N.chartY):null;return Y(Y({},N),{},{xValue:B,yValue:R},T)}return T?Y(Y({},N),T):null}},{key:"inRange",value:function(w,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/_,k=j/_;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,O=N>=E.left&&N<=E.left+E.width&&k>=E.top&&k<=E.top+E.height;return O?{x:N,y:k}:null}var C=this.state,P=C.angleAxisMap,A=C.radiusAxisMap;if(P&&A){var T=ai(P);return OP({x:N,y:k},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),_=on(w,Ea),S={};_&&j==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Ap(this.props,this.handleOuterEvent);return Y(Y({},N),S)}},{key:"addListener",value:function(){Yx.on(Xx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yx.removeListener(Xx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,_){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var E=S[N];if(E.item===w||E.props.key===w.key||j===bs(E.item.type)&&_===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,_=j.left,S=j.top,N=j.height,k=j.width;return $.createElement("defs",null,$.createElement("clipPath",{id:w},$.createElement("rect",{x:_,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=HC(_,2),N=S[0],k=S[1];return Y(Y({},j),{},Ee({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=HC(_,2),N=S[0],k=S[1];return Y(Y({},j),{},Ee({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,_=j.formattedGraphicalItems,S=j.activeItem;if(_&&_.length)for(var N=0,k=_.length;N<k;N++){var E=_[N],O=E.props,C=E.item,P=C.type.defaultProps!==void 0?Y(Y({},C.type.defaultProps),C.props):C.props,A=bs(C.type);if(A==="Bar"){var T=(O.data||[]).find(function(R){return Ipe(w,R)});if(T)return{graphicalItem:E,payload:T}}else if(A==="RadialBar"){var M=(O.data||[]).find(function(R){return OP(w,R)});if(M)return{graphicalItem:E,payload:M}}else if(ly(E,S)||cy(E,S)||Kf(E,S)){var I=Lge({graphicalItem:E,activeTooltipItem:S,itemData:P.data}),B=P.activeIndex===void 0?I:P.activeIndex;return{graphicalItem:Y(Y({},E),{},{childIndex:B}),payload:Kf(E,S)?P.data[I]:E.props.data[I]}}}return null}},{key:"render",value:function(){var w=this;if(!bE(this))return null;var j=this.props,_=j.children,S=j.className,N=j.width,k=j.height,E=j.style,O=j.compact,C=j.title,P=j.desc,A=GC(j,Gbe),T=We(A,!1);if(O)return $.createElement(PC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(F0,Ql({},T,{width:N,height:k,title:C,desc:P}),this.renderClipPath(),jE(_,this.renderMap)));if(this.props.accessibilityLayer){var M,I;T.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,T.role=(I=this.props.role)!==null&&I!==void 0?I:"application",T.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},T.onFocus=function(){w.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return $.createElement(PC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Ql({className:qe("recharts-wrapper",S),style:Y({position:"relative",cursor:"default",width:N,height:k},E)},B,{ref:function(L){w.container=L}}),$.createElement(F0,Ql({},T,{width:N,height:k,title:C,desc:P,style:u0e}),this.renderClipPath(),jE(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ee(g,"displayName",r),Ee(g,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(g,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,w=v.data,j=v.children,_=v.width,S=v.height,N=v.layout,k=v.stackOffset,E=v.margin,O=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var P=XC(v);return Y(Y(Y({},P),{},{updateId:0},m(Y(Y({props:v},P),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:E,prevChildren:j})}if(b!==x.prevDataKey||w!==x.prevData||_!==x.prevWidth||S!==x.prevHeight||N!==x.prevLayout||k!==x.prevStackOffset||!cc(E,x.prevMargin)){var A=XC(v),T={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},M=Y(Y({},YC(x,w,N)),{},{updateId:x.updateId+1}),I=Y(Y(Y({},A),T),M);return Y(Y(Y({},I),m(Y({props:v},I),x)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:E,prevChildren:j})}if(!D0(j,x.prevChildren)){var B,R,L,W,Z=on(j,Kc),G=Z&&(B=(R=Z.props)===null||R===void 0?void 0:R.startIndex)!==null&&B!==void 0?B:O,ee=Z&&(L=(W=Z.props)===null||W===void 0?void 0:W.endIndex)!==null&&L!==void 0?L:C,fe=G!==O||ee!==C,U=!Be(w),Ne=U&&!fe?x.updateId:x.updateId+1;return Y(Y({updateId:Ne},m(Y(Y({props:v},x),{},{updateId:Ne,dataStartIndex:G,dataEndIndex:ee}),x)),{},{prevChildren:j,dataStartIndex:G,dataEndIndex:ee})}return null}),Ee(g,"renderActiveDot",function(v,x,b){var w;return y.isValidElement(v)?w=y.cloneElement(v,x):Re(v)?w=v(x):w=$.createElement(K_,x),$.createElement(Lt,{className:"recharts-active-dot",key:b},w)});var p=y.forwardRef(function(x,b){return $.createElement(g,Ql({},x,{ref:b}))});return p.displayName=g.displayName,p},b0e=M3({chartName:"LineChart",GraphicalChild:Mh,axisComponents:[{axisType:"xAxis",AxisComp:Lu},{axisType:"yAxis",AxisComp:Fu}],formatAxisMap:Z4}),w0e=M3({chartName:"BarChart",GraphicalChild:yl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Lu},{axisType:"yAxis",AxisComp:Fu}],formatAxisMap:Z4});const aS=e=>{const[t,r]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState(null),l=async()=>{if(!e){r([]),a(!1);return}try{a(!0),o(null),console.log(" Fetching weight progress for user:",e);const{data:g,error:p}=await F.from("progress").select("*").eq("user_id",e).eq("type","weight").gte("date",new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]).lt("date",new Date(new Date().getFullYear(),new Date().getMonth()+1,1).toISOString().split("T")[0]).order("date",{ascending:!0});if(p)throw console.error(" Error fetching weight data:",p),p;console.log(" Raw weight data from DB:",g);const v=(g||[]).map(x=>{const b=new Date(x.date);return{date:b.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),weight:Number(x.value),weekDay:b.toLocaleDateString("pt-BR",{weekday:"short"}),rawDate:x.date}});console.log(" Formatted chart data:",v),r(v)}catch(g){console.error("Error fetching weight progress:",g),o(g instanceof Error?g.message:"Erro ao buscar dados de peso"),r([])}finally{a(!1)}},c=async g=>{if(!e)return!1;try{if(await u())return o("Voc j registrou seu peso esta semana. Aguarde at a prxima sexta-feira."),!1;const v=new Date().toISOString().split("T")[0];console.log(" Adding weight entry:",{userId:e,weight:g,date:v});const{data:x,error:b}=await F.from("progress").insert({user_id:e,type:"weight",value:g,unit:"kg",date:v}).select().single();if(b)throw console.error(" Error inserting weight:",b),b;return console.log(" Weight entry added successfully:",x),await l(),!0}catch(p){return console.error("Error adding weight entry:",p),o(p instanceof Error?p.message:"Erro ao salvar peso"),!1}},u=async()=>{if(!e)return!1;const g=new Date,p=new Date(g);p.setDate(g.getDate()-g.getDay()),p.setHours(0,0,0,0);try{const{data:v,error:x}=await F.from("progress").select("id").eq("user_id",e).eq("type","weight").gte("date",p.toISOString().split("T")[0]).limit(1);return x?(console.error("Error checking weekly weight:",x),!1):v&&v.length>0}catch(v){return console.error("Error in hasWeighedThisWeek:",v),!1}},d=()=>new Date().getDay()===5,f=async()=>d()?!await u():!1,h=async(g,p)=>{if(!e)return!1;try{console.log(" Adding weight from assessment:",{userId:e,weight:g,date:p});const{data:v,error:x}=await F.from("progress").insert({user_id:e,type:"weight",value:g,unit:"kg",date:p}).select().single();if(x)throw console.error(" Error inserting weight from assessment:",x),x;return console.log(" Weight entry from assessment added successfully:",v),await l(),!0}catch(v){return console.error("Error adding weight from assessment:",v),!1}},m=()=>{o(null)};return y.useEffect(()=>{l()},[e]),{weightData:t,loading:n,error:s,addWeightEntry:c,hasWeighedThisWeek:u,isFridayToday:d,shouldShowWeightModal:f,addWeightFromAssessment:h,clearError:m,refetch:l}},j0e=({onWeightNeeded:e})=>{const{user:t}=Yt(),{weightData:r,loading:n,error:a}=aS((t==null?void 0:t.id)||"");console.log(" WeightChart render - data:",r,"loading:",n,"error:",a);const s=r,o=s.length>0?s[s.length-1].weight:0,l=s.length>1?s[s.length-2].weight:0,c=o-l,u=d=>{const{x:f,y:h,width:m,value:g}=d;return i.jsxs("text",{x:f+m/2,y:h-3,fill:"hsl(var(--primary))",textAnchor:"middle",fontSize:"10",fontWeight:"600",children:[g,"kg"]})};return n?i.jsxs("div",{className:"card-gradient p-6 mb-6 animate-pulse",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-6 bg-muted rounded mb-2 w-32"}),i.jsx("div",{className:"h-4 bg-muted rounded w-20"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"h-8 bg-muted rounded mb-1 w-16"}),i.jsx("div",{className:"h-4 bg-muted rounded w-24"})]})]}),i.jsx("div",{className:"h-40 bg-muted rounded"})]}):s.length===0?i.jsxs("div",{className:"card-gradient p-4 sm:p-6 mb-6 text-center",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-2",children:"Evoluo do Peso"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:"Registre seu peso todas as sextas-feiras para ver sua evoluo!"}),i.jsx("button",{onClick:e,className:"btn-primary text-xs sm:text-sm px-3 sm:px-4 py-2",children:"Registrar Primeiro Peso"})]}):i.jsxs("div",{className:"card-gradient p-4 sm:p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Evoluo do Peso"}),i.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Ms atual - ",s.length," registros"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:[o,"kg"]}),l>0&&i.jsxs("p",{className:`text-xs sm:text-sm ${c<=0?"text-success":"text-warning"}`,children:[c<=0?c.toFixed(1):`+${c.toFixed(1)}`,"kg vs anterior"]})]})]}),i.jsx("div",{className:"h-32 sm:h-40",children:i.jsx(wD,{width:"100%",height:"100%",children:i.jsxs(w0e,{data:s,margin:{top:20,right:10,left:10,bottom:5},maxBarSize:window.innerWidth<640?32:40,barCategoryGap:"20%",children:[i.jsx(Lu,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},interval:0}),i.jsx(Fu,{hide:!0}),i.jsxs(yl,{dataKey:"weight",radius:[6,6,0,0],minPointSize:2,children:[i.jsx(_s,{content:u}),s.map((d,f)=>i.jsx(w_,{fill:f===s.length-1?"hsl(var(--primary))":"hsl(var(--primary) / 0.6)"},`cell-${f}`))]})]})})})]})};var Qx="focusScope.autoFocusOnMount",Jx="focusScope.autoFocusOnUnmount",QC={bubbles:!1,cancelable:!0},_0e="FocusScope",gy=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=y.useState(null),u=Ht(a),d=Ht(s),f=y.useRef(null),h=De(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Xs(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Xs(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Xs(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){eO.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Qx,QC);l.addEventListener(Qx,u),l.dispatchEvent(x),x.defaultPrevented||(S0e(C0e(I3(l)),{select:!0}),document.activeElement===p&&Xs(l))}return()=>{l.removeEventListener(Qx,u),setTimeout(()=>{const x=new CustomEvent(Jx,QC);l.addEventListener(Jx,d),l.dispatchEvent(x),x.defaultPrevented||Xs(p??document.body,{select:!0}),l.removeEventListener(Jx,d),eO.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const b=p.currentTarget,[w,j]=N0e(b);w&&j?!p.shiftKey&&x===j?(p.preventDefault(),r&&Xs(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Xs(j,{select:!0})):x===b&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(_e.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});gy.displayName=_0e;function S0e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Xs(n,{select:t}),document.activeElement!==r)return}function N0e(e){const t=I3(e),r=JC(t,e),n=JC(t.reverse(),e);return[r,n]}function I3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function JC(e,t){for(const r of e)if(!k0e(r,{upTo:t}))return r}function k0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function E0e(e){return e instanceof HTMLInputElement&&"select"in e}function Xs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&E0e(e)&&t&&e.select()}}var eO=P0e();function P0e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tO(e,t),e.unshift(t)},remove(t){var r;e=tO(e,t),(r=e[0])==null||r.resume()}}}function tO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function C0e(e){return e.filter(t=>t.tagName!=="A")}var eb=0;function sS(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rO()),document.body.insertAdjacentElement("beforeend",e[1]??rO()),eb++,()=>{eb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eb--}},[])}function rO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $a=function(){return $a=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},$a.apply(this,arguments)};function R3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function O0e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Ym="right-scroll-bar-position",Xm="width-before-scroll-bar",A0e="with-scroll-bars-hidden",T0e="--removed-body-scroll-bar-size";function tb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $0e(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var M0e=typeof window<"u"?y.useLayoutEffect:y.useEffect,nO=new WeakMap;function I0e(e,t){var r=$0e(null,function(n){return e.forEach(function(a){return tb(a,n)})});return M0e(function(){var n=nO.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||tb(l,null)}),s.forEach(function(l){a.has(l)||tb(l,o)})}nO.set(r,e)},[e]),r}function R0e(e){return e}function D0e(e,t){t===void 0&&(t=R0e);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function L0e(e){e===void 0&&(e={});var t=D0e(null);return t.options=$a({async:!0,ssr:!1},e),t}var D3=function(e){var t=e.sideCar,r=R3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,$a({},r))};D3.isSideCarExport=!0;function F0e(e,t){return e.useMedium(t),D3}var L3=L0e(),rb=function(){},vy=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:rb,onWheelCapture:rb,onTouchMoveCapture:rb}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,j=R3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=I0e([r,t]),N=$a($a({},j),a);return y.createElement(y.Fragment,null,d&&y.createElement(_,{sideCar:L3,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?y.cloneElement(y.Children.only(l),$a($a({},N),{ref:S})):y.createElement(b,$a({},N,{className:c,ref:S}),l))});vy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vy.classNames={fullWidth:Xm,zeroRight:Ym};var B0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=B0e();return t&&e.setAttribute("nonce",t),e}function U0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function W0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var q0e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=z0e())&&(U0e(t,r),W0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V0e=function(){var e=q0e();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},F3=function(){var e=V0e(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},H0e={left:0,top:0,right:0,gap:0},nb=function(e){return parseInt(e||"",10)||0},G0e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[nb(r),nb(n),nb(a)]},K0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return H0e;var t=G0e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Y0e=F3(),hc="data-scroll-locked",X0e=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(A0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(hc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ym,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ym," .").concat(Ym,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xm," .").concat(Xm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(hc,`] {
    `).concat(T0e,": ").concat(l,`px;
  }
`)},aO=function(){var e=parseInt(document.body.getAttribute(hc)||"0",10);return isFinite(e)?e:0},Z0e=function(){y.useEffect(function(){return document.body.setAttribute(hc,(aO()+1).toString()),function(){var e=aO()-1;e<=0?document.body.removeAttribute(hc):document.body.setAttribute(hc,e.toString())}},[])},Q0e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Z0e();var s=y.useMemo(function(){return K0e(a)},[a]);return y.createElement(Y0e,{styles:X0e(s,!t,a,r?"":"!important")})},i1=!1;if(typeof window<"u")try{var Cm=Object.defineProperty({},"passive",{get:function(){return i1=!0,!0}});window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{i1=!1}var Cl=i1?{passive:!1}:!1,J0e=function(e){return e.tagName==="TEXTAREA"},B3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!J0e(e)&&r[t]==="visible")},ewe=function(e){return B3(e,"overflowY")},twe=function(e){return B3(e,"overflowX")},sO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=z3(e,n);if(a){var s=U3(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rwe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},nwe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},z3=function(e,t){return e==="v"?ewe(t):twe(t)},U3=function(e,t){return e==="v"?rwe(t):nwe(t)},awe=function(e,t){return e==="h"&&t==="rtl"?-1:1},swe=function(e,t,r,n,a){var s=awe(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=U3(e,l),g=m[0],p=m[1],v=m[2],x=p-v-s*g;(g||x)&&z3(e,l)&&(f+=x,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Om=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iO=function(e){return[e.deltaX,e.deltaY]},oO=function(e){return e&&"current"in e?e.current:e},iwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},owe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lwe=0,Ol=[];function cwe(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(lwe++)[0],s=y.useState(F3)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=O0e([e.lockRef.current],(e.shards||[]).map(oO),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Om(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],j="deltaY"in p?p.deltaY:b[1]-x[1],_,S=p.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var k=sO(N,S);if(!k)return!0;if(k?_=N:(_=N==="v"?"h":"v",k=sO(N,S)),!k)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=_),!_)return!0;var E=n.current||_;return swe(E,v,p,E==="h"?w:j)},[]),c=y.useCallback(function(p){var v=p;if(!(!Ol.length||Ol[Ol.length-1]!==s)){var x="deltaY"in v?iO(v):Om(v),b=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&iwe(_.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(oO).filter(Boolean).filter(function(_){return _.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,x,b){var w={name:p,delta:v,target:x,should:b,shadowParent:uwe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=y.useCallback(function(p){r.current=Om(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,iO(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,Om(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Ol.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Cl),document.addEventListener("touchmove",c,Cl),document.addEventListener("touchstart",d,Cl),function(){Ol=Ol.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Cl),document.removeEventListener("touchmove",c,Cl),document.removeEventListener("touchstart",d,Cl)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(s,{styles:owe(a)}):null,m?y.createElement(Q0e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dwe=F0e(L3,cwe);var yy=y.forwardRef(function(e,t){return y.createElement(vy,$a({},e,{ref:t,sideCar:dwe}))});yy.classNames=vy.classNames;var fwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Al=new WeakMap,Am=new WeakMap,Tm={},ab=0,W3=function(e){return e&&(e.host||W3(e.parentNode))},hwe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=W3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},mwe=function(e,t,r,n){var a=hwe(t,Array.isArray(e)?e:[e]);Tm[r]||(Tm[r]=new WeakMap);var s=Tm[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Al.get(h)||0)+1,v=(s.get(h)||0)+1;Al.set(h,p),s.set(h,v),o.push(h),p===1&&g&&Am.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),ab++,function(){o.forEach(function(f){var h=Al.get(f)-1,m=s.get(f)-1;Al.set(f,h),s.set(f,m),h||(Am.has(f)||f.removeAttribute(n),Am.delete(f)),m||f.removeAttribute(r)}),ab--,ab||(Al=new WeakMap,Al=new WeakMap,Am=new WeakMap,Tm={})}},iS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=fwe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),mwe(n,a,r,"aria-hidden")):function(){return null}},xy="Dialog",[q3,vEe]=Ur(xy),[pwe,ya]=q3(xy),V3=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=fa({prop:n,defaultProp:a??!1,onChange:s,caller:xy});return i.jsx(pwe,{scope:t,triggerRef:l,contentRef:c,contentId:ua(),titleId:ua(),descriptionId:ua(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};V3.displayName=xy;var H3="DialogTrigger",G3=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ya(H3,r),s=De(t,a.triggerRef);return i.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cS(a.open),...n,ref:s,onClick:ge(e.onClick,a.onOpenToggle)})});G3.displayName=H3;var oS="DialogPortal",[gwe,K3]=q3(oS,{forceMount:void 0}),Y3=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=ya(oS,t);return i.jsx(gwe,{scope:t,forceMount:r,children:y.Children.map(n,o=>i.jsx(Wr,{present:r||s.open,children:i.jsx(dh,{asChild:!0,container:a,children:o})}))})};Y3.displayName=oS;var Cg="DialogOverlay",X3=y.forwardRef((e,t)=>{const r=K3(Cg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ya(Cg,e.__scopeDialog);return s.modal?i.jsx(Wr,{present:n||s.open,children:i.jsx(ywe,{...a,ref:t})}):null});X3.displayName=Cg;var vwe=Go("DialogOverlay.RemoveScroll"),ywe=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ya(Cg,r);return i.jsx(yy,{as:vwe,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(_e.div,{"data-state":cS(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),rl="DialogContent",Z3=y.forwardRef((e,t)=>{const r=K3(rl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ya(rl,e.__scopeDialog);return i.jsx(Wr,{present:n||s.open,children:s.modal?i.jsx(xwe,{...a,ref:t}):i.jsx(bwe,{...a,ref:t})})});Z3.displayName=rl;var xwe=y.forwardRef((e,t)=>{const r=ya(rl,e.__scopeDialog),n=y.useRef(null),a=De(t,r.contentRef,n);return y.useEffect(()=>{const s=n.current;if(s)return iS(s)},[]),i.jsx(Q3,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,s=>s.preventDefault())})}),bwe=y.forwardRef((e,t)=>{const r=ya(rl,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return i.jsx(Q3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Q3=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=ya(rl,r),c=y.useRef(null),u=De(t,c);return sS(),i.jsxs(i.Fragment,{children:[i.jsx(gy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(gu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(wwe,{titleId:l.titleId}),i.jsx(_we,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lS="DialogTitle",J3=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ya(lS,r);return i.jsx(_e.h2,{id:a.titleId,...n,ref:t})});J3.displayName=lS;var eL="DialogDescription",tL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ya(eL,r);return i.jsx(_e.p,{id:a.descriptionId,...n,ref:t})});tL.displayName=eL;var rL="DialogClose",nL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ya(rL,r);return i.jsx(_e.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>a.onOpenChange(!1))})});nL.displayName=rL;function cS(e){return e?"open":"closed"}var aL="DialogTitleWarning",[yEe,sL]=cB(aL,{contentName:rl,titleName:lS,docsSlug:"dialog"}),wwe=({titleId:e})=>{const t=sL(aL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jwe="DialogDescriptionWarning",_we=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sL(jwe).contentName}}.`;return y.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Swe=V3,Nwe=G3,kwe=Y3,iL=X3,oL=Z3,lL=J3,cL=tL,Ewe=nL;const Qa=Swe,uS=Nwe,Pwe=kwe,uL=y.forwardRef(({className:e,...t},r)=>i.jsx(iL,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uL.displayName=iL.displayName;const xa=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Pwe,{children:[i.jsx(uL,{}),i.jsxs(oL,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Ewe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(ph,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xa.displayName=oL.displayName;const ba=({className:e,...t})=>i.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ba.displayName="DialogHeader";const dL=({className:e,...t})=>i.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dL.displayName="DialogFooter";const wa=y.forwardRef(({className:e,...t},r)=>i.jsx(lL,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));wa.displayName=lL.displayName;const dS=y.forwardRef(({className:e,...t},r)=>i.jsx(cL,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));dS.displayName=cL.displayName;const Cwe=({isOpen:e,onClose:t,onSave:r,error:n})=>{const[a,s]=y.useState(""),[o,l]=y.useState(!1),{toast:c}=At(),u=async()=>{const f=parseFloat(a);if(!f||f<=0||f>300){c({title:"Peso invlido",description:"Por favor, insira um peso vlido entre 1 e 300 kg.",variant:"destructive"});return}l(!0),await r(f)?(c({title:"Peso registrado!",description:`Seu peso de ${f}kg foi salvo com sucesso.`}),s(""),t()):c({title:"Erro ao salvar",description:n||"No foi possvel salvar seu peso. Tente novamente.",variant:"destructive"}),l(!1)},d=()=>{s(""),t()};return i.jsx(Qa,{open:e,onOpenChange:t,children:i.jsxs(xa,{className:"mx-4 sm:mx-0 sm:max-w-md w-full max-w-sm",children:[i.jsx(ba,{children:i.jsxs(wa,{className:"flex items-center gap-2 text-primary text-base sm:text-lg",children:[i.jsx(cf,{className:"w-5 h-5"}),i.jsxs("span",{className:"text-sm sm:text-base",children:["Registrar Peso - ",new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"short"})]})]})}),i.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[i.jsx("div",{className:"text-center px-2",children:i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:" sexta-feira! Que tal registrar seu peso para acompanhar sua evoluo?"})}),i.jsxs("div",{className:"space-y-2 px-2",children:[i.jsx(se,{htmlFor:"weight",className:"text-sm",children:"Peso atual (kg)"}),i.jsx(xe,{id:"weight",type:"number",placeholder:"Ex: 75.5",value:a,onChange:f=>s(f.target.value),step:"0.1",min:"1",max:"300",className:"text-center text-base sm:text-lg h-12"})]}),i.jsxs("div",{className:"flex gap-2 pt-2 px-2",children:[i.jsx(K,{variant:"outline",onClick:d,disabled:o,className:"flex-1 h-10",children:"Pular"}),i.jsx(K,{onClick:u,disabled:o||!a,className:"flex-1 h-10",children:o?"Salvando...":"Registrar"})]})]})]})})},Owe=({onCoachClick:e})=>i.jsx("div",{className:"card-gradient p-6 mb-6 border border-accent/20",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-accent rounded-xl flex items-center justify-center",children:i.jsx(Sj,{size:24,className:"text-accent-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Coach IA"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),i.jsx("span",{className:"text-xs text-success font-medium",children:"Online 24/7"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Seu assistente pessoal para treinos, dieta e dicas de performance."}),i.jsxs("button",{onClick:e,className:"btn-accent flex items-center gap-2 w-full justify-center",children:[i.jsx(tM,{size:18}),i.jsx("span",{children:"Conversar Agora"})]})]})]})}),Awe=e=>{const[t,r]=y.useState([]),[n,a]=y.useState(!0);return y.useEffect(()=>{if(!e){a(!1);return}(async()=>{try{const{data:o}=await F.from("students").select("teacher_id").eq("user_id",e).single();if(!(o!=null&&o.teacher_id)){a(!1);return}const{data:l,error:c}=await F.from("banners").select("*").eq("created_by",o.teacher_id).eq("is_active",!0).lte("start_date",new Date().toISOString()).or(`end_date.is.null,end_date.gte.${new Date().toISOString()}`).order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(c){console.error("Error fetching banners:",c);return}r(l||[])}catch(o){console.error("Error fetching banners:",o)}finally{a(!1)}})()},[e]),{banners:t,loading:n}};function Twe(){const{user:e}=Ze(),t=y.useCallback(async a=>{if(e)try{const{error:s}=await F.from("banner_interactions").insert({banner_id:a.bannerId,user_id:e.id,interaction_type:a.type,metadata:a.metadata||{}});if(s)throw s}catch(s){console.error("Banner tracking failed:",s)}},[e]),r=y.useCallback((a,s)=>{t({bannerId:a,type:"view",metadata:{...s,viewport:{width:window.innerWidth,height:window.innerHeight}}})},[t]),n=y.useCallback((a,s)=>{t({bannerId:a,type:"click",metadata:s})},[t]);return{trackView:r,trackClick:n}}const $we=()=>{const{user:e}=Ze(),{banners:t,loading:r}=Awe(e==null?void 0:e.id),[n,a]=y.useState(0),[s,o]=y.useState(!1),{trackView:l,trackClick:c}=Twe(),u=t[n];y.useEffect(()=>{if(!t.length||s)return;const x=setInterval(()=>{a(b=>(b+1)%t.length)},5e3);return()=>clearInterval(x)},[t.length,s]);const d=y.useMemo(()=>{const x=(u==null?void 0:u.type)||"campanha";return x==="produto"?"from-primary/10 to-primary-variant/10":x==="noticia"?"from-accent/10 to-accent-variant/10":"from-secondary/10 to-secondary-variant/10"},[u]),f=(u==null?void 0:u.image_url)||"/lovable-uploads/65cd0e38-8355-4d41-8be9-a292750e3daa.png",h=(u==null?void 0:u.action_text)||"Saiba Mais",m=u==null?void 0:u.action_url,g=(u==null?void 0:u.type)||"campanha",p=x=>{x.stopPropagation(),m&&(u!=null&&u.id)&&(c(u.id,{actionUrl:m}),setTimeout(()=>{window.open(m,"_blank")},100))},v=()=>{u!=null&&u.id&&(l(u.id,{placement:"dashboard"}),s||(o(!0),setTimeout(()=>{o(!1)},4e3)))};return r?i.jsx("div",{className:"relative mb-6 overflow-hidden rounded-xl border border-border/50",children:i.jsx("div",{className:"bg-gradient-to-r from-muted/10 to-muted/20 p-4",children:i.jsxs("div",{className:"flex items-center gap-4 animate-pulse",children:[i.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-1/3 mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-2/3 mb-3"}),i.jsx("div",{className:"h-7 bg-muted rounded w-28"})]})]})})}):t.length?i.jsxs("div",{className:"relative mb-6 overflow-hidden rounded-xl border border-border/50",children:[i.jsx("div",{className:`bg-gradient-to-r ${d} p-4 cursor-pointer transition-all duration-300 hover:scale-[1.02]`,onClick:v,children:i.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden",children:[i.jsx("img",{src:f,alt:(u==null?void 0:u.title)||"Banner",className:"w-full h-full object-cover",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute inset-0 p-4 flex items-center justify-center",children:[!s&&i.jsxs("div",{className:"text-center text-white",children:[i.jsx(Dt,{size:32,className:"mx-auto animate-pulse"}),i.jsx("p",{className:"text-sm mt-2 opacity-80",children:"Clique para ver detalhes"})]}),s&&i.jsxs("div",{className:"w-full animate-in slide-in-from-bottom duration-300",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${g==="produto"?"bg-primary/30 text-white border border-primary/50":"bg-accent/30 text-white border border-accent/50"}`,children:" Campanha"})}),i.jsx("h3",{className:"text-lg font-bold text-white mb-1 line-clamp-2",children:u==null?void 0:u.title}),((u==null?void 0:u.description)||(u==null?void 0:u.message))&&i.jsx("p",{className:"text-sm text-white/90 mb-3 line-clamp-2",children:u.description||u.message}),m&&i.jsxs("button",{onClick:p,className:"self-start text-sm bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full transition-colors flex items-center gap-2 backdrop-blur-sm border border-white/20",children:[i.jsx("span",{children:h}),i.jsx(hz,{size:14})]}),i.jsx("div",{className:"flex justify-center mt-3",children:i.jsx(po,{size:20,className:"text-white/60 animate-pulse"})})]})]})]})}),s&&t.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute top-1/2 left-2 -translate-y-1/2",children:i.jsx("button",{onClick:x=>{x.stopPropagation();const b=(n-1+t.length)%t.length;a(b)},className:"w-6 h-6 bg-background/80 hover:bg-background border border-border rounded-full flex items-center justify-center transition-colors",children:i.jsx(iz,{size:12})})}),i.jsx("div",{className:"absolute top-1/2 right-2 -translate-y-1/2",children:i.jsx("button",{onClick:x=>{x.stopPropagation();const b=(n+1)%t.length;a(b)},className:"w-6 h-6 bg-background/80 hover:bg-background border border-border rounded-full flex items-center justify-center transition-colors",children:i.jsx(sc,{size:12})})})]}),s&&t.length>1&&i.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:t.map((x,b)=>i.jsx("button",{onClick:w=>{w.stopPropagation(),a(b)},className:`w-2 h-2 rounded-full transition-colors ${b===n?"bg-primary":"bg-muted-foreground/30"}`},b))})]}):null},Mwe=[{id:"start-workout",title:"Iniciar Treino",subtitle:"Treino do dia",icon:Va,color:"primary",route:"/iniciar-treino"},{id:"log-meal",title:"Registrar Refeio",subtitle:"Controle nutricional",icon:lv,color:"accent",route:"/registrar-refeicao"},{id:"schedule",title:"Agenda",subtitle:"Prximos treinos",icon:rr,color:"secondary",route:"/agenda"},{id:"goals",title:"Metas",subtitle:"Acompanhar progresso",icon:En,color:"primary",route:"/metas"}],Iwe=()=>{const e=Je(),t=r=>{e(r)};return i.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:Mwe.map(r=>{const n=r.icon;return i.jsxs("button",{onClick:()=>t(r.route),className:"card-gradient p-4 text-left hover:scale-105 transition-all duration-300 group",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mb-3 ${r.color==="primary"?"bg-primary/10":r.color==="accent"?"bg-accent/10":"bg-secondary/10"}`,children:i.jsx(n,{size:20,className:`${r.color==="primary"?"text-primary":r.color==="accent"?"text-accent":"text-secondary"}`})}),i.jsx("h4",{className:"font-semibold text-foreground text-sm mb-1 group-hover:text-primary transition-colors",children:r.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r.subtitle})]},r.id)})})},gi=({title:e,value:t,subtitle:r,icon:n,trend:a,className:s="",onClick:o,progress:l,color:c="primary"})=>{const u={up:"text-success",down:"text-destructive",neutral:"text-muted-foreground"};return i.jsxs("div",{className:`metric-card cursor-pointer ${s}`,onClick:o,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:e}),n&&i.jsx("div",{className:"text-primary",children:n})]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-foreground",children:t}),r&&i.jsx("span",{className:`text-sm ${a?u[a]:"text-muted-foreground"}`,children:r})]}),l!==void 0&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"w-full bg-muted/20 rounded-full h-1.5",children:i.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${c==="primary"?"bg-primary":c==="blue"?"bg-blue-500":c==="green"?"bg-green-500":c==="orange"?"bg-orange-500":"bg-primary"}`,style:{width:`${Math.min(l,100)}%`}})})})]})},Rwe=({workouts:e,progress:t,loading:r})=>{const{userPoints:n,rankings:a}=Sh();if(r)return i.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[...Array(4)].map((h,m)=>i.jsxs("div",{className:"metric-card animate-pulse",children:[i.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),i.jsx("div",{className:"h-6 bg-muted rounded mb-1"}),i.jsx("div",{className:"h-3 bg-muted rounded"})]},m))});const s=e.filter(h=>{const m=new Date(h.completedAt||h.createdAt),g=new Date;return m.getMonth()===g.getMonth()&&m.getFullYear()===g.getFullYear()}).length,o=e.reduce((h,m)=>h+(m.caloriesBurned||0),0),l=e.filter(h=>{const m=new Date(h.completedAt||h.createdAt),g=new Date;return m.toDateString()===g.toDateString()}).reduce((h,m)=>h+(m.caloriesBurned||0),0),c=e.reduce((h,m)=>h+(m.xpEarned||0),0),u=e.filter(h=>{const m=new Date(h.completedAt||h.createdAt),g=new Date;return m.toDateString()===g.toDateString()}).reduce((h,m)=>h+(m.xpEarned||0),0),d=a.find(h=>h.user_id===(n==null?void 0:n.user_id)),f=(d==null?void 0:d.position)||a.length+1;return i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsx(gi,{title:"Calorias Queimadas",value:l.toString(),subtitle:`Total: ${o}`,icon:i.jsx(Ac,{size:20}),trend:l>0?"up":"neutral"}),i.jsx(gi,{title:"Treinos Concludos",value:s.toString(),subtitle:"Este ms",icon:i.jsx(En,{size:20}),trend:s>0?"up":"neutral"}),i.jsx(gi,{title:"Pontos XP",value:c.toString(),subtitle:`+${u} hoje`,icon:i.jsx(Sj,{size:20}),trend:u>0?"up":"neutral"}),i.jsx(gi,{title:"Ranking",value:`#${f}`,subtitle:"Posio mensal",icon:i.jsx(Nr,{size:20}),trend:f<=3?"up":"neutral"})]})};var by="Popover",[fL,xEe]=Ur(by,[bu]),Ih=bu(),[Dwe,Ji]=fL(by),hL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=Ih(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=fa({prop:n,defaultProp:a??!1,onChange:s,caller:by});return i.jsx(Ij,{...l,children:i.jsx(Dwe,{scope:t,contentId:ua(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})})};hL.displayName=by;var mL="PopoverAnchor",Lwe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ji(mL,r),s=Ih(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(mv,{...s,...n,ref:t})});Lwe.displayName=mL;var pL="PopoverTrigger",gL=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ji(pL,r),s=Ih(r),o=De(t,a.triggerRef),l=i.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wL(a.open),...n,ref:o,onClick:ge(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(mv,{asChild:!0,...s,children:l})});gL.displayName=pL;var fS="PopoverPortal",[Fwe,Bwe]=fL(fS,{forceMount:void 0}),vL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Ji(fS,t);return i.jsx(Fwe,{scope:t,forceMount:r,children:i.jsx(Wr,{present:r||s.open,children:i.jsx(dh,{asChild:!0,container:a,children:n})})})};vL.displayName=fS;var su="PopoverContent",yL=y.forwardRef((e,t)=>{const r=Bwe(su,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Ji(su,e.__scopePopover);return i.jsx(Wr,{present:n||s.open,children:s.modal?i.jsx(Uwe,{...a,ref:t}):i.jsx(Wwe,{...a,ref:t})})});yL.displayName=su;var zwe=Go("PopoverContent.RemoveScroll"),Uwe=y.forwardRef((e,t)=>{const r=Ji(su,e.__scopePopover),n=y.useRef(null),a=De(t,n),s=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return iS(o)},[]),i.jsx(yy,{as:zwe,allowPinchZoom:!0,children:i.jsx(xL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wwe=y.forwardRef((e,t)=>{const r=Ji(su,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return i.jsx(xL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),xL=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ji(su,r),m=Ih(r);return sS(),i.jsx(gy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(gu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(Rj,{"data-state":wL(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bL="PopoverClose",qwe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ji(bL,r);return i.jsx(_e.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>a.onOpenChange(!1))})});qwe.displayName=bL;var Vwe="PopoverArrow",Hwe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ih(r);return i.jsx(Dj,{...a,...n,ref:t})});Hwe.displayName=Vwe;function wL(e){return e?"open":"closed"}var Gwe=hL,Kwe=gL,Ywe=vL,jL=yL;const Xwe=Gwe,Zwe=Kwe,_L=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx(Ywe,{children:i.jsx(jL,{ref:a,align:t,sideOffset:r,className:Se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_L.displayName=jL.displayName;const SL=e=>{const[t,r]=y.useState([]),[n,a]=y.useState(!0);return y.useEffect(()=>{if(!e){a(!1);return}const s=FH(e,o=>{r(o),a(!1)});return()=>s()},[e]),{workouts:t,loading:n}},Qwe=e=>{const[t,r]=y.useState([]),[n,a]=y.useState(!0);return y.useEffect(()=>{if(!e){a(!1);return}const s=zH(e,o=>{r(o),a(!1)});return()=>s()},[e]),{notifications:t,loading:n}},Jwe=()=>{const{awardProgressPoints:e}=Yj(),t=async(s,o,l)=>{try{console.log(`Registering progress: ${s} = ${o} ${l}`),await e(),ke.success("Progresso registrado! Voc ganhou pontos!")}catch(c){console.error("Error logging progress:",c),ke.error("Erro ao registrar progresso")}};return{logProgress:t,logWeight:s=>t("weight",s,"kg"),logBodyFat:s=>t("body_fat",s,"%"),logMuscle:s=>t("muscle_mass",s,"kg")}},hS=()=>{const{user:e}=Ze();At();const[t,r]=y.useState(null),[n,a]=y.useState(!0),[s,o]=y.useState(null),l=async()=>{if(!(e!=null&&e.id)){r(null),a(!1);return}try{a(!0),o(null);const{data:h,error:m}=await F.from("students").select("teacher_id, active_plan, membership_status, membership_expiry").eq("user_id",e.id).maybeSingle();if(m)throw m;if(!h||!h.teacher_id){r(null),a(!1);return}if(h.active_plan&&h.active_plan!=="free"&&h.membership_status==="active"){const g=h.membership_expiry&&new Date(h.membership_expiry)<=new Date;r(g?null:{id:"legacy-subscription",plan_id:h.active_plan,teacher_id:h.teacher_id,status:h.membership_status,start_at:new Date().toISOString(),end_at:h.membership_expiry,plan_name:h.active_plan,plan_features:[]})}else r(null)}catch(h){console.error("Error fetching active subscription:",h),o(h.message),r(null)}finally{a(!1)}};y.useEffect(()=>{l();const h=F.channel("subscription-changes").on("postgres_changes",{event:"*",schema:"public",table:"students",filter:`user_id=eq.${e==null?void 0:e.id}`},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"plan_subscriptions",filter:`student_user_id=eq.${e==null?void 0:e.id}`},()=>{l()}).subscribe();return()=>{F.removeChannel(h)}},[e==null?void 0:e.id]);const c=()=>!!t&&t.status==="active"&&t.plan_name!=="free",u=()=>!t||!t.end_at?!1:new Date(t.end_at)<=new Date,d=()=>t?t.status==="pending"?"pending":u()?"expired":t.status==="active"&&t.plan_name!=="free"?"active":"none":"none",f=()=>{switch(d()){case"none":return"Voc precisa contratar uma consultoria para agendar horrios";case"pending":return"Aguardando aprovao da consultoria pelo professor";case"expired":return"Sua consultoria expirou. Renove para continuar agendando";case"active":return null;default:return"Status da consultoria no reconhecido"}};return{subscription:t,loading:n,error:s,hasActiveSubscription:c(),isExpired:u(),status:d(),statusMessage:f(),teacherId:(t==null?void 0:t.teacher_id)||null,planName:(t==null?void 0:t.plan_name)||null,refresh:l}},e1e=()=>{const{user:e}=Ze(),{hasActiveSubscription:t,teacherId:r}=hS(),{toast:n}=At(),[a,s]=y.useState(!1),[o,l]=y.useState(!1),c=async()=>{if(!(e!=null&&e.id)||!t||!r)return!1;const h=new Date;if(h.getDay()!==5)return!1;try{const g=new Date(h);g.setDate(h.getDate()-h.getDay()),g.setHours(0,0,0,0);const p=new Date(g);p.setDate(g.getDate()+6),p.setHours(23,59,59,999);const{data:v,error:x}=await F.from("feedbacks").select("id").eq("student_id",e.id).eq("teacher_id",r).eq("type","weekly_feedback").gte("created_at",g.toISOString()).lte("created_at",p.toISOString()).maybeSingle();return x&&x.code!=="PGRST116"?(console.error("Error checking existing feedback:",x),!1):!v}catch(g){return console.error("Error checking feedback modal:",g),!1}},u=async h=>{if(!(e!=null&&e.id)||!r)return!1;s(!0);try{const{error:m}=await F.from("feedbacks").insert({student_id:e.id,teacher_id:r,type:"weekly_feedback",rating:Math.round((h.training_rating+h.diet_rating)/2),message:h.general_feedback,related_item_id:`week_${new Date().getFullYear()}_${d(new Date)}`,metadata:{training_rating:h.training_rating,diet_rating:h.diet_rating,training_feedback:h.training_feedback,diet_feedback:h.diet_feedback,questions:h.questions,week:d(new Date),year:new Date().getFullYear()}});if(m)throw m;n({title:"Feedback enviado!",description:"Seu feedback semanal foi enviado ao professor com sucesso."});try{await F.rpc("award_points_enhanced_v3",{p_user_id:e.id,p_activity_type:"weekly_feedback",p_description:"Feedback semanal enviado",p_metadata:{week:d(new Date),year:new Date().getFullYear()}})}catch(g){console.warn("Error awarding points for feedback:",g)}return!0}catch(m){return console.error("Error submitting feedback:",m),n({title:"Erro ao enviar feedback",description:"Ocorreu um erro ao enviar seu feedback. Tente novamente.",variant:"destructive"}),!1}finally{s(!1)}},d=h=>{const m=new Date(Date.UTC(h.getFullYear(),h.getMonth(),h.getDate())),g=m.getUTCDay()||7;m.setUTCDate(m.getUTCDate()+4-g);const p=new Date(Date.UTC(m.getUTCFullYear(),0,1));return Math.ceil(((m.getTime()-p.getTime())/864e5+1)/7)},f=async()=>{if(!(e!=null&&e.id))return[];try{const{data:h,error:m}=await F.from("feedbacks").select(`
          id,
          rating,
          message,
          created_at,
          type,
          related_item_id,
          metadata
        `).eq("student_id",e.id).eq("type","weekly_feedback").order("created_at",{ascending:!1}).limit(10);if(m)throw m;return h||[]}catch(h){return console.error("Error fetching feedback history:",h),[]}};return y.useEffect(()=>{t&&r&&(async()=>{const m=await c();l(m)})()},[e==null?void 0:e.id,t,r]),{shouldShowModal:o,setShouldShowModal:l,submitWeeklyFeedback:u,getFeedbackHistory:f,loading:a,hasActiveSubscription:t,teacherId:r}},Zr=y.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Zr.displayName="Textarea";const t1e=({isOpen:e,onClose:t,onSubmit:r,loading:n})=>{const[a,s]=y.useState({training_rating:0,diet_rating:0,general_feedback:"",training_feedback:"",diet_feedback:"",questions:""}),o=async()=>{if(a.training_rating===0||a.diet_rating===0||!a.general_feedback.trim())return;await r(a)&&(s({training_rating:0,diet_rating:0,general_feedback:"",training_feedback:"",diet_feedback:"",questions:""}),t())},l=({value:u,onChange:d,label:f})=>i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{className:"text-sm font-medium",children:f}),i.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>i.jsx("button",{type:"button",onClick:()=>d(h),className:"transition-colors hover:scale-110",children:i.jsx(mh,{size:24,className:h<=u?"fill-warning text-warning":"text-muted-foreground"})},h))})]}),c=a.training_rating>0&&a.diet_rating>0&&a.general_feedback.trim().length>0;return i.jsx(Qa,{open:e,onOpenChange:t,children:i.jsxs(xa,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsxs(ba,{children:[i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(lk,{className:"h-5 w-5 text-primary"}),"Feedback Semanal"]}),i.jsx(dS,{children:"Como foi sua semana? Conte para seu professor sobre seus treinos e dieta."})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(V,{children:i.jsxs(re,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(ki,{className:"h-4 w-4 text-primary"}),i.jsx("h4",{className:"font-medium",children:"Treinos"})]}),i.jsx(l,{value:a.training_rating,onChange:u=>s(d=>({...d,training_rating:u})),label:"Como foram seus treinos esta semana?"}),i.jsxs("div",{className:"mt-3",children:[i.jsx(se,{className:"text-sm",children:"Comentrios sobre treinos (opcional)"}),i.jsx(Zr,{placeholder:"Como se sentiu nos treinos, dificuldades, melhorias...",value:a.training_feedback,onChange:u=>s(d=>({...d,training_feedback:u.target.value})),className:"mt-1 min-h-[60px]"})]})]})}),i.jsx(V,{children:i.jsxs(re,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(lv,{className:"h-4 w-4 text-secondary"}),i.jsx("h4",{className:"font-medium",children:"Alimentao"})]}),i.jsx(l,{value:a.diet_rating,onChange:u=>s(d=>({...d,diet_rating:u})),label:"Como foi sua alimentao esta semana?"}),i.jsxs("div",{className:"mt-3",children:[i.jsx(se,{className:"text-sm",children:"Comentrios sobre alimentao (opcional)"}),i.jsx(Zr,{placeholder:"Dificuldades com a dieta, mudanas, preferncias...",value:a.diet_feedback,onChange:u=>s(d=>({...d,diet_feedback:u.target.value})),className:"mt-1 min-h-[60px]"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(lk,{className:"h-4 w-4"}),"Feedback Geral *"]}),i.jsx(Zr,{placeholder:"Como se sentiu durante a semana? H algo que gostaria de comentar ou melhorar?",value:a.general_feedback,onChange:u=>s(d=>({...d,general_feedback:u.target.value})),className:"min-h-[80px]",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(lz,{className:"h-4 w-4"}),"Dvidas ou Perguntas (opcional)"]}),i.jsx(Zr,{placeholder:"Tem alguma dvida sobre treinos, alimentao ou gostaria de fazer alguma pergunta?",value:a.questions,onChange:u=>s(d=>({...d,questions:u.target.value})),className:"min-h-[60px]"})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(K,{variant:"outline",onClick:t,className:"flex-1",disabled:n,children:"Cancelar"}),i.jsx(K,{onClick:o,className:"flex-1",disabled:!c||n,children:n?"Enviando...":"Enviar Feedback"})]})]})})},lO=({onCoachClick:e,onWorkoutClick:t})=>{var k,E,O,C,P;const{userProfile:r,user:n,isAuthenticated:a}=Yt();Jwe();const s=Je(),[o,l]=y.useState(!1),{addWeightEntry:c,shouldShowWeightModal:u,error:d,clearError:f}=aS((n==null?void 0:n.id)||""),{shouldShowModal:h,setShouldShowModal:m,submitWeeklyFeedback:g,loading:p}=e1e(),v=(r==null?void 0:r.name)||((k=n==null?void 0:n.user_metadata)==null?void 0:k.name)||"",x=typeof v=="string"&&v.trim()&&!v.includes("@")?v.split(" ")[0]:"Usurio";y.useEffect(()=>{a||s("/login")},[a,s]),y.useEffect(()=>{if(!a||!n)return;(async()=>{await u()&&setTimeout(()=>l(!0),2e3)})()},[a,n,u]),y.useEffect(()=>{!a||!n||h&&setTimeout(()=>m(!0),u?4e3:2e3)},[a,n,h,u]);const b=async A=>{console.log(" Dashboard: Saving weight:",A);const T=await c(A);return console.log(" Dashboard: Weight save result:",T),T&&l(!1),T};if(!a)return null;const{workouts:w,loading:j}=SL((n==null?void 0:n.id)||""),_=[],S=!1;Qwe((n==null?void 0:n.id)||"");const N=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"});return i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsx("div",{className:"mb-4 text-center",children:i.jsx("img",{src:"/lovable-uploads/2133926f-121d-45ce-8cff-80c84a1a0856.png",alt:"Shape Pro Logo",className:"w-20 h-auto mx-auto opacity-60"})}),i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(rr,{size:16,className:"text-warning"}),N]}),i.jsx("div",{className:"relative",children:i.jsxs(Xwe,{children:[i.jsx(Zwe,{asChild:!0,children:i.jsxs("button",{className:"w-10 h-10 bg-primary/10 border border-primary/20 rounded-xl flex items-center justify-center hover:bg-primary/20 transition-colors",children:[i.jsx(Io,{size:20,className:"text-primary"}),i.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full text-xs flex items-center justify-center text-white",children:"1"})]})}),i.jsxs(_L,{className:"w-80 p-0",align:"end",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Notificaes"})}),i.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[i.jsx("div",{className:"p-4 border-b border-border hover:bg-muted/50 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Novo treino disponvel!"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Seu treino de peito e trceps est pronto para hoje."}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"H 2 horas"})]})]})}),i.jsx("div",{className:"p-4 border-b border-border hover:bg-muted/50 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-muted rounded-full mt-2 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Meta de peso atingida!"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Parabns! Voc atingiu sua meta semanal de peso."}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Ontem"})]})]})}),i.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-muted rounded-full mt-2 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Lembrete de refeio"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No se esquea de registrar sua refeio ps-treino."}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"2 dias atrs"})]})]})})]}),i.jsx("div",{className:"p-3 border-t border-border",children:i.jsx("button",{className:"text-xs text-primary hover:text-primary/80 transition-colors w-full text-center",children:"Ver todas as notificaes"})})]})]})})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-variant rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-lg",children:"A"})}),i.jsx("div",{children:i.jsxs("h1",{className:"text-xl font-bold text-foreground",children:["Ol, ",i.jsxs("span",{className:"text-gradient-primary",children:[x,"!"]})]})})]}),i.jsx("div",{className:"mb-6 text-center",children:i.jsx("p",{className:"text-foreground",children:"Estou aqui para te guiar, vamos comear?"})}),i.jsx(j0e,{onWeightNeeded:()=>l(!0)}),i.jsx(Owe,{onCoachClick:e}),i.jsx(Iwe,{}),i.jsx($we,{}),i.jsx(Rwe,{workouts:w,progress:_,loading:j||S}),w&&w.length>0&&i.jsxs("div",{className:"card-gradient p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Treino de Hoje"}),i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:((E=w[0])==null?void 0:E.name)||"Treino"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Durao estimada"}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:(O=w[0])!=null&&O.estimated_duration?`${w[0].estimated_duration} min`:"-"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Exerccios"}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:Array.isArray((C=w[0])==null?void 0:C.exercises)?`${w[0].exercises.length} exerccios`:"-"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Dificuldade"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:((P=w[0])==null?void 0:P.difficulty)||"-"})]})]}),i.jsx("button",{onClick:t,className:"btn-primary w-full mt-4",children:"Iniciar Treino"})]}),i.jsx(Cwe,{isOpen:o,onClose:()=>{f(),l(!1)},onSave:b,error:d}),i.jsx(t1e,{isOpen:h,onClose:()=>m(!1),onSubmit:g,loading:p})]})},r1e=({name:e,duration:t,calories:r,difficulty:n,muscleGroup:a,image:s,isCompleted:o=!1,onClick:l})=>{const c=u=>{switch(u){case"Iniciante":return"text-green-400";case"Intermedirio":return"text-primary";case"Avanado":return"text-red-400";default:return"text-muted-foreground"}};return i.jsx(V,{className:"bg-card/50 border-border/50 overflow-hidden hover:bg-card/70 transition-all duration-300 cursor-pointer rounded-2xl",onClick:l,children:i.jsxs(re,{className:"p-0",children:[i.jsxs("div",{className:"relative",children:[s?i.jsx("img",{src:s,alt:e,className:"w-full h-40 object-cover rounded-t-2xl"}):i.jsx("div",{className:"w-full h-40 rounded-t-2xl bg-gradient-to-r from-primary/30 to-secondary/30"}),o&&i.jsx("div",{className:"absolute top-3 right-3 bg-accent/90 backdrop-blur-sm rounded-xl p-2",children:i.jsx("div",{className:"w-3 h-3 bg-background rounded-full"})}),i.jsx("div",{className:"absolute top-3 left-3 bg-background/90 backdrop-blur-sm rounded-xl px-3 py-1",children:i.jsx("span",{className:"text-xs text-foreground font-medium",children:a})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-2",children:e}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tn,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[t,"min"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ac,{className:"w-4 h-4 text-orange-400"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[r," cal"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`text-sm font-medium ${c(n)}`,children:n}),i.jsx("button",{className:"bg-accent text-background px-4 py-2 rounded-xl text-sm font-medium hover:bg-accent/90 transition-colors",onClick:u=>{u.stopPropagation(),l==null||l()},children:"Ver"})]})]})]})})},n1e=({videoUrl:e,exerciseName:t,className:r=""})=>{const[n,a]=y.useState(!1),[s,o]=y.useState(!0),[l,c]=y.useState(!1),d=(f=>{const h=[/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,/^([a-zA-Z0-9_-]{11})$/];for(const m of h){const g=f.match(m);if(g)return g[1]}return null})(e);return y.useEffect(()=>{d?(o(!1),c(!1)):(o(!1),c(!0))},[d]),s?i.jsxs("div",{className:`relative aspect-video bg-surface/30 rounded-xl flex items-center justify-center border border-border/20 overflow-hidden ${r}`,children:[i.jsx(gr,{className:"w-8 h-8 text-primary animate-spin"}),i.jsx("span",{className:"ml-2 text-sm text-foreground",children:"Carregando vdeo..."})]}):l||!d?i.jsx("div",{className:`relative aspect-video bg-surface/30 rounded-xl flex items-center justify-center border border-border/20 overflow-hidden ${r}`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-3 mx-auto",children:i.jsx(Va,{className:"w-6 h-6 text-muted-foreground"})}),i.jsx("p",{className:"text-foreground font-medium text-sm",children:t}),i.jsx("p",{className:"text-muted-foreground text-xs",children:"URL de vdeo invlida"})]})}):i.jsxs("div",{className:`relative aspect-video bg-black rounded-xl overflow-hidden border border-border/20 ${r}`,children:[i.jsx("iframe",{src:`https://www.youtube.com/embed/${d}?autoplay=0&rel=0&modestbranding=1&controls=1&showinfo=0`,title:t,className:"absolute inset-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),i.jsx("div",{className:"absolute top-3 left-3 right-3 z-10",children:i.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg px-3 py-2",children:i.jsx("p",{className:"text-white font-medium text-sm truncate",children:t})})})]})},mS=e=>{const[t,r]=y.useState(null),[n,a]=y.useState(!1),[s,o]=y.useState(null);return y.useEffect(()=>{if(!e){r(null);return}(async()=>{a(!0),o(null);try{console.log("Buscando exerccio:",e);let{data:c,error:u}=await F.from("exercises").select("id, name, video_url, image_url, instructions, description").eq("name",e).limit(1);if(u)throw u;if(!c||c.length===0){const d=e.toLowerCase();let f=[];d.includes("abdominal")||d==="abdominais"?f=["abdominal","crunch"]:d.includes("voo reverso")||d.includes("mquina de voo")?f=["voo","fly","peitoral"]:d.includes("supino")?f=["supino","press","bench"]:d.includes("agachamento")?f=["agachamento","squat"]:d.includes("flexo")?f=["flexo","push"]:d.includes("rosca")?f=["rosca","curl"]:d.includes("remada")?f=["remada","row"]:d.includes("desenvolvimento")?f=["desenvolvimento","press","shoulder"]:d.includes("prancha")?f=["prancha","plank"]:d.includes("burpee")?f=["burpee","burpees"]:f=[e];for(const h of f){const{data:m,error:g}=await F.from("exercises").select("id, name, video_url, image_url, instructions, description").ilike("name",`%${h}%`).limit(1);if(g)throw g;if(m&&m.length>0){c=m,console.log("Exerccio encontrado:",m[0].name,"para busca:",e);break}}}r(c&&c.length>0?c[0]:null),(!c||c.length===0)&&console.warn("Nenhum exerccio encontrado para:",e)}catch(c){console.error("Erro ao buscar exerccio:",c),o("Erro ao carregar vdeo do exerccio")}finally{a(!1)}})()},[e]),{exercise:t,loading:n,error:s,videoUrl:t==null?void 0:t.video_url,imageUrl:t==null?void 0:t.image_url,instructions:t==null?void 0:t.instructions,description:t==null?void 0:t.description}},pS=({exerciseName:e,videoUrl:t,className:r=""})=>{const[n,a]=y.useState(!1),{exercise:s,loading:o,videoUrl:l}=mS(e),c=()=>{a(!n)};if(o)return i.jsx("div",{className:`relative aspect-video bg-surface/30 rounded-xl flex items-center justify-center border border-border/20 overflow-hidden ${r}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-6 h-6 text-primary animate-spin"}),i.jsx("span",{className:"text-sm text-foreground",children:"Carregando vdeo..."})]})});const u=t||l;return u?u.includes("youtube.com")||u.includes("youtu.be")?i.jsx(n1e,{videoUrl:u,exerciseName:e,className:r}):i.jsxs("div",{className:`relative aspect-video bg-black rounded-xl overflow-hidden border border-border/20 ${r}`,children:[u.endsWith(".gif")?i.jsx("img",{src:u,alt:e,className:"absolute inset-0 w-full h-full object-cover"}):i.jsx("video",{src:u,controls:!0,autoPlay:!1,loop:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-3 left-3 right-3 z-10",children:i.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg px-3 py-2",children:[i.jsx("p",{className:"text-white font-medium text-sm truncate",children:(s==null?void 0:s.name)||e}),(s==null?void 0:s.name)&&s.name!==e&&i.jsxs("p",{className:"text-white/70 text-xs truncate",children:["Treino: ",e]})]})})]}):i.jsxs("div",{className:`relative aspect-video bg-surface/30 rounded-xl flex items-center justify-center border border-border/20 overflow-hidden ${r}`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-secondary/20",children:i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("button",{onClick:c,className:"w-16 h-16 rounded-full bg-gradient-to-br from-accent to-accent/80 flex items-center justify-center mb-3 mx-auto hover:scale-105 transition-transform shadow-lg",children:n?i.jsx(nM,{className:"w-6 h-6 text-background"}):i.jsx(Va,{className:"w-6 h-6 text-background ml-1"})}),i.jsx("p",{className:"text-foreground font-medium text-sm",children:(s==null?void 0:s.name)||e}),i.jsx("p",{className:"text-muted-foreground text-xs",children:s!=null&&s.name?"Vdeo disponvel":"Preview do exerccio"})]})})}),n&&i.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-background/20 backdrop-blur-sm rounded-lg p-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-1 bg-white/20 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-accent rounded-full w-1/3 transition-all duration-300"})}),i.jsx("span",{className:"text-white text-xs",children:"0:15 / 0:45"})]})})]})},a1e=({exerciseName:e})=>{const{exercise:t}=mS(e);return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-foreground mb-1 text-lg",children:(t==null?void 0:t.name)||e}),(t==null?void 0:t.name)&&t.name!==e&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Treino: ",e]})]}),(t==null?void 0:t.video_url)&&i.jsx("div",{title:"Vdeo disponvel",children:i.jsx(jp,{className:"w-4 h-4 text-green-500"})})]})},s1e=({exerciseName:e})=>{const{exercise:t,loading:r}=mS(e);return r||!t?null:i.jsxs("div",{className:"space-y-2",children:[t.instructions&&i.jsxs("div",{className:"bg-primary/10 rounded-lg p-3 border border-primary/20",children:[i.jsx("p",{className:"text-xs text-primary/80 mb-1 font-medium",children:"Instrues"}),i.jsx("p",{className:"text-sm text-foreground",children:t.instructions})]}),t.description&&t.description!==t.instructions&&i.jsxs("div",{className:"bg-surface/30 rounded-lg p-3 border border-border/20",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Descrio Tcnica"}),i.jsx("p",{className:"text-sm text-foreground",children:t.description})]})]})},i1e=({workout:e,onBack:t,onStartWorkout:r,onExerciseSelect:n})=>{const[a,s]=y.useState(null),[o,l]=y.useState(null);return i.jsxs("div",{className:"relative min-h-screen bg-background",children:[i.jsxs("div",{className:"relative h-48 sm:h-64 bg-gradient-to-br from-primary/20 to-secondary/20 flex flex-col",style:{backgroundImage:e.image?`url(${e.image})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),i.jsx("button",{onClick:t,className:"absolute top-8 left-4 w-10 h-10 rounded-full bg-background/20 backdrop-blur-sm border border-white/20 flex items-center justify-center z-10",children:i.jsx(Ot,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"relative z-10 mt-auto p-4 sm:p-6 text-white",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:e.name}),i.jsx("p",{className:"text-white/80 mb-4",children:e.type}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:flex sm:gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 bg-background/20 backdrop-blur-sm px-2 sm:px-3 py-2 rounded-xl",children:[i.jsx(tn,{className:"w-4 h-4 text-accent"}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsxs("span",{className:"text-sm font-medium block sm:inline",children:[e.duration," min"]}),i.jsx("span",{className:"text-xs text-white/60 block sm:inline sm:ml-1",children:"Durao"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 bg-background/20 backdrop-blur-sm px-2 sm:px-3 py-2 rounded-xl",children:[i.jsx(Ac,{className:"w-4 h-4 text-accent"}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("span",{className:"text-sm font-medium block sm:inline",children:e.difficulty}),i.jsx("span",{className:"text-xs text-white/60 block sm:inline sm:ml-1",children:"Dificuldade"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 bg-background/20 backdrop-blur-sm px-2 sm:px-3 py-2 rounded-xl",children:[i.jsx(ki,{className:"w-4 h-4 text-accent"}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("span",{className:"text-sm font-medium block sm:inline",children:e.exercises.length}),i.jsx("span",{className:"text-xs text-white/60 block sm:inline sm:ml-1",children:"Exerccios"})]})]})]})]})]}),i.jsxs("div",{className:"p-4 pb-32",children:[i.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Exerccios"}),i.jsx("div",{className:"space-y-3",children:e.exercises.map(c=>i.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/30 rounded-2xl p-4 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>{l(o===c.id?null:c.id)},children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(a1e,{exerciseName:c.name}),i.jsx("p",{className:"text-muted-foreground text-sm font-medium mt-1",children:c.type})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:u=>{u.stopPropagation(),s(a===c.id?null:c.id)},className:"w-12 h-12 rounded-2xl bg-accent flex items-center justify-center hover:bg-accent/90 transition-colors",children:i.jsx(Va,{className:"w-5 h-5 text-background ml-0.5"})}),i.jsx(Dt,{className:`w-5 h-5 text-muted-foreground transition-transform ${o===c.id?"rotate-180":""}`})]})]}),o===c.id&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-border/20 space-y-3",children:[i.jsx(s1e,{exerciseName:c.name}),c.sets&&c.reps&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ac,{className:"w-4 h-4 text-accent"}),i.jsxs("span",{className:"text-sm font-medium text-foreground",children:[c.sets," sries x ",c.reps," reps"]})]}),c.duration&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tn,{className:"w-4 h-4 text-accent"}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:c.duration})]}),c.rest&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tn,{className:"w-4 h-4 text-accent"}),i.jsxs("span",{className:"text-sm text-foreground",children:["Descanso: ",c.rest]})]}),c.description&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(ki,{className:"w-4 h-4 text-accent mt-0.5"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),a===c.id&&i.jsx("div",{className:"mt-4 pt-4 border-t border-border/20",children:i.jsx(pS,{exerciseName:c.name})})]})]},c.id))})]}),i.jsx("div",{className:"fixed bottom-20 left-4 right-4",children:i.jsxs("button",{onClick:r,className:"bg-gradient-accent text-background w-full h-16 text-lg font-semibold rounded-2xl hover:bg-accent/90 transition-all duration-300 shadow-lg flex items-center justify-center",children:[i.jsx(Va,{className:"w-6 h-6 mr-2"}),"Iniciar Treino"]})})]})},o1e=({exercise:e,workout:t,onBack:r,onStartExercise:n})=>i.jsxs("div",{className:"relative min-h-screen bg-background",children:[i.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-primary/20 to-secondary/20 flex flex-col",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),i.jsx("button",{onClick:r,className:"absolute top-8 left-4 w-10 h-10 rounded-full bg-background/20 backdrop-blur-sm border border-white/20 flex items-center justify-center z-10",children:i.jsx(Ot,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"relative z-10 mt-auto p-6 text-white",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:(t==null?void 0:t.name)||"Treino"}),i.jsx("p",{className:"text-white/80 mb-4",children:(t==null?void 0:t.type)||e.type}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-background/20 backdrop-blur-sm px-3 py-2 rounded-xl",children:[i.jsx(tn,{className:"w-4 h-4 text-accent"}),i.jsxs("span",{className:"text-sm font-medium",children:[(t==null?void 0:t.duration)||"40"," min"]}),i.jsx("span",{className:"text-xs text-white/60",children:"Durao"})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-background/20 backdrop-blur-sm px-3 py-2 rounded-xl",children:[i.jsx(ki,{className:"w-4 h-4 text-accent"}),i.jsx("span",{className:"text-sm font-medium",children:(t==null?void 0:t.difficulty)||"Moderado"}),i.jsx("span",{className:"text-xs text-white/60",children:"Dificuldade"})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-background/20 backdrop-blur-sm px-3 py-2 rounded-xl",children:[i.jsx(ki,{className:"w-4 h-4 text-accent"}),i.jsx("span",{className:"text-sm font-medium",children:"2"}),i.jsx("span",{className:"text-xs text-white/60",children:"Exerccios"})]})]})]})]}),i.jsxs("div",{className:"p-4 pb-32",children:[i.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Exerccios"}),i.jsxs("div",{className:"bg-surface/50 backdrop-blur-sm border border-border/30 rounded-2xl p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-1",children:e.name}),i.jsx("p",{className:"text-muted-foreground text-sm",children:e.type})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:i.jsx(Va,{className:"w-5 h-5 text-white ml-0.5"})}),i.jsx("button",{className:"w-10 h-10 rounded-full bg-surface/50 border border-border/30 flex items-center justify-center",children:i.jsx(Dt,{className:"w-5 h-5 text-muted-foreground"})})]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ki,{className:"w-5 h-5 text-accent"}),i.jsxs("span",{className:"text-foreground font-medium",children:[e.sets||"3"," sries x ",e.reps||"8-12"," reps"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(tn,{className:"w-5 h-5 text-accent"}),i.jsxs("span",{className:"text-foreground font-medium",children:["Descanso: ",e.rest||"60s"]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ri,{className:"w-5 h-5 text-accent mt-0.5"}),i.jsx("span",{className:"text-foreground",children:e.description||"Exerccio completo para queima de calorias"})]})]}),i.jsx(pS,{exerciseName:e.name,className:"mb-4"})]})]}),i.jsx("div",{className:"fixed bottom-20 left-4 right-4",children:i.jsxs(K,{onClick:n,className:"w-full h-14 bg-gradient-to-r from-accent to-accent/80 hover:from-accent/90 hover:to-accent/70 text-background font-semibold text-lg rounded-2xl shadow-lg",children:[i.jsx(Va,{className:"w-5 h-5 mr-2"}),"Iniciar Treino"]})})]}),l1e=({workout:e,onFinish:t,onExit:r})=>{const{user:n}=Ze();Yj();const[a,s]=y.useState(0),[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,f]=y.useState(0),[h,m]=y.useState(!1),[g,p]=y.useState(0),v=60;y.useEffect(()=>{let k;return o&&!c&&(k=setInterval(()=>{h&&g>0?p(E=>E-1):h&&g===0?(m(!1),s(E=>E+1)):s(E=>E+1)},1e3)),()=>clearInterval(k)},[o,c,h,g]);const x=k=>{const E=Math.floor(k/60),O=k%60;return`${E.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},b=()=>{u(!c)},w=()=>{m(!0),p(v)},j=()=>{d<e.exercises.length-1?(f(k=>k+1),w()):_()},_=async()=>{l(!1),await S(),t()},S=async()=>{try{if(!(n!=null&&n.id))return;const k=new Date,E=new Date(k.getTime()-a*1e3),{data:O,error:C}=await F.from("workout_sessions").insert({user_id:n.id,workout_id:e.id.toString(),start_time:E.toISOString(),end_time:k.toISOString(),total_duration:Math.floor(a/60),exercises:{completed:d+1,total:e.exercises.length}});C?(console.error("Error saving workout session:",C),ke.error("Erro ao salvar treino")):ke.success("Treino concludo com sucesso! ")}catch(k){console.error("Error saving workout session:",k),ke.error("Erro ao salvar treino")}},N=e.exercises[d];return i.jsxs("div",{className:"flex flex-col h-screen bg-background overflow-hidden",children:[i.jsxs("div",{className:"flex-shrink-0 bg-gradient-to-br from-secondary to-secondary/80 p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("button",{onClick:r,className:"w-10 h-10 rounded-2xl bg-background/20 backdrop-blur-sm flex items-center justify-center hover:bg-background/30 transition-colors",children:i.jsx(Ot,{className:"w-5 h-5 text-white"})}),i.jsx("h1",{className:"text-lg font-semibold text-white truncate mx-4",children:e.name}),i.jsx("button",{onClick:_,className:"px-3 py-2 bg-destructive/80 backdrop-blur-sm rounded-2xl text-white text-sm font-medium hover:bg-destructive transition-colors",children:"Finalizar"})]}),i.jsx("div",{className:"text-5xl font-bold text-white mb-2",children:x(h?g:a)}),i.jsx("div",{className:"text-sm text-white/90 font-medium",children:h?"Tempo de Descanso":"Tempo de Treino"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto pb-32",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"bg-gradient-accent rounded-3xl p-6 mb-6 text-center shadow-lg",children:[i.jsx("h2",{className:"text-lg font-semibold text-background mb-2 opacity-90",children:"Exerccio Atual"}),i.jsx("h3",{className:"text-2xl font-bold text-background mb-3",children:N.name}),i.jsx("p",{className:"text-background/80 mb-4 text-sm leading-relaxed",children:N.description}),i.jsxs("div",{className:"space-y-3",children:[N.sets&&N.reps&&i.jsx("div",{className:"bg-background/20 rounded-2xl p-3",children:i.jsxs("div",{className:"text-background font-semibold text-sm",children:["Durao: ",N.sets," sries  ",N.reps," repeties"]})}),N.duration&&i.jsx("div",{className:"bg-background/20 rounded-2xl p-3",children:i.jsxs("div",{className:"text-background font-semibold text-sm",children:["Durao: ",N.duration]})})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Prximos Exerccios"}),i.jsx("div",{className:"space-y-3",children:e.exercises.map((k,E)=>i.jsx(V,{className:`${E===d?"bg-gradient-accent text-background border-accent shadow-lg":E<d?"bg-muted/50 text-muted-foreground border-muted":"bg-card/50 border-border hover:bg-card/80"} rounded-2xl transition-all duration-300 backdrop-blur-sm`,children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold mb-1 truncate",children:k.name}),i.jsx("p",{className:"text-sm opacity-80 mb-1",children:k.type}),k.sets&&k.reps&&i.jsxs("p",{className:"text-xs opacity-70",children:[k.sets,"  ",k.reps]})]}),i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-background/20 flex items-center justify-center ml-3 flex-shrink-0",children:i.jsx("span",{className:"font-bold text-lg",children:E<d?"":E+1})})]})})},k.id))})]})]})}),i.jsx("div",{className:"fixed bottom-20 left-0 right-0 bg-background/95 backdrop-blur-md border-t border-border/30",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-3",children:[i.jsx("button",{onClick:b,className:"w-14 h-14 rounded-2xl bg-accent shadow-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-200",title:c?"Continuar":"Pausar",children:c?i.jsx(Va,{className:"w-6 h-6 text-background"}):i.jsx(nM,{className:"w-6 h-6 text-background"})}),i.jsx("button",{onClick:w,className:"w-14 h-14 rounded-2xl bg-accent shadow-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-200 disabled:opacity-50 disabled:hover:scale-100",disabled:h,title:"Descansar",children:i.jsx(Rz,{className:"w-6 h-6 text-background"})}),i.jsx("button",{onClick:j,className:"w-14 h-14 rounded-2xl bg-muted shadow-xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-200",title:"Prximo exerccio",children:i.jsx($z,{className:"w-6 h-6 text-background"})})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"w-full bg-muted/30 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-accent transition-all duration-500 ease-out",style:{width:`${(d+1)/e.exercises.length*100}%`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[i.jsxs("span",{children:["Exerccio ",d+1]}),i.jsxs("span",{children:[e.exercises.length," total"]})]})]}),i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:c?"Treino Pausado":h?"Descansando...":"Treinando"})})]})})]})},NL=()=>{const{user:e}=Ze(),{workouts:t,loading:r}=SL((e==null?void 0:e.id)||""),n=Je(),[a,s]=y.useState("list"),[o,l]=y.useState(null),[c,u]=y.useState(null),d=["Todos",...Array.from(new Set(t.flatMap(j=>j.muscle_groups||[])))],f=y.useCallback(j=>{const _=v(j);l(_),u(null),s("detail")},[]),h=y.useCallback(j=>{u(j),s("exercise")},[]),m=y.useCallback(()=>{s("session")},[]),g=j=>j==="beginner"?"Iniciante":j==="intermediate"?"Intermedirio":j==="advanced"?"Avanado":"Geral",p=(j=[])=>j.map((_,S)=>({id:S+1,name:_.name||`Exerccio ${S+1}`,type:_.type||"Fora",sets:_.sets?String(_.sets):void 0,reps:_.reps?String(_.reps):void 0,duration:_.duration?`${_.duration} seg`:void 0,rest:_.rest||_.rest_time?`${_.rest||_.rest_time}s`:"60s",description:_.description||_.instructions||""})),v=j=>({id:j.id,name:j.name,type:Array.isArray(j.muscle_groups)?j.muscle_groups.join(", "):"Geral",duration:j.estimated_duration||0,difficulty:g(j.difficulty),exercises:p(j.exercises),image:j.image_url}),x=y.useCallback(()=>{const j=Math.floor(Math.random()*50)+50,_=[" Queimador de Calorias!"," Fora Total!"," Super Atleta!"," Campeo do Dia!"," Meta Atingida!"],S=_[Math.floor(Math.random()*_.length)];Wt({title:`${S}`,description:`Parabns! Voc ganhou ${j} pontos e completou mais um treino! `}),setTimeout(()=>{Wt({title:" Continue assim!",description:"Voc est cada vez mais forte! Prximo treino em 24h."})},3e3),s("list"),l(null),u(null)},[]),b=y.useCallback(()=>{s("list"),l(null),u(null)},[]),w=y.useCallback(()=>{s("detail"),u(null)},[]);return r?i.jsx("div",{className:"p-4 pt-8 pb-24 flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(gr,{className:"w-8 h-8 animate-spin text-accent"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando seus treinos..."})]})}):a==="session"&&o?i.jsx(l1e,{workout:o,onFinish:x,onExit:b}):a==="exercise"&&c&&o?i.jsx(o1e,{exercise:c,workout:o,onBack:w,onStartExercise:m}):a==="detail"&&o?i.jsx(i1e,{workout:o,onBack:b,onStartWorkout:m,onExerciseSelect:h}):i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsx("div",{className:"mb-4",children:i.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>n("/"),"aria-label":"Voltar para a Home",children:[i.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Voltar para a Home"]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Treinos"}),i.jsx("p",{className:"text-muted-foreground",children:"Escolha seu treino e vamos comear!"})]}),i.jsxs("div",{className:"mb-6 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Oz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),i.jsx("input",{placeholder:"Buscar treinos...",className:"w-full pl-10 pr-4 py-3 bg-card/50 border border-border/50 rounded-2xl text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent/50"})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:d.map(j=>i.jsx("button",{className:`px-4 py-2 rounded-2xl text-sm font-medium whitespace-nowrap transition-colors ${j==="Todos"?"bg-accent text-background":"bg-card/50 text-muted-foreground hover:bg-card/70"}`,children:j},j))})]}),t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"Nenhum treino disponvel ainda."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Aguarde seu professor atribuir treinos para voc!"})]}):i.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(j=>i.jsx(r1e,{name:j.name,duration:j.estimated_duration,difficulty:g(j.difficulty),calories:j.estimated_calories,muscleGroup:Array.isArray(j.muscle_groups)?j.muscle_groups.join(", "):"Geral",isCompleted:j.sessions?j.sessions>0:!1,onClick:()=>f(j)},j.id))})]})},c1e=({progress:e,size:t=80,strokeWidth:r=6,className:n="",children:a,color:s="primary"})=>{const o=(t-r)/2,l=o*2*Math.PI,c=l-e/100*l,u={primary:"stroke-primary",accent:"stroke-accent",success:"stroke-success"};return i.jsxs("div",{className:`progress-ring ${n}`,style:{width:t,height:t},children:[i.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[i.jsx("circle",{cx:t/2,cy:t/2,r:o,stroke:"hsl(var(--muted))",strokeWidth:r,fill:"transparent",className:"opacity-20"}),i.jsx("circle",{cx:t/2,cy:t/2,r:o,strokeWidth:r,fill:"transparent",strokeDasharray:l,strokeDashoffset:c,strokeLinecap:"round",className:`transition-all duration-500 ease-out ${u[s]}`})]}),a&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a})]})},u1e=({title:e,calories:t,time:r,foods:n,description:a,isCompleted:s=!1,onClick:o})=>{const l=Array.isArray(n)?n:[];return i.jsxs(V,{className:Se("p-4 transition-all duration-200",s?"bg-gradient-to-r from-success/20 to-success/10 border-success/50 cursor-not-allowed":"bg-card border-border hover:border-accent/50 cursor-pointer hover:shadow-md"),onClick:s?void 0:o,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("h3",{className:"font-semibold text-foreground text-lg",children:[e," ",r&&`- ${r}`]}),s?i.jsx(jp,{className:"w-5 h-5 text-success"}):i.jsx("div",{className:"w-5 h-5 border-2 border-muted-foreground/30 rounded-full"})]}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-accent",children:[i.jsx(Lz,{className:"w-4 h-4"}),i.jsxs("span",{children:[Math.round(t)," kcal"]})]})]}),s&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Di,{className:"w-3 h-3"}),i.jsx("span",{children:"At amanh"})]})]}),i.jsxs("div",{className:"space-y-3",children:[l.length>0?l.slice(0,3).map((c,u)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-foreground font-medium",children:c.name}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:[c.quantity||100,"g"]})]}),i.jsx("div",{className:"bg-accent/20 px-3 py-1 rounded-full",children:i.jsxs("span",{className:"text-accent font-medium text-sm",children:[c.calories," cal"]})})]},c.id||u)):i.jsx("div",{className:"text-center py-2",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:"Alimentos no especificados"})}),l.length>3&&i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-muted-foreground text-xs",children:["+",l.length-3," mais alimentos..."]})})]}),a&&i.jsx("div",{className:"mt-4 pt-3 border-t border-border/20",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:a})}),i.jsx("div",{className:Se("text-xs font-medium mt-2 flex items-center gap-1",s?"text-success":"text-muted-foreground"),children:s?i.jsxs(i.Fragment,{children:[i.jsx(jp,{className:"w-3 h-3"}),i.jsx("span",{children:"Registrada hoje - disponvel amanh"})]}):i.jsx("span",{children:"Toque para marcar como consumida"})})]})},kL=()=>{const{user:e}=Ze(),[t,r]=y.useState([]),[n,a]=y.useState([]),[s,o]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState({consumed:{calories:0,protein:0,carbs:0,fat:0},target:{calories:0,protein:0,carbs:0,fat:0},percentage:{calories:0,protein:0,carbs:0,fat:0}}),p=()=>{if(!(e!=null&&e.id))return;const w=new Date().toISOString().split("T")[0];wx(e.id,w,j=>{a(j),d(j)})},v=async w=>{try{const{data:j,error:_}=await F.from("meals").select("id, name, time, meal_type, calories, protein, carbs, fat, foods").in("id",w).order("time");if(_){console.error("Erro ao buscar refeies:",_);return}const S=(j||[]).map(N=>({id:N.id,name:N.name,time:N.time||"12:00",meal_type:N.meal_type,calories:N.calories||0,protein:N.protein||0,carbs:N.carbs||0,fat:N.fat||0,foods:Array.isArray(N.foods)?N.foods.map(k=>({id:k.id,name:k.name||"Alimento",quantity:k.quantity||100,calories:k.calories||0,proteins:k.proteins||0,carbs:k.carbs||0,fats:k.fats||0})):[]}));h(S)}catch(j){console.error("Erro ao buscar refeies:",j)}};y.useEffect(()=>{if(!(e!=null&&e.id)){o(!1);return}let w,j,_;w=BH(e.id,async N=>{r(N);const k=N.find(E=>(!E.end_date||new Date(E.end_date)>=new Date)&&(!E.start_date||new Date(E.start_date)<=new Date))||N[0]||null;if(c(k),k&&k.meal_ids){const E=Array.isArray(k.meal_ids)?k.meal_ids:[];E.length>0&&await v(E)}o(!1)});const S=new Date().toISOString().split("T")[0];return j=wx(e.id,S,N=>{a(N),d(N)}),_=F.channel("meal_logs_realtime").on("postgres_changes",{event:"*",schema:"public",table:"meal_logs",filter:`user_id=eq.${e.id}`},N=>{console.log("Meal log realtime update:",N),wx(e.id,S,k=>{a(k),d(k)})}).subscribe(),()=>{w&&w(),j&&j(),_&&F.removeChannel(_)}},[e==null?void 0:e.id]),y.useEffect(()=>{if(!l){g({consumed:{calories:0,protein:0,carbs:0,fat:0},target:{calories:0,protein:0,carbs:0,fat:0},percentage:{calories:0,protein:0,carbs:0,fat:0}});return}const w={calories:l.daily_calories||0,protein:l.daily_protein||0,carbs:l.daily_carbs||0,fat:l.daily_fat||0},j={calories:0,protein:0,carbs:0,fat:0};u.forEach(S=>{if(S.consumed){const N=f.find(k=>k.id===S.meal_id);N&&(j.calories+=N.calories||0,j.protein+=N.protein||0,j.carbs+=N.carbs||0,j.fat+=N.fat||0)}});const _={calories:w.calories>0?j.calories/w.calories*100:0,protein:w.protein>0?j.protein/w.protein*100:0,carbs:w.carbs>0?j.carbs/w.carbs*100:0,fat:w.fat>0?j.fat/w.fat*100:0};g({consumed:j,target:w,percentage:_})},[l,u,f]);const x=async(w,j=!0,_)=>{if(!(e!=null&&e.id)||!l)return console.error("Usurio no autenticado ou plano no encontrado"),!1;const S=new Date().toISOString().split("T")[0];try{const N=u.find(k=>k.meal_id===w&&k.date.split("T")[0]===S);if(N&&N.consumed&&j===!1)return console.warn("Cannot uncheck consumed meal - only allowed once per day"),!1;if(N){if(N.consumed&&j)return!0;const{error:k}=await F.from("meal_logs").update({consumed:j,notes:_}).eq("id",N.id);if(k)return console.error("Erro ao atualizar meal log:",k),!1}else{if(!j)return!1;await UH({user_id:e.id,nutrition_plan_id:l.id,meal_id:w,date:new Date().toISOString(),consumed:j,notes:_,actual_time:new Date().toTimeString().split(" ")[0]})}return p(),!0}catch(N){return console.error("Erro ao registrar refeio:",N),!1}};return{nutritionPlans:t,mealLogs:n,activePlan:l,todaysMeals:u,planMeals:f,dailyStats:m,loading:s,logMeal:x,addMealLog:x}},EL=({points:e,activity:t,description:r,level:n,isLevelUp:a})=>{if(e<=0)return;const s=()=>a?Mo:e>=100?Nr:e>=50?mh:En,o=()=>a?"text-warning":e>=100?"text-success":e>=50?"text-accent":"text-primary",l=s();ke.custom(c=>i.jsx("div",{className:"bg-card border border-border rounded-xl p-4 shadow-lg min-w-[320px]",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-primary/20 to-accent/20 flex items-center justify-center",children:i.jsx(l,{className:`w-6 h-6 ${o()}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-bold text-lg text-foreground",children:["+",e]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"pontos"}),a&&i.jsx("div",{className:"px-2 py-1 bg-warning/20 rounded-full",children:i.jsxs("span",{className:"text-xs font-bold text-warning",children:["NVEL ",n,"!"]})})]}),i.jsx("div",{className:"text-sm text-foreground font-medium mb-1",children:t}),r&&i.jsx("div",{className:"text-xs text-muted-foreground",children:r})]})]})}),{duration:4e3,position:"top-center"})},d1e=Object.freeze(Object.defineProperty({__proto__:null,showPointsToast:EL},Symbol.toStringTag,{value:"Module"})),f1e=()=>{const{user:e}=Ze(),{activePlan:t,loading:r,todaysMeals:n,planMeals:a,dailyStats:s,logMeal:o}=kL(),{userPoints:l}=Sh(),[c,u]=y.useState(0);y.useEffect(()=>{const g=n.filter(p=>p.consumed).length;g>c&&EL({points:25,activity:"Refeio Registrada!",description:"Continue mantendo uma alimentao saudvel"}),u(g)},[n,c]);const d=async(g,p)=>{if(!(!(e!=null&&e.id)||!t)){if(p){ke.error("Refeio j foi registrada hoje! No  possvel desmarcar at amanh.");return}try{await o(g,!0)||ke.error("Erro ao registrar refeio. Tente novamente.")}catch(v){console.error("Error logging meal:",v),ke.error("Erro ao registrar refeio. Tente novamente.")}}};if(r)return i.jsx("div",{className:"p-4 pt-8 pb-24 flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(gr,{className:"w-8 h-8 animate-spin text-accent"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando seu plano nutricional..."})]})});if(!t)return i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Nutrio"}),i.jsx("p",{className:"text-muted-foreground",children:"Acompanhe sua alimentao hoje"})]}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"Nenhum plano nutricional disponvel ainda."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Aguarde seu nutricionista criar um plano para voc!"})]})]});const{consumed:f,target:h,percentage:m}=s;return i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Nutrio"}),i.jsx("p",{className:"text-muted-foreground",children:"Acompanhe sua alimentao hoje"})]}),i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl border border-border/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Meta Diria"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Progresso de hoje"}),l&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(Ac,{className:"w-4 h-4 text-warning"}),i.jsxs("span",{className:"text-xs text-warning font-medium",children:[l.current_streak||0," dias consecutivos"]})]})]}),i.jsx(c1e,{progress:m.calories,size:60,strokeWidth:6,className:"text-primary"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(gi,{title:"Calorias",value:`${Math.round(f.calories)}`,subtitle:`de ${h.calories}`,progress:m.calories,color:"primary"}),i.jsx(gi,{title:"Protena",value:`${Math.round(f.protein)}g`,subtitle:`de ${h.protein}g`,progress:m.protein,color:"blue"}),i.jsx(gi,{title:"Carboidratos",value:`${Math.round(f.carbs)}g`,subtitle:`de ${h.carbs}g`,progress:m.carbs,color:"green"}),i.jsx(gi,{title:"Gordura",value:`${Math.round(f.fat)}g`,subtitle:`de ${h.fat}g`,progress:m.fat,color:"orange"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Refeies de Hoje"}),a.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma refeio programada para hoje."})}):a.map(g=>{const p=n.find(x=>x.meal_id===g.id),v=(p==null?void 0:p.consumed)||!1;return i.jsx("div",{children:i.jsx(u1e,{title:g.name,time:g.time,calories:g.calories,foods:g.foods||[],description:"",isCompleted:v,onClick:()=>d(g.id,v)})},g.id)})]})]})};var PL={exports:{}},CL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=y;function h1e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m1e=typeof Object.is=="function"?Object.is:h1e,p1e=iu.useState,g1e=iu.useEffect,v1e=iu.useLayoutEffect,y1e=iu.useDebugValue;function x1e(e,t){var r=t(),n=p1e({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return v1e(function(){a.value=r,a.getSnapshot=t,sb(a)&&s({inst:a})},[e,r,t]),g1e(function(){return sb(a)&&s({inst:a}),e(function(){sb(a)&&s({inst:a})})},[e]),y1e(r),r}function sb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!m1e(e,r)}catch{return!0}}function b1e(e,t){return t()}var w1e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b1e:x1e;CL.useSyncExternalStore=iu.useSyncExternalStore!==void 0?iu.useSyncExternalStore:w1e;PL.exports=CL;var j1e=PL.exports;function _1e(){return j1e.useSyncExternalStore(S1e,()=>!0,()=>!1)}function S1e(){return()=>{}}var gS="Avatar",[N1e,bEe]=Ur(gS),[k1e,OL]=N1e(gS),AL=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=y.useState("idle");return i.jsx(k1e,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(_e.span,{...n,ref:t})})});AL.displayName=gS;var TL="AvatarImage",$L=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=OL(TL,r),l=E1e(n,s),c=Ht(u=>{a(u),o.onImageLoadingStatusChange(u)});return It(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(_e.img,{...s,ref:t,src:n}):null});$L.displayName=TL;var ML="AvatarFallback",IL=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=OL(ML,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(_e.span,{...a,ref:t}):null});IL.displayName=ML;function cO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function E1e(e,{referrerPolicy:t,crossOrigin:r}){const n=_1e(),a=y.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=y.useState(()=>cO(s,e));return It(()=>{l(cO(s,e))},[s,e]),It(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var RL=AL,DL=$L,LL=IL;const Bu=y.forwardRef(({className:e,...t},r)=>i.jsx(RL,{ref:r,className:Se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Bu.displayName=RL.displayName;const zu=y.forwardRef(({className:e,...t},r)=>i.jsx(DL,{ref:r,className:Se("aspect-square h-full w-full",e),...t}));zu.displayName=DL.displayName;const Uu=y.forwardRef(({className:e,...t},r)=>i.jsx(LL,{ref:r,className:Se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Uu.displayName=LL.displayName;const uO=({points:e,showTrend:t=!1,recentGain:r,className:n,size:a="md",animated:s=!1})=>{const o={sm:"text-sm",md:"text-lg",lg:"text-2xl"},l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return i.jsxs("div",{className:Se("inline-flex items-center gap-2",n),children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Nr,{className:Se("text-warning",l[a])}),i.jsx("span",{className:Se("font-bold text-foreground",o[a],s&&"transition-all duration-500"),children:e.toLocaleString("pt-BR")}),i.jsx("span",{className:Se("text-muted-foreground font-normal",a==="sm"?"text-xs":a==="md"?"text-sm":"text-base"),children:"pts"})]}),t&&r&&r>0&&i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-success/10 text-success rounded-full",children:[i.jsx(Li,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs font-medium",children:r.toLocaleString("pt-BR")})]})]})},P1e=hh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qe({className:e,variant:t,...r}){return i.jsx("div",{className:Se(P1e({variant:t}),e),...r})}const dO=({level:e,totalPoints:t,className:r,showProgress:n=!1})=>{const s=(u=>{const d=[{name:"Iniciante",icon:mh,color:"bg-muted text-muted-foreground",borderColor:"border-muted"},{name:"Bronze",icon:Nr,color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",borderColor:"border-orange-300"},{name:"Prata",icon:Mo,color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",borderColor:"border-gray-300"},{name:"Ouro",icon:Ii,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",borderColor:"border-yellow-300"},{name:"Platina",icon:eM,color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",borderColor:"border-blue-300"},{name:"Diamante",icon:ck,color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",borderColor:"border-purple-300"},{name:"Mestre",icon:Ii,color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",borderColor:"border-red-300"},{name:"Lenda",icon:ck,color:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",borderColor:"border-gradient"}],f=d[Math.min(u-1,d.length-1)]||d[0];return{...f,displayName:u>d.length?`Nvel ${u}`:f.name}})(e),o=s.icon,c=n?(()=>{const u=Math.pow(e-1,2)*100,d=Math.pow(e,2)*100,f=t-u,h=d-u,m=f/h*100;return{progress:Math.min(m,100),progressToNext:f,pointsNeeded:h}})():null;return i.jsxs("div",{className:Se("inline-flex flex-col items-center gap-1",r),children:[i.jsxs(Qe,{variant:"outline",className:Se("px-3 py-1 font-medium border-2 transition-all",s.color,s.borderColor),children:[i.jsx(o,{className:"w-4 h-4 mr-1"}),s.displayName]}),n&&c&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[i.jsx("div",{className:"w-16 bg-muted/20 rounded-full h-1 mb-1",children:i.jsx("div",{className:"h-1 bg-primary rounded-full transition-all duration-300",style:{width:`${c.progress}%`}})}),i.jsxs("span",{children:[c.progressToNext,"/",c.pointsNeeded]})]})]})};var vS="Progress",yS=100,[C1e,wEe]=Ur(vS),[O1e,A1e]=C1e(vS),FL=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=T1e,...o}=e;(a||a===0)&&!fO(a)&&console.error($1e(`${a}`,"Progress"));const l=fO(a)?a:yS;n!==null&&!hO(n,l)&&console.error(M1e(`${n}`,"Progress"));const c=hO(n,l)?n:null,u=Og(c)?s(c,l):void 0;return i.jsx(O1e,{scope:r,value:c,max:l,children:i.jsx(_e.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Og(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":UL(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});FL.displayName=vS;var BL="ProgressIndicator",zL=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=A1e(BL,r);return i.jsx(_e.div,{"data-state":UL(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});zL.displayName=BL;function T1e(e,t){return`${Math.round(e/t*100)}%`}function UL(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Og(e){return typeof e=="number"}function fO(e){return Og(e)&&!isNaN(e)&&e>0}function hO(e,t){return Og(e)&&!isNaN(e)&&e<=t&&e>=0}function $1e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yS}\`.`}function M1e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WL=FL,I1e=zL;const nl=y.forwardRef(({className:e,value:t,...r},n)=>i.jsx(WL,{ref:n,className:Se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(I1e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));nl.displayName=WL.displayName;const R1e=({onClick:e,compact:t=!1})=>{const{userPoints:r,activities:n,loading:a,getLevelInfo:s}=Sh();if(a)return i.jsx(V,{className:"cursor-pointer hover:shadow-md transition-shadow",children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-6 bg-muted/20 rounded mb-3"}),i.jsx("div",{className:"h-4 bg-muted/20 rounded mb-2"}),i.jsx("div",{className:"h-2 bg-muted/20 rounded"})]})})});const o=(r==null?void 0:r.total_points)||0,l=s(o),c=new Date().toISOString().split("T")[0],u=n.filter(d=>d.created_at.startsWith(c)).reduce((d,f)=>d+f.points_earned,0);return t?i.jsx(V,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:e,children:i.jsx(re,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(uO,{points:o,size:"sm"}),i.jsxs("div",{className:"text-right",children:[i.jsx(dO,{level:l.level,totalPoints:o}),u>0&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-success mt-1",children:[i.jsx(Lo,{className:"w-3 h-3"}),"+",u," hoje"]})]})]})})}):i.jsx(V,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:e,children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(uO,{points:o,showTrend:u>0,recentGain:u}),i.jsx(dO,{level:l.level,totalPoints:o})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:["Progresso para ",l.name]}),i.jsxs("span",{className:"font-medium",children:[Math.round(l.progress),"%"]})]}),i.jsx(nl,{value:l.progress,className:"h-2"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.progressToNext," / ",l.pointsNeeded," pontos para o prximo nvel"]})]}),(r==null?void 0:r.current_streak)&&r.current_streak>0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),i.jsxs("span",{className:"text-muted-foreground",children:["Sequncia atual: ",i.jsxs("span",{className:"font-medium text-foreground",children:[r.current_streak," dias"]})]})]})]})})})},D1e=({count:e,className:t,show:r=!0})=>{if(!r||e<=0)return null;const n=e>99?"99+":e.toString();return i.jsx("div",{className:Se("absolute -top-1 -right-1 h-5 w-5 min-w-[20px] bg-destructive text-destructive-foreground text-xs font-bold rounded-full flex items-center justify-center border-2 border-background transition-all duration-300 animate-in zoom-in-50",e>9&&"px-1",t),children:n})},L1e=()=>{const{user:e}=Yt(),[t,r]=y.useState(null),[n,a]=y.useState(!0),s=async()=>{if(console.log("[useStudentTeacher] fetchTeacherId called, user:",e),!(e!=null&&e.id)){console.log("[useStudentTeacher] No user ID, using default teacher"),r("0d5398c2-278e-4853-b980-f36961795e52"),a(!1);return}try{console.log("[useStudentTeacher] Fetching teacher for user:",e.id),a(!0);const{data:o,error:l}=await F.from("students").select("teacher_id").eq("user_id",e.id).maybeSingle();if(l){console.error("[useStudentTeacher] Error fetching student data:",l);const c="0d5398c2-278e-4853-b980-f36961795e52";console.log("[useStudentTeacher] Using default teacher:",c),r(c);return}if(console.log("[useStudentTeacher] Student data:",o),o!=null&&o.teacher_id)console.log("[useStudentTeacher] Found teacher ID:",o.teacher_id),r(o.teacher_id);else{const c="0d5398c2-278e-4853-b980-f36961795e52";console.log("[useStudentTeacher] No student record found, using default teacher:",c),r(c)}}catch(o){console.error("[useStudentTeacher] Unexpected error:",o);const l="0d5398c2-278e-4853-b980-f36961795e52";console.log("[useStudentTeacher] Error occurred, using default teacher:",l),r(l)}finally{a(!1)}};return y.useEffect(()=>{console.log("[useStudentTeacher] useEffect triggered, user?.id:",e==null?void 0:e.id),s()},[e==null?void 0:e.id]),{teacherId:t,loading:n,refresh:s}},F1e=()=>{const{teacherId:e,loading:t}=L1e(),[r,n]=y.useState(null),[a,s]=y.useState(!1);console.log("[useTeacherProfile] Render - teacherId:",e,"teacherIdLoading:",t);const o=async()=>{if(console.log("[useTeacherProfile] fetchTeacherProfile called, teacherId:",e),!e){console.log("[useTeacherProfile] No teacherId, setting teacher to null"),n(null);return}try{console.log("[useTeacherProfile] Starting fetch for teacherId:",e),s(!0);const{data:l,error:c}=await F.from("profiles").select(`
          id, 
          name, 
          email, 
          avatar_url, 
          bio, 
          instagram_url, 
          facebook_url, 
          youtube_url,
          whatsapp_number,
          whatsapp_url,
          specialties
        `).eq("id",e).eq("user_type","teacher").maybeSingle();if(console.log("[useTeacherProfile] Query result:",{data:l,error:c}),c){console.error("[useTeacherProfile] Error fetching teacher profile:",c);return}l?(console.log("[useTeacherProfile] Teacher data found:",l),n(l)):(console.log("[useTeacherProfile] No teacher data returned"),n(null))}catch(l){console.error("[useTeacherProfile] Unexpected error:",l)}finally{s(!1)}};return y.useEffect(()=>{console.log("[useTeacherProfile] useEffect triggered - teacherId:",e,"teacherIdLoading:",t),o()},[e]),{teacher:r,loading:a||t,refreshTeacher:o}},B1e=()=>{const{user:e,userProfile:t}=Ze(),[r,n]=y.useState(0);return y.useEffect(()=>{if(!e||!t)return;const a=t.user_type==="student",s=async()=>{try{const{data:l,error:c}=await F.from("conversations").select(a?"unread_count_student":"unread_count_teacher").eq(a?"student_id":"teacher_id",e.id);if(c){console.error("Erro ao buscar mensagens no lidas:",c);return}const u=(l==null?void 0:l.reduce((d,f)=>{const h=a?f.unread_count_student:f.unread_count_teacher;return d+(h||0)},0))||0;n(u)}catch(l){console.error("Erro ao contar mensagens no lidas:",l)}};s();const o=F.channel("unread-messages").on("postgres_changes",{event:"*",schema:"public",table:"conversations",filter:`${a?"student_id":"teacher_id"}=eq.${e.id}`},()=>{s()}).subscribe();return()=>{F.removeChannel(o)}},[e,t]),r},z1e=()=>{var u;const{teacher:e,loading:t}=F1e(),r=B1e(),n=Je();if(t)return i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-muted rounded mb-3 w-32"}),i.jsx(V,{children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})})})]});if(!e)return null;const a=()=>{n("/chat")},s=()=>{e.instagram_url&&window.open(e.instagram_url,"_blank")},o=()=>{e.facebook_url&&window.open(e.facebook_url,"_blank")},l=()=>{e.youtube_url&&window.open(e.youtube_url,"_blank")},c=()=>{if(e.whatsapp_url)window.open(e.whatsapp_url,"_blank");else if(e.whatsapp_number){const d=encodeURIComponent("Ol! Vim atravs do app Shape Pro.");window.open(`https://wa.me/${e.whatsapp_number.replace(/\D/g,"")}?text=${d}`,"_blank")}};return i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Meu Treinador"}),i.jsx(V,{className:"bg-gradient-to-br from-background to-muted/30 border-border/50",children:i.jsxs(re,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(Bu,{className:"w-16 h-16 border-2 border-primary/20",children:[i.jsx(zu,{src:e.avatar_url,alt:e.name}),i.jsx(Uu,{className:"bg-primary/10 text-primary font-semibold text-lg",children:(u=e.name)==null?void 0:u.split(" ").map(d=>d[0]).join("").slice(0,2).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-foreground truncate",children:e.name}),e.bio&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.bio}),e.specialties&&e.specialties.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.specialties.slice(0,3).map((d,f)=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-primary/10 text-primary rounded-full",children:d},f)),e.specialties.length>3&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.specialties.length-3," mais"]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border/50",children:[i.jsxs("div",{className:"flex gap-2",children:[e.instagram_url&&i.jsx(K,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",children:i.jsx(bz,{className:"h-4 w-4"})}),e.facebook_url&&i.jsx(K,{variant:"ghost",size:"sm",onClick:o,className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",children:i.jsx(mz,{className:"h-4 w-4"})}),e.youtube_url&&i.jsx(K,{variant:"ghost",size:"sm",onClick:l,className:"h-8 w-8 p-0 hover:bg-red-600/10 hover:text-red-600",children:i.jsx(zz,{className:"h-4 w-4"})}),(e.whatsapp_url||e.whatsapp_number)&&i.jsx(K,{variant:"ghost",size:"sm",onClick:c,className:"h-8 w-8 p-0 hover:bg-green-600/10 hover:text-green-600",children:i.jsx(Ez,{className:"h-4 w-4"})})]}),i.jsxs(K,{onClick:a,size:"sm",className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground relative",children:[i.jsx(tM,{className:"h-4 w-4"}),"Chat",i.jsx(D1e,{count:r})]})]})]})})]})},U1e=()=>{var O,C;const{user:e,userProfile:t}=Yt(),[r,n]=y.useState(!1),[a,s]=y.useState(0),[o,l]=y.useState(0),[c,u]=y.useState(0),[d,f]=y.useState(0),[h,m]=y.useState(0),[g,p]=y.useState(0),[v,x]=y.useState((t==null?void 0:t.avatar_url)||null),b=y.useRef(null),w=Je();y.useEffect(()=>{x((t==null?void 0:t.avatar_url)||null)},[t==null?void 0:t.avatar_url]);const j=y.useMemo(()=>{const P=t!=null&&t.created_at?new Date(t.created_at):null;return P?P.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):""},[t==null?void 0:t.created_at]);y.useEffect(()=>{e!=null&&e.id&&(F.from("user_points").select("total_points").eq("user_id",e.id).maybeSingle().then(({data:P,error:A})=>{if(A){console.error("Erro ao buscar pontos:",A);return}s((P==null?void 0:P.total_points)??0)}),F.from("workout_sessions").select("id",{count:"exact",head:!0}).eq("user_id",e.id).then(({count:P,error:A})=>{if(A){console.error("Erro ao contar sesses:",A);return}l(P??0)}),F.from("workout_sessions").select("start_time").eq("user_id",e.id).order("start_time",{ascending:!1}).then(({data:P,error:A})=>{if(A){console.error("Erro ao buscar dias ativos:",A);return}const T=new Set((P??[]).map(M=>M.start_time).filter(Boolean).map(M=>new Date(M).toISOString().slice(0,10)));u(T.size)}),F.from("medical_exams").select("id",{count:"exact",head:!0}).eq("user_id",e.id).then(({count:P,error:A})=>{if(A){console.error("Erro ao contar exames:",A);return}f(P??0)}),F.from("progress_photos").select("id",{count:"exact",head:!0}).eq("user_id",e.id).then(({count:P,error:A})=>{if(A){console.error("Erro ao contar fotos:",A);return}m(P??0)}),F.from("progress").select("date, type").eq("user_id",e.id).eq("type","physical_assessment").then(({data:P,error:A})=>{if(A){console.error("Erro ao buscar avaliaes fsicas:",A);return}const T=new Set((P??[]).map(M=>new Date(M.date).toISOString().slice(0,10)));p(T.size)}))},[e==null?void 0:e.id]);const _=async P=>{if(!(!P||!(e!=null&&e.id))){n(!0);try{const A=`${e.id}/avatar.jpg`,{error:T}=await F.storage.from("avatars").upload(A,P,{contentType:P.type,upsert:!0});if(T)throw T;const{data:M}=F.storage.from("avatars").getPublicUrl(A),I=M.publicUrl;await T0(e.id,{avatar_url:I}),x(I),ke.success("Foto de perfil atualizada!")}catch(A){console.error("Error uploading avatar:",A),ke.error("Erro ao atualizar foto de perfil")}finally{n(!1)}}},S=P=>{var T;const A=(T=P.target.files)==null?void 0:T[0];A&&_(A)},N=()=>{var P;return(P=b.current)==null?void 0:P.click()},k=()=>{w("/recompensas")},E=()=>{w({pathname:"/",search:"?tab=gamification"})};return i.jsxs("div",{className:"p-4 pt-8 pb-24 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[i.jsxs("div",{className:"relative mb-3",children:[i.jsxs(Bu,{className:"w-24 h-24",children:[i.jsx(zu,{src:v??void 0,alt:"Avatar do usurio"}),i.jsx(Uu,{className:"text-xl",children:((C=(O=t==null?void 0:t.name)==null?void 0:O.charAt(0))==null?void 0:C.toUpperCase())||"U"})]}),i.jsx(K,{size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full w-9 h-9 p-0",onClick:N,disabled:r,"aria-label":"Alterar foto de perfil",children:i.jsx(of,{className:"w-4 h-4"})}),i.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:S,className:"hidden"})]}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.name)||"Usurio"}),j&&i.jsxs("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-1",children:[i.jsx(rr,{className:"w-4 h-4"})," Membro desde ",j]}),i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsx(Nr,{className:"w-5 h-5 text-warning"}),i.jsxs("span",{className:"font-semibold text-foreground",children:[a.toLocaleString("pt-BR")," pontos"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-6",children:[i.jsx(V,{children:i.jsxs(re,{className:"p-4 flex items-center gap-3",children:[i.jsx(hs,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Treinos Concludos"}),i.jsx("p",{className:"text-lg font-semibold text-foreground",children:o})]})]})}),i.jsx(V,{children:i.jsxs(re,{className:"p-4 flex items-center gap-3",children:[i.jsx(Nr,{className:"w-5 h-5 text-warning"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pontos Totais"}),i.jsx("p",{className:"text-lg font-semibold text-foreground",children:a.toLocaleString("pt-BR")})]})]})}),i.jsx(V,{children:i.jsxs(re,{className:"p-4 flex items-center gap-3",children:[i.jsx(sz,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Dias Ativos"}),i.jsx("p",{className:"text-lg font-semibold text-foreground",children:c})]})]})})]}),i.jsx(z1e,{}),(t==null?void 0:t.user_type)==="teacher"&&i.jsx(V,{className:"mb-6",children:i.jsx(re,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(sk,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Dashboard Professor"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie cursos, produtos e alunos"})]})]}),i.jsx(K,{onClick:()=>w("/dashboard-professor"),children:"Acessar"})]})})}),i.jsx(V,{className:"mb-6",children:i.jsx(re,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-warning/15 flex items-center justify-center",children:i.jsx(Nr,{className:"w-5 h-5 text-warning"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Loja de Recompensas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Troque seus pontos por prmios"})]})]}),i.jsx(K,{onClick:k,children:"Acessar Loja"})]})})}),i.jsx("div",{className:"mb-6",children:i.jsx(R1e,{onClick:E})}),i.jsx("h2",{className:"text-lg font-semibold mb-3 mt-6",children:"Meus Dados"}),i.jsx("div",{className:"space-y-3",children:i.jsx(V,{role:"button",onClick:()=>w("/cadastro-completo"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(En,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Cadastro Completo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete suas informaes pessoais"})]}),i.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded-full font-medium",children:"75%"})]})})}),i.jsx("h2",{className:"text-lg font-semibold mb-3 mt-6",children:"Dados e Configuraes"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(V,{role:"button",onClick:()=>w("/anamnese"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(Ro,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Anamnese"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Histrico mdico e questionrio de sade"})]}),i.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded-full font-medium",children:"90%"})]})}),i.jsx(V,{role:"button",onClick:()=>w("/assinaturas-planos"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(cz,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Assinaturas & Planos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie sua assinatura"})]})]})}),i.jsx(V,{role:"button",onClick:()=>w("/exames-medicos"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(Iz,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Exames Mdicos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimos resultados"})]}),i.jsx("span",{className:"text-xs bg-warning/20 text-warning px-2 py-1 rounded-full font-medium",children:"2"})]})}),i.jsx(V,{role:"button",onClick:()=>w("/fotos-progresso"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(yz,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Fotos de Progresso"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Evoluo visual"})]}),i.jsx("span",{className:"text-xs bg-warning/20 text-warning px-2 py-1 rounded-full font-medium",children:"8"})]})}),i.jsx(V,{role:"button",onClick:()=>w("/avaliacoes-fisicas"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(ms,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Avaliaes Fsicas"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Medidas e composio"})]}),i.jsx("span",{className:"text-xs bg-warning/20 text-warning px-2 py-1 rounded-full font-medium",children:"3"})]})}),i.jsx(V,{role:"button",onClick:()=>w("/configuracoes"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(sk,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Configuraes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Preferncias do aplicativo"})]})]})}),i.jsx(V,{role:"button",onClick:()=>w("/conta-seguranca"),className:"hover:bg-muted/40 transition-colors",children:i.jsxs(re,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/15 flex items-center justify-center",children:i.jsx(cv,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"Conta & Segurana"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Alterar senha e sesso"})]})]})})]})]})},W1e=e=>{const[t,r]=y.useState([]),[n,a]=y.useState(!1),[s,o]=y.useState(null),{toast:l}=At();return y.useEffect(()=>{if(!e){r([]);return}(async()=>{a(!0),o(null);try{const{data:u,error:d}=await F.from("course_lessons").select(`
            id,
            title,
            description,
            video_url,
            video_duration_minutes,
            order_index,
            content,
            is_published,
            is_free
          `).eq("module_id",e).eq("is_published",!0).order("order_index",{ascending:!0});if(d)throw d;r(u||[])}catch(u){console.error("Erro ao carregar aulas:",u),o("Erro ao carregar aulas"),l({title:"Erro",description:"No foi possvel carregar as aulas do mdulo",variant:"destructive"})}finally{a(!1)}})()},[e,l]),{lessons:t,loading:n,error:s}},q1e=({module:e,courseTitle:t,onBack:r})=>{const[n,a]=y.useState(null),[s,o]=y.useState(new Set),{lessons:l,loading:c,error:u}=W1e(e==null?void 0:e.id);y.useEffect(()=>{l.length>0&&!n&&a(l[0])},[l,n]);const d=m=>{o(g=>new Set([...g,m]))},f=l.length,h=s.size;return i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs(K,{variant:"ghost",onClick:r,className:"mb-4 -ml-2",children:[i.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Voltar aos Mdulos"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:(e==null?void 0:e.name)||(e==null?void 0:e.title)}),i.jsx("p",{className:"text-muted-foreground mb-3",children:e==null?void 0:e.description}),t&&i.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Curso: ",t]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[h,"/",f," aulas completas"]}),i.jsx("div",{className:"flex-1 bg-muted rounded-full h-1",children:i.jsx("div",{className:"bg-primary h-1 rounded-full transition-all duration-300",style:{width:`${f>0?h/f*100:0}%`}})})]})]}),n&&i.jsx("div",{className:"mb-6",children:i.jsx(pS,{exerciseName:n.title,videoUrl:n.video_url,className:"w-full rounded-lg overflow-hidden"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Aulas do Mdulo"}),c?i.jsx(V,{children:i.jsxs(re,{className:"p-6 text-center",children:[i.jsx(gr,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando aulas..."})]})}):u?i.jsx(V,{children:i.jsxs(re,{className:"p-6 text-center",children:[i.jsx("p",{className:"text-destructive mb-2",children:"Erro ao carregar aulas"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:u})]})}):l.length===0?i.jsx(V,{children:i.jsx(re,{className:"p-6 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Este mdulo ainda no possui aulas disponveis."})})}):i.jsx("div",{className:"space-y-2",children:l.map((m,g)=>{const p=m.id||`lesson-${g}`,v=s.has(p);return i.jsx(V,{className:`cursor-pointer transition-all duration-200 hover:bg-accent/50 ${(n==null?void 0:n.id)===m.id||n===m?"ring-2 ring-primary":""}`,onClick:()=>a(m),children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:v?i.jsx(jp,{className:"w-4 h-4 text-primary"}):i.jsx(Va,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:m.title}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(tn,{className:"w-3 h-3"}),i.jsx("span",{children:m.video_duration_minutes?`${m.video_duration_minutes} min`:"10 min"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[m.downloadable&&i.jsx(K,{variant:"ghost",size:"sm",children:i.jsx(J$,{className:"w-4 h-4"})}),!v&&i.jsx(K,{size:"sm",onClick:x=>{x.stopPropagation(),d(p)},children:"Concluir"})]})]})})},p)})})]})]})},V1e=({onSelectStudent:e})=>{const{user:t}=Ze(),[r,n]=y.useState([]),[a,s]=y.useState(!0),[o,l]=y.useState({});return y.useEffect(()=>t!=null&&t.id?IH(t.id,async u=>{n(u);const d={};for(const f of u)try{const h=await RI(f.user_id);d[f.user_id]=h.length}catch(h){console.error("Error fetching assessments for student:",h),d[f.user_id]=0}l(d),s(!1)}):void 0,[t==null?void 0:t.id]),a?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ei,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum aluno encontrado"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsx(Ei,{className:"w-5 h-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Meus Alunos"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r.length,")"]})]}),i.jsx("div",{className:"grid gap-4",children:r.map(c=>{var u,d;return i.jsx(V,{className:"hover:shadow-md transition-all cursor-pointer",onClick:()=>e(c),children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(Ei,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:((u=c.profiles)==null?void 0:u.name)||"Nome no informado"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(d=c.profiles)==null?void 0:d.email}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(rr,{className:"w-3 h-3"}),o[c.user_id]||0," avaliaes"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Lo,{className:"w-3 h-3"}),"Plano ",c.active_plan||"free"]})]})]})]}),i.jsx(sc,{className:"w-5 h-5 text-muted-foreground"})]})})},c.id)})})]})},H1e=e=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0),[s,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r(null),a(!1);return}a(!0),o(null);try{const c=await WH(e);r(c)}catch(c){console.error("Error fetching student anamnese:",c),o(c instanceof Error?c.message:"Erro ao buscar anamnese"),r(null)}finally{a(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{record:t,loading:n,error:s,refresh:l}},G1e=({student:e,onBack:t})=>{var w,j,_,S,N,k;const[r,n]=y.useState([]),[a,s]=y.useState(!0),[o,l]=y.useState([]),[c,u]=y.useState(!0),{record:d,loading:f}=H1e(e.user_id);y.useEffect(()=>{const E=async()=>{try{const C=await RI(e.user_id);n(C)}catch(C){console.error("Error fetching assessments:",C)}finally{s(!1)}},O=async()=>{try{const{data:C,error:P}=await F.from("medical_exams").select("*").eq("user_id",e.user_id).order("date",{ascending:!1}).limit(10);if(P)throw P;l(C||[])}catch(C){console.error("Erro ao buscar exames:",C)}finally{u(!1)}};E(),O()},[e.user_id]);const h=E=>new Date(E).toLocaleDateString("pt-BR"),m=E=>{switch(E){case"weight":return i.jsx(cf,{className:"w-4 h-4"});case"height":return i.jsx(ms,{className:"w-4 h-4"});case"body_fat":return i.jsx(hs,{className:"w-4 h-4"});case"muscle_mass":return i.jsx(Tc,{className:"w-4 h-4"});default:return i.jsx(hs,{className:"w-4 h-4"})}},g=E=>{const O=E.reduce((C,P)=>{const A=P.date.split("T")[0];return C[A]||(C[A]=[]),C[A].push(P),C},{});return Object.entries(O).sort(([C],[P])=>new Date(P).getTime()-new Date(C).getTime())},p=E=>{switch(E){case"blood":return i.jsx(lf,{className:"w-4 h-4 text-red-500"});case"cardiology":return i.jsx(Do,{className:"w-4 h-4 text-pink-500"});case"imaging":return i.jsx(uf,{className:"w-4 h-4 text-blue-500"});default:return i.jsx(Ro,{className:"w-4 h-4 text-gray-500"})}},v=E=>{switch(E){case"blood":return"Exames de Sangue";case"cardiology":return"Cardiolgicos";case"imaging":return"Exames de Imagem";default:return"Outros"}},x=E=>o.filter(O=>O.category===E).length,b=g(r);return a?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:t,children:i.jsx(Ot,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tc,{className:"w-6 h-6 text-primary"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-foreground",children:((w=e.profiles)==null?void 0:w.name)||"Nome no informado"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados do Aluno"})]})]})]}),e.weight||e.height||e.body_fat||e.muscle_mass?i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(hs,{className:"w-5 h-5"}),"Dados Atuais"]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.weight&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.weight," kg"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Peso"})]}),e.height&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.height," cm"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Altura"})]}),e.body_fat&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.body_fat,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gordura"})]}),e.muscle_mass&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.muscle_mass," kg"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Massa Muscular"})]})]})})]}):null,i.jsx("div",{className:"p-4",children:i.jsxs(Pv,{defaultValue:"assessments",className:"w-full",children:[i.jsxs(_h,{className:"grid w-full grid-cols-3",children:[i.jsx(Pn,{value:"assessments",children:"Avaliaes"}),i.jsx(Pn,{value:"anamnese",children:"Anamnese"}),i.jsx(Pn,{value:"medical-exams",children:"Exames"})]}),i.jsxs(Cn,{value:"assessments",className:"space-y-4",children:[i.jsx("div",{className:"mb-6",children:i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Histrico de Avaliaes"})}),b.length===0?i.jsx(V,{children:i.jsxs(re,{className:"text-center py-8",children:[i.jsx(hs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma avaliao registrada"})]})}):i.jsx("div",{className:"space-y-4",children:b.map(([E,O])=>i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"text-base flex items-center gap-2",children:[i.jsx(rr,{className:"w-4 h-4"}),h(E),i.jsxs(Qe,{variant:"secondary",className:"text-xs",children:[O.length," medies"]})]})}),i.jsx(re,{children:i.jsx("div",{className:"grid gap-3",children:O.map(C=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[m(C.notes||"default"),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium capitalize",children:C.notes==="weight"?"Peso":C.notes==="height"?"Altura":C.notes==="body_fat"?"Gordura Corporal":C.notes==="muscle_mass"?"Massa Muscular":"Medio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(C.date).toLocaleDateString("pt-BR")})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-semibold",children:[C.value," ",C.unit]})})]},C.id))})})]},E))})]}),i.jsxs(Cn,{value:"anamnese",className:"space-y-4",children:[i.jsx("div",{className:"mb-6",children:i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Anamnese"})}),f?i.jsx(V,{children:i.jsxs(re,{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Carregando anamnese..."})]})}):d?i.jsxs("div",{className:"space-y-4",children:[(((j=d.doencas)==null?void 0:j.length)>0||d.outras_doencas)&&i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"text-base flex items-center gap-2",children:[i.jsx(Do,{className:"w-4 h-4"}),"Doenas"]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-2",children:[(_=d.doencas)==null?void 0:_.map((E,O)=>i.jsx(Qe,{variant:"secondary",className:"mr-2",children:E},O)),d.outras_doencas&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"Outras doenas:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.outras_doencas})]})]})})]}),(((S=d.alergias)==null?void 0:S.length)>0||d.outras_alergias)&&i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"text-base flex items-center gap-2",children:[i.jsx(Dz,{className:"w-4 h-4"}),"Alergias"]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-2",children:[(N=d.alergias)==null?void 0:N.map((E,O)=>i.jsx(Qe,{variant:"destructive",className:"mr-2",children:E},O)),d.outras_alergias&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"Outras alergias:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.outras_alergias})]})]})})]}),((k=d.medicacoes)==null?void 0:k.length)>0&&i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"text-base flex items-center gap-2",children:[i.jsx(aM,{className:"w-4 h-4"}),"Medicaes"]})}),i.jsx(re,{children:i.jsx("div",{className:"space-y-2",children:d.medicacoes.map((E,O)=>i.jsx(Qe,{variant:"outline",className:"mr-2",children:E},O))})})]}),(d.horas_sono||d.qualidade_sono)&&i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"text-base flex items-center gap-2",children:[i.jsx(rM,{className:"w-4 h-4"}),"Sono"]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-2",children:[d.horas_sono&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Horas de sono:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.horas_sono})]}),d.qualidade_sono&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Qualidade do sono:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.qualidade_sono})]})]})})]}),d.lesoes&&i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"text-base flex items-center gap-2",children:[i.jsx(nz,{className:"w-4 h-4"}),"Leses"]})}),i.jsx(re,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:d.lesoes})})]}),d.updated_at&&i.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["ltima atualizao: ",new Date(d.updated_at).toLocaleDateString("pt-BR")]})]}):i.jsx(V,{children:i.jsxs(re,{className:"text-center py-8",children:[i.jsx(Ro,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Anamnese no preenchida pelo aluno"})]})})]}),i.jsxs(Cn,{value:"medical-exams",className:"space-y-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Exames Mdicos por Categoria"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(V,{className:"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800",children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(lf,{className:"w-6 h-6 text-red-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Sangue"}),i.jsx(Qe,{variant:"secondary",children:x("blood")})]})})}),i.jsx(V,{className:"bg-pink-50 dark:bg-pink-950/20 border-pink-200 dark:border-pink-800",children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Do,{className:"w-6 h-6 text-pink-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Cardio"}),i.jsx(Qe,{variant:"secondary",children:x("cardiology")})]})})}),i.jsx(V,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(uf,{className:"w-6 h-6 text-blue-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Imagem"}),i.jsx(Qe,{variant:"secondary",children:x("imaging")})]})})}),i.jsx(V,{className:"bg-gray-50 dark:bg-gray-950/20 border-gray-200 dark:border-gray-800",children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Ro,{className:"w-6 h-6 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Outros"}),i.jsx(Qe,{variant:"secondary",children:x("others")})]})})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-md font-medium mb-4",children:"Exames Recentes"}),c?i.jsx(V,{children:i.jsx(re,{className:"p-8 text-center text-muted-foreground",children:"Carregando exames mdicos..."})}):o.length===0?i.jsx(V,{children:i.jsxs(re,{className:"p-8 text-center",children:[i.jsx(Ri,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame mdico encontrado."})]})}):i.jsx("div",{className:"space-y-4",children:o.map(E=>i.jsx(V,{children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p(E.category),i.jsx("h4",{className:"font-medium",children:E.title}),i.jsx(Qe,{variant:"outline",className:"text-xs",children:v(E.category)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[i.jsx(rr,{className:"w-4 h-4"}),i.jsx("span",{children:new Date(E.date).toLocaleDateString("pt-BR")})]}),E.notes&&i.jsx("p",{className:"text-sm text-muted-foreground",children:E.notes})]}),E.file_url&&i.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx("a",{href:E.file_url,download:!0,target:"_blank",rel:"noopener noreferrer",children:i.jsx(Ri,{className:"w-4 h-4"})})})]})})},E.id))})]})]})]})})]})},K1e=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),{user:a,userProfile:s}=Ze();return y.useEffect(()=>{if(!a)return;(async()=>{try{if((s==null?void 0:s.user_type)==="teacher"){const{data:l,error:c}=await F.from("products").select("*").eq("instructor_id",a.id).eq("is_published",!0).order("created_at",{ascending:!1});if(c){console.error("Error fetching teacher products:",c);return}t(l||[])}else{const{data:l,error:c}=await F.from("students").select("teacher_id").eq("user_id",a.id).single();if(c){console.error("Error fetching student data:",c),t([]),n(!1);return}if(l!=null&&l.teacher_id){const{data:u,error:d}=await F.from("products").select("*").eq("instructor_id",l.teacher_id).eq("is_published",!0).order("created_at",{ascending:!1});if(d){console.error("Error fetching student products:",d);return}t(u||[])}else t([])}}catch(l){console.error("Error fetching products:",l)}finally{n(!1)}})()},[a,s]),{products:e,loading:r}},Y1e=()=>{const{userProfile:e}=Ze(),{products:t,loading:r}=K1e(),n=Je(),a=(e==null?void 0:e.user_type)==="teacher";return r?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(gr,{className:"w-8 h-8 animate-spin text-accent"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando loja..."})]})}):i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:a?"Meus Produtos":"Loja de Produtos"}),t.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Td,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:a?"Voc ainda no criou nenhum produto. Acesse o Dashboard Professor para criar.":"Nenhum produto disponvel no momento"}),a&&i.jsx(K,{onClick:()=>n("/dashboard-professor"),className:"mt-4",variant:"outline",children:"Ir para Dashboard"})]}):i.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 max-w-7xl mx-auto",children:t.map(s=>i.jsxs("div",{className:"bg-card/60 backdrop-blur-sm border border-border/50 rounded-2xl p-3 sm:p-4 lg:p-5 transition-all duration-300 hover:shadow-lg hover:scale-[1.02] hover:bg-card/80 flex flex-col h-full",children:[i.jsx("div",{className:"mb-3 sm:mb-4 rounded-xl overflow-hidden bg-muted/30 aspect-square flex-shrink-0",children:s.image_url?i.jsx("img",{src:s.image_url,alt:`Imagem do produto ${s.name}`,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-muted/50 to-muted/80",children:i.jsx(Td,{className:"w-8 h-8 sm:w-10 sm:h-10 text-muted-foreground/60"})})}),i.jsxs("div",{className:"flex-1 flex flex-col space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-sm sm:text-base font-semibold text-foreground leading-tight line-clamp-2 mb-2",children:s.name}),s.description&&i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed line-clamp-3 mb-2",children:s.description}),s.category&&i.jsx("span",{className:"inline-block text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:s.category})]}),i.jsxs("div",{className:"space-y-2 mt-auto pt-2 border-t border-border/30",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-base sm:text-lg font-bold text-foreground",children:["R$ ",s.price.toFixed(2)]}),s.stock!==null&&i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${s.stock>0?"text-emerald-600 bg-emerald-100 dark:text-emerald-400 dark:bg-emerald-900/30":"text-destructive bg-destructive/10"}`,children:s.stock>0?`${s.stock} unid.`:"Esgotado"})]}),!a&&i.jsxs(K,{variant:"default",size:"sm",className:"w-full min-h-[40px] text-sm font-medium transition-all duration-300 hover:shadow-md disabled:opacity-50",disabled:s.stock!==null&&s.stock===0,children:[i.jsx(sM,{className:"w-4 h-4 mr-2"}),s.stock!==null&&s.stock===0?"Esgotado":"Comprar"]})]})]})]},s.id))})]})},qL=()=>{const{user:e}=Ze(),{toast:t}=At(),[r,n]=y.useState([]),[a,s]=y.useState(!1),o=async(u,d)=>{if(!e)return t({title:"Erro",description:"Voc precisa estar logado para solicitar desbloqueio",variant:"destructive"}),!1;try{s(!0);const{data:f,error:h}=await F.from("course_unlock_requests").insert([{student_id:e.id,course_id:u,teacher_id:d,status:"pending"}]).select().single();if(h){if(h.code==="23505")t({title:"Solicitao j existe",description:"Voc j solicitou o desbloqueio deste curso",variant:"destructive"});else throw h;return!1}return t({title:"Solicitao enviada",description:"Sua solicitao foi enviada ao professor!"}),l(),!0}catch(f){return console.error("Error creating unlock request:",f),t({title:"Erro",description:"Erro ao enviar solicitao. Tente novamente.",variant:"destructive"}),!1}finally{s(!1)}},l=async()=>{if(e)try{const{data:u,error:d}=await F.from("course_unlock_requests").select("*").eq("student_id",e.id);if(d)throw d;n(u||[])}catch(u){console.error("Error fetching unlock requests:",u)}},c=u=>{const d=r.find(f=>f.course_id===u);return(d==null?void 0:d.status)||"none"};return y.useEffect(()=>{l()},[e]),{requests:r,loading:a,createUnlockRequest:o,getRequestStatus:c,refresh:l}},X1e=()=>{const{user:e}=Ze(),{toast:t}=At(),[r,n]=y.useState(null),[a,s]=y.useState(!1),o=async()=>{if(e)try{s(!0);const{data:u,error:d}=await F.from("teacher_payment_settings").select("*").eq("teacher_id",e.id).single();if(d&&d.code!=="PGRST116")throw d;n(u)}catch(u){console.error("Error fetching payment settings:",u)}finally{s(!1)}},l=async u=>{if(!e||!u.gateway_type)return!1;try{s(!0);const{data:d,error:f}=await F.from("teacher_payment_settings").upsert({teacher_id:e.id,gateway_type:u.gateway_type,credentials:u.credentials||{},is_active:u.is_active||!1,pix_key:u.pix_key||null,commission_rate:u.commission_rate||0},{onConflict:"teacher_id"}).select().single();if(f)throw f;return n(d),t({title:"Configuraes salvas",description:"Configuraes de pagamento atualizadas com sucesso!"}),!0}catch(d){return console.error("Error updating payment settings:",d),t({title:"Erro",description:"Erro ao salvar configuraes de pagamento.",variant:"destructive"}),!1}finally{s(!1)}},c=()=>(r==null?void 0:r.is_active)&&(r==null?void 0:r.gateway_type)&&Object.keys((r==null?void 0:r.credentials)||{}).length>0;return y.useEffect(()=>{o()},[e]),{settings:r,loading:a,updateSettings:l,hasActiveGateway:c(),refresh:o}},Z1e=({course:e,onClose:t,requestStatus:r})=>{const[n,a]=y.useState(!1),[s,o]=y.useState(!1),{createUnlockRequest:l}=qL(),{hasActiveGateway:c}=X1e();if(!e)return null;const u=async()=>{a(!0);const m=await l(e.id,e.instructor);a(!1),m&&setTimeout(()=>{t()},1500)},d=async()=>{if(!(!c||!e.price)){o(!0);try{const{data:m,error:g}=await F.functions.invoke("create-checkout",{body:{course_id:e.id,teacher_id:e.instructor,amount:e.price,course_title:e.title}});if(g)throw g;m!=null&&m.checkout_url&&(window.open(m.checkout_url,"_blank"),t())}catch(m){console.error("Error creating checkout:",m)}finally{o(!1)}}},h=(()=>{switch(r){case"pending":return{icon:i.jsx(tn,{className:"w-5 h-5 text-yellow-500"}),title:"Solicitao Pendente",description:"Sua solicitao foi enviada ao professor e est aguardando aprovao.",buttonText:"Aguardando...",buttonDisabled:!0,badgeColor:"bg-yellow-500/10 text-yellow-600 border-yellow-200"};case"approved":return{icon:i.jsx(Mi,{className:"w-5 h-5 text-green-500"}),title:"Curso Liberado!",description:"O professor aprovou sua solicitao. Voc j pode acessar o curso.",buttonText:"Acessar Curso",buttonDisabled:!1,badgeColor:"bg-green-500/10 text-green-600 border-green-200"};case"rejected":return{icon:i.jsx(ph,{className:"w-5 h-5 text-red-500"}),title:"Solicitao Recusada",description:"O professor no aprovou sua solicitao no momento.",buttonText:"Solicitar Novamente",buttonDisabled:!1,badgeColor:"bg-red-500/10 text-red-600 border-red-200"};default:return{icon:i.jsx(Di,{className:"w-5 h-5 text-primary"}),title:"Curso Premium",description:"Este  um curso pago. Solicite ao professor para ter acesso ao contedo.",buttonText:"Solicitar Desbloqueio",buttonDisabled:!1,badgeColor:"bg-primary/10 text-primary border-primary/20"}}})();return i.jsx(Qa,{open:!!e,onOpenChange:()=>t(),children:i.jsxs(xa,{className:"max-w-md mx-4",children:[i.jsx(ba,{children:i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(Ii,{className:"w-5 h-5 text-primary"}),"Curso Premium"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"aspect-video rounded-lg bg-cover bg-center relative overflow-hidden",style:{backgroundImage:e.thumbnail?`url(${e.thumbnail})`:"linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%)"},children:i.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx(Di,{className:"w-8 h-8 mx-auto mb-2 opacity-80"}),i.jsx("p",{className:"text-sm font-medium",children:"Contedo Bloqueado"})]})})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-foreground text-lg",children:e.title}),i.jsx(Qe,{className:`${h.badgeColor} text-xs`,children:"Premium"})]}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.total_lessons&&i.jsxs("span",{children:[e.total_lessons," aulas"]}),e.price&&i.jsxs("span",{className:"font-medium text-primary",children:["R$ ",e.price.toFixed(2)]})]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.icon,i.jsx("h4",{className:"font-medium text-foreground",children:h.title})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),i.jsxs("div",{className:"space-y-3",children:[c&&e.price&&r==="none"&&i.jsx(K,{onClick:d,disabled:s,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:s?"Processando...":i.jsxs(i.Fragment,{children:[i.jsx(sM,{className:"w-4 h-4 mr-2"}),"Comprar Curso - R$ ",e.price.toFixed(2)]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(K,{onClick:t,variant:"outline",className:"flex-1",children:"Fechar"}),r!=="approved"&&i.jsx(K,{onClick:u,disabled:h.buttonDisabled||n,variant:c&&e.price?"outline":"default",className:"flex-1",children:n?"Enviando...":c&&e.price?"Solicitar Acesso":h.buttonText}),r==="approved"&&i.jsx(K,{onClick:t,className:"flex-1",children:"Acessar Curso"})]})]})]})]})})},xS=()=>{const{user:e}=Ze(),[t,r]=y.useState(null),[n,a]=y.useState(!0),[s,o]=y.useState(null);y.useEffect(()=>{let u;if(!(e!=null&&e.id)){r(null),a(!1);return}a(!0);try{u=RH(e.id,d=>{r(d),a(!1)})}catch(d){console.error("Error subscribing to student profile:",d),o((d==null?void 0:d.message)||"Erro ao carregar perfil"),a(!1)}return()=>{try{u&&u()}catch{}}},[e==null?void 0:e.id]);const l=y.useCallback(async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");o(null);try{const d={user_id:e.id,...u},f=await DH(d);return(f==null?void 0:f.id)??"ok"}catch(d){throw console.error("Error creating student profile:",d),o((d==null?void 0:d.message)||"Erro ao criar perfil"),d}},[e==null?void 0:e.id]),c=y.useCallback(async u=>{if(!(t!=null&&t.id))throw new Error("Student profile not loaded");o(null);try{await LH(t.id,u)}catch(d){throw console.error("Error updating profile:",d),o((d==null?void 0:d.message)||"Erro ao atualizar perfil"),d}},[t==null?void 0:t.id]);return{student:t,loading:n,error:s,createStudentProfile:l,updateProfile:c,isActive:(t==null?void 0:t.membership_status)==="active",hasTeacher:!!(t!=null&&t.teacher_id)}},Q1e=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),{user:a,userProfile:s}=Ze();return y.useEffect(()=>{if(!a||!s)return;(async()=>{try{let l=F.from("courses").select("id, title, description, thumbnail, instructor, is_free, price, total_lessons").eq("is_published",!0);if((s==null?void 0:s.user_type)==="teacher")l=l.eq("instructor",a.id);else{const{data:j}=await F.from("students").select("teacher_id").eq("user_id",a.id).maybeSingle();console.log("useAllModules: Student data:",j),j!=null&&j.teacher_id?l=l.eq("instructor",j.teacher_id):l=l.eq("is_free",!0)}const{data:c,error:u}=await l;if(u){console.error("useAllModules: Error fetching courses:",u);return}if(!c||c.length===0){t([]);return}const{data:d}=await F.from("user_purchases").select("course_id").eq("user_id",a.id),f=(d==null?void 0:d.map(j=>j.course_id))||[];console.log("useAllModules: User purchases:",f);const h=c.map(j=>j.id);console.log("useAllModules: Course IDs to fetch modules for:",h);const{data:m,error:g}=await F.from("course_modules").select(`
            id,
            title,
            description,
            cover_image_url,
            course_id,
            order_index,
            is_published
          `).in("course_id",h).eq("is_published",!0).order("course_id",{ascending:!0}).order("order_index",{ascending:!0});g&&console.error("useAllModules: Error fetching modules:",g);const p=m.map(j=>j.id),{data:v,error:x}=await F.from("course_lessons").select("module_id, id").in("module_id",p).eq("is_published",!0);x&&console.error("useAllModules: Error fetching lessons count:",x);const b=(v==null?void 0:v.reduce((j,_)=>(j[_.module_id]=(j[_.module_id]||0)+1,j),{}))||{},w=c.map(j=>{const _=(m||[]).filter(k=>k.course_id===j.id).map(k=>{const E=j.is_free||f.includes(j.id)||(s==null?void 0:s.user_type)==="teacher";return{id:k.id,title:k.title,description:k.description||"",cover_image_url:k.cover_image_url||j.thumbnail||"",course_id:k.course_id,course_title:j.title||"",course_thumbnail:j.thumbnail||"",order_index:k.order_index,lessons_count:b[k.id]||0,hasAccess:E}}),S=j.is_free||f.includes(j.id)||(s==null?void 0:s.user_type)==="teacher";return{id:j.id,title:j.title,description:j.description||"",thumbnail:j.thumbnail||"",instructor:j.instructor,is_free:j.is_free,price:j.price,hasAccess:S,total_lessons:j.total_lessons||0,modules:_}});t(w)}catch(l){console.error("useAllModules: Unexpected error:",l)}finally{n(!1)}})()},[a,s]),{courses:e,loading:r}},J1e=()=>{const{user:e,userProfile:t}=Ze();xS();const{courses:r,loading:n}=Q1e(),{getRequestStatus:a}=qL(),[s,o]=y.useState("modules"),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),m=Je(),g=(t==null?void 0:t.user_type)==="teacher",p=(v,x)=>{v.hasAccess?c(v):h(x)};return l?i.jsx(q1e,{module:l,courseTitle:l.course_title,onBack:()=>c(null)}):u?i.jsx(G1e,{student:u,onBack:()=>d(null)}):n?i.jsx("div",{className:"p-4 pt-8 pb-24 flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(gr,{className:"w-8 h-8 animate-spin text-accent"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando mdulos..."})]})}):i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("div",{className:"mb-4",children:i.jsx("img",{src:"/lovable-uploads/2133926f-121d-45ce-8cff-80c84a1a0856.png",alt:"Shape Pro Logo",className:"w-32 h-auto mx-auto"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Bem-vindo,"}),i.jsx("h2",{className:"text-xl text-foreground mb-4",children:"rea de membros!"}),i.jsxs(K,{className:"btn-primary w-32 h-12 mb-6",children:[i.jsx(Va,{className:"w-4 h-4 mr-2"}),"Assistir"]})]}),i.jsxs("div",{className:"flex gap-2 mb-6",children:[i.jsxs(K,{onClick:()=>o("modules"),className:`flex-1 h-12 rounded-xl font-medium transition-all duration-300 ${s==="modules"?"btn-primary":"btn-secondary"}`,children:[i.jsx(Td,{className:"w-4 h-4 mr-2"}),"Mdulos"]}),i.jsxs(K,{onClick:()=>o("shop"),className:`flex-1 h-12 rounded-xl font-medium transition-all duration-300 ${s==="shop"?"btn-primary":"btn-secondary"}`,children:[i.jsx(Tz,{className:"w-4 h-4 mr-2"}),g?"Produtos":"Loja"]}),g&&i.jsxs(K,{onClick:()=>o("students"),className:`flex-1 h-12 rounded-xl font-medium transition-all duration-300 ${s==="students"?"btn-primary":"btn-secondary"}`,children:[i.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Alunos"]})]}),s==="modules"&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:r.length===0?g?"Cursos Publicados":"Cursos Disponveis":r.length===1?`Curso: ${r[0].title}`:g?"Seus Cursos":"Cursos Disponveis"}),r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Td,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:g?"Voc ainda no publicou nenhum curso. Acesse o Dashboard Professor para criar.":"Nenhum curso disponvel no momento"}),g&&i.jsx(K,{onClick:()=>m("/dashboard-professor"),className:"mt-4",variant:"outline",children:"Ir para Dashboard"})]}):i.jsx("div",{className:"space-y-6",children:r.map(v=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold text-foreground",children:v.title}),!v.is_free&&i.jsxs(Qe,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20 text-xs",children:[i.jsx(Ii,{className:"w-3 h-3 mr-1"}),"Premium"]}),!v.hasAccess&&!v.is_free&&i.jsxs(Qe,{variant:"destructive",className:"text-xs",children:[i.jsx(Di,{className:"w-3 h-3 mr-1"}),"Bloqueado"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!v.is_free&&!v.hasAccess&&i.jsx(K,{size:"sm",variant:"outline",onClick:()=>h(v),className:"text-xs h-7",children:"Desbloquear"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.modules.length," mdulos"]})]})]}),v.modules.length>0?i.jsx("div",{className:"px-1",children:i.jsx("div",{className:"flex flex-nowrap gap-4 overflow-x-auto pb-4 scrollbar-hide",children:v.modules.map(x=>i.jsx("div",{onClick:()=>p(x,v),className:"relative w-40 flex-shrink-0 rounded-2xl overflow-hidden hover:scale-105 transition-all duration-300 cursor-pointer bg-card border border-border/50",children:i.jsxs("div",{className:"aspect-[2/3] bg-cover bg-center relative",style:{backgroundImage:x.cover_image_url?`url(${x.cover_image_url})`:"linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%)"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),!x.hasAccess&&i.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:i.jsx(Di,{className:"w-8 h-8 text-white/80"})}),i.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[i.jsx("p",{className:"text-xs text-white/70 mb-1 leading-tight truncate",children:x.course_title}),i.jsx("h4",{className:"text-sm font-semibold text-white mb-1 leading-tight",children:x.title}),i.jsxs("p",{className:"text-xs text-white/80 leading-tight",children:[x.lessons_count," aulas"]})]})]})},x.id))})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Td,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Este curso ainda no possui mdulos disponveis"}),!v.hasAccess&&i.jsxs(K,{size:"sm",className:"mt-4",onClick:()=>h(v),children:["Desbloquear Curso - R$ ",v.price||0]})]})]},v.id))})]}),s==="shop"&&i.jsx(Y1e,{}),s==="students"&&g&&i.jsx(V1e,{onSelectStudent:d}),i.jsx(Z1e,{course:f?{id:f.id,title:f.title,description:f.description,price:f.price||0,thumbnail:f.thumbnail,instructor:f.instructor,total_lessons:f.total_lessons}:null,onClose:()=>h(null),requestStatus:f?a(f.id):"none"})]})},eje="/assets/shape-pro-logo-main-CNbfzRYH.png",tje=({className:e="h-16 w-auto"})=>i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("img",{src:eje,alt:"Shape Pro Logo",className:e})}),rje=()=>{const{user:e}=Yt(),[t,r]=y.useState([]),[n,a]=y.useState(null),[s,o]=y.useState([]),[l,c]=y.useState(!1),[u,d]=y.useState(null),f=async()=>{if(e)try{const{data:v,error:x}=await F.from("ai_conversations").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});if(x)throw x;o(v||[])}catch(v){console.error("Error loading conversations:",v),d(v instanceof Error?v.message:"Failed to load conversations")}},h=async v=>{if(e)try{const{data:x,error:b}=await F.from("ai_messages").select("*").eq("conversation_id",v).order("created_at",{ascending:!0});if(b)throw b;const w=(x||[]).map(j=>({id:j.id,role:j.role,content:j.content,timestamp:new Date(j.created_at),metadata:j.metadata}));r(w)}catch(x){console.error("Error loading messages:",x),d(x instanceof Error?x.message:"Failed to load messages")}},m=async v=>{if(!e)throw new Error("User not authenticated");c(!0),d(null);try{const x={id:`temp-${Date.now()}`,role:"user",content:v,timestamp:new Date};r(N=>[...N,x]);const{data:b,error:w}=await F.functions.invoke("ai-assistant",{body:{message:v,conversationId:n==null?void 0:n.id}});if(w)throw w;const j=b.response,_=b.conversationId;if(!n){const{data:N}=await F.from("ai_conversations").select("*").eq("id",_).single();N&&a(N)}const S={id:`ai-${Date.now()}`,role:"assistant",content:j,timestamp:new Date};return r(N=>[...N.filter(E=>E.id!==x.id),x,S]),f(),j}catch(x){console.error("Error sending message:",x);const b=x instanceof Error?x.message:"Failed to send message";throw d(b),r(w=>w.filter(j=>j.id!==`temp-${Date.now()}`)),new Error(b)}finally{c(!1)}},g=()=>{a(null),r([]),d(null)},p=async v=>{const x=s.find(b=>b.id===v);x&&(a(x),await h(v))};return y.useEffect(()=>{e?f():(o([]),r([]),a(null))},[e]),{messages:t,conversations:s,currentConversation:n,loading:l,error:u,sendMessage:m,startNewConversation:g,loadConversation:p,loadConversations:f}},nje=()=>{const{user:e,userProfile:t}=Yt(),{awardAIInteractionPoints:r}=Yj(),n=((t==null?void 0:t.name)||"Usurio").trim().split(/\s+/)[0],{messages:a,loading:s,sendMessage:o}=rje(),[l,c]=y.useState(""),[u,d]=y.useState(!1),f=y.useRef(null),h=()=>{var v;(v=f.current)==null||v.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{h()},[a]);const m=async()=>{if(!l.trim()||s)return;const v=l;c("");try{await o(v),await r()}catch(x){console.error("Error sending message:",x),ke.error("Erro ao enviar mensagem. Tente novamente.")}},g=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),m())},p=v=>v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex flex-col h-screen relative bg-gradient-dark",children:[i.jsxs("div",{className:"p-3 sm:p-4 pt-6 sm:pt-8 text-center bg-gradient-to-b from-card/90 to-transparent border-b border-border/20",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 sm:mb-4",children:[i.jsx(rr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-muted-foreground"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date().toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"})})]}),i.jsx("div",{className:"mb-4 sm:mb-6",children:i.jsx(tje,{className:"h-16 sm:h-24 md:h-32 w-auto mx-auto"})}),i.jsx("div",{children:i.jsxs("h1",{className:"text-lg sm:text-2xl font-bold text-foreground",children:["Ol, ",i.jsxs("span",{className:"text-gradient-primary",children:[n,"!"]})]})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-32 space-y-4",children:[a.length===0&&!s&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(nk,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsxs("p",{className:"text-muted-foreground",children:["Ol, ",n,"!  Sou seu Coach IA da Shape Pro. Estou aqui para te guiar com base nos seus dados reais. Como posso ajudar?"]})]}),a.map(v=>i.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[80%] ${v.role==="user"?"order-2":"order-1"}`,children:[v.role==="assistant"&&i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-full flex items-center justify-center shadow-glow",children:i.jsx(nk,{className:"w-5 h-5 text-primary-foreground"})}),i.jsx("span",{className:"text-sm font-semibold text-primary",children:"Coach Shape Pro"})]}),i.jsxs(V,{className:`p-3 ${v.role==="user"?"bg-primary text-background ml-auto":"bg-card/50 border-border/50"}`,children:[i.jsx("p",{className:`text-sm whitespace-pre-wrap ${v.role==="user"?"text-background":"text-foreground"}`,children:v.content}),i.jsx("p",{className:`text-xs mt-1 ${v.role==="user"?"text-background/70":"text-muted-foreground"}`,children:p(v.timestamp)})]})]})},v.id)),s&&i.jsx("div",{className:"flex justify-start",children:i.jsxs("div",{className:"max-w-[80%]",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-full flex items-center justify-center shadow-glow",children:i.jsx(gr,{className:"w-5 h-5 text-primary-foreground animate-spin"})}),i.jsx("span",{className:"text-sm font-semibold text-primary",children:"Coach Shape Pro"})]}),i.jsx(V,{className:"p-3 bg-card/50 border-border/50",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Analisando seus dados e preparando resposta personalizada..."})})]})}),i.jsx("div",{ref:f})]}),i.jsx("div",{className:"fixed bottom-16 sm:bottom-20 left-0 right-0 p-2 sm:p-3 bg-gradient-to-t from-background via-background/95 to-transparent",children:i.jsxs("div",{className:"flex items-end gap-1.5 sm:gap-2 bg-card/80 backdrop-blur-md border border-border/50 rounded-xl sm:rounded-2xl p-1.5 sm:p-2 w-full max-w-full sm:max-w-lg mx-auto shadow-lg",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("textarea",{value:l,onChange:v=>c(v.target.value),onKeyPress:g,placeholder:"Digite sua mensagem...",className:"w-full px-2 sm:px-3 py-2 sm:py-2.5 bg-transparent border-none resize-none text-foreground placeholder:text-muted-foreground focus:outline-none text-sm leading-5",rows:1,style:{minHeight:"36px",maxHeight:"100px"}})}),i.jsx(K,{size:"sm",onClick:m,disabled:!l.trim()||s,className:"btn-primary h-8 w-8 sm:h-10 sm:w-10 shrink-0 rounded-lg sm:rounded-xl",children:s?i.jsx(gr,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}):i.jsx(_j,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})})]})},aje=()=>{var u;const{userPoints:e,activities:t,achievements:r,userAchievements:n,challenges:a,loading:s,getLevelInfo:o,joinChallenge:l}=Sh();if(s)return i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"h-32 bg-card/60 border border-border/50 rounded-lg animate-pulse"}),i.jsx("div",{className:"h-64 bg-card/60 border border-border/50 rounded-lg animate-pulse"})]});const c=e?o(e.total_points):null;return i.jsxs("div",{className:"p-3 pb-20 space-y-4 w-full max-w-4xl mx-auto",children:[i.jsx(V,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:i.jsxs(re,{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Gamificao"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Seu progresso e conquistas"})]}),i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-2 mb-1",children:[i.jsx(Nr,{className:"w-5 h-5 text-warning"}),i.jsx("span",{className:"text-xl sm:text-2xl font-bold text-foreground",children:((u=e==null?void 0:e.total_points)==null?void 0:u.toLocaleString("pt-BR"))||"0"})]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"pontos totais"})]})]}),c&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Qe,{variant:"outline",className:"px-3 py-1",children:[i.jsx(mh,{className:"w-4 h-4 mr-1"}),c.name]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Nvel ",c.level]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(nl,{value:c.progress,className:"h-2"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.progressToNext," / ",c.pointsNeeded," pontos para o prximo nvel"]})]})]})]})}),i.jsxs(Pv,{defaultValue:"overview",className:"space-y-4",children:[i.jsxs(_h,{className:"grid w-full grid-cols-3 h-auto",children:[i.jsxs(Pn,{value:"overview",className:"text-xs sm:text-sm py-2 px-1",children:[i.jsx("span",{className:"hidden sm:inline",children:"Viso Geral"}),i.jsx("span",{className:"sm:hidden",children:"Geral"})]}),i.jsxs(Pn,{value:"achievements",className:"text-xs sm:text-sm py-2 px-1",children:[i.jsx("span",{className:"hidden sm:inline",children:"Conquistas"}),i.jsx("span",{className:"sm:hidden",children:"Metas"})]}),i.jsx(Pn,{value:"challenges",className:"text-xs sm:text-sm py-2 px-1",children:"Desafios"})]}),i.jsxs(Cn,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[i.jsx(V,{children:i.jsxs(re,{className:"p-3 sm:p-4 text-center",children:[i.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(Nr,{className:"w-4 h-4 text-primary"})}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:(e==null?void 0:e.level)||1}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nvel Atual"})]})}),i.jsx(V,{children:i.jsxs(re,{className:"p-3 sm:p-4 text-center",children:[i.jsx("div",{className:"w-8 h-8 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(Mo,{className:"w-4 h-4 text-secondary"})}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:n.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Conquistas"})]})}),i.jsx(V,{children:i.jsxs(re,{className:"p-3 sm:p-4 text-center",children:[i.jsx("div",{className:"w-8 h-8 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(Ac,{className:"w-4 h-4 text-accent"})}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:(e==null?void 0:e.current_streak)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sequncia"})]})}),i.jsx(V,{children:i.jsxs(re,{className:"p-3 sm:p-4 text-center",children:[i.jsx("div",{className:"w-8 h-8 bg-muted/40 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(Lo,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:(e==null?void 0:e.longest_streak)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Melhor Sequncia"})]})})]}),i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(rr,{className:"w-5 h-5"}),"Atividades Recentes"]})}),i.jsx(re,{className:"p-4",children:i.jsx("div",{className:"space-y-3 max-h-48 sm:max-h-64 overflow-y-auto",children:t.length>0?t.slice(0,10).map(d=>i.jsxs("div",{className:"flex items-start justify-between py-3 border-b border-border/50 last:border-0 gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:d.description}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]}),i.jsxs(Qe,{variant:"secondary",className:"text-xs shrink-0",children:["+",d.points_earned]})]},d.id)):i.jsxs("div",{className:"text-center py-6 sm:py-8",children:[i.jsx(Nr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma atividade ainda. Comece a usar o app para ganhar pontos!"})]})})})]})]}),i.jsx(Cn,{value:"achievements",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4",children:[n.length>0&&i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(Mo,{className:"w-5 h-5 text-warning"}),"Conquistas Desbloqueadas (",n.length,")"]})}),i.jsx(re,{className:"p-4",children:i.jsx("div",{className:"space-y-3",children:n.map(d=>i.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg bg-gradient-to-r from-primary/5 to-secondary/5",children:[i.jsx("div",{className:"w-10 h-10 bg-warning/20 rounded-full flex items-center justify-center shrink-0",children:i.jsx(Mo,{className:"w-5 h-5 text-warning"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-sm",children:d.achievement.title}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:d.achievement.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[i.jsx(Qe,{variant:"outline",className:"text-xs",children:d.achievement.rarity}),i.jsxs("span",{className:"text-xs text-warning font-medium",children:["+",d.points_earned," pts"]})]})]})]},d.id))})})]}),i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-5 h-5"}),"Conquistas Disponveis"]})}),i.jsxs(re,{className:"p-4",children:[i.jsx("div",{className:"space-y-3",children:r.filter(d=>!n.some(f=>f.achievement_id===d.id)).map(d=>i.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg opacity-70",children:[i.jsx("div",{className:"w-10 h-10 bg-muted/20 rounded-full flex items-center justify-center shrink-0",children:i.jsx(Nr,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-sm",children:d.title}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:d.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[i.jsx(Qe,{variant:"outline",className:"text-xs",children:d.rarity}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",d.points_reward," pts"]})]})]})]},d.id))}),r.length===0&&i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma conquista disponvel no momento"})]})]})]})}),i.jsx(Cn,{value:"challenges",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4",children:[a.map(d=>{var f,h,m,g;return i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx(gt,{className:"text-lg",children:d.title}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d.description})]}),i.jsx(Qe,{variant:(f=d.participation)!=null&&f.completed?"default":"outline",children:(h=d.participation)!=null&&h.completed?"Concludo":"Ativo"})]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Progresso:"}),i.jsxs("span",{children:[((m=d.participation)==null?void 0:m.current_progress)||0," / ",d.target_value]})]}),i.jsx(nl,{value:(((g=d.participation)==null?void 0:g.current_progress)||0)/d.target_value*100,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[new Date(d.start_date).toLocaleDateString("pt-BR")," - ",new Date(d.end_date).toLocaleDateString("pt-BR")]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Nr,{className:"w-3 h-3"}),d.points_reward," pts"]})]}),!d.participation&&i.jsx("button",{onClick:()=>l(d.id),className:"w-full bg-primary text-primary-foreground px-4 py-3 rounded-md text-sm font-medium hover:bg-primary/90 transition-colors touch-manipulation",children:"Aceitar Desafio"})]})})]},d.id)}),a.length===0&&i.jsx(V,{children:i.jsxs(re,{className:"p-6 sm:p-8 text-center",children:[i.jsx(En,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum desafio ativo no momento"})]})})]})})]})]})},VL=()=>{const{user:e,userProfile:t}=Ze();return y.useEffect(()=>{if(!e||!t)return;console.log("Chat Notifications: Setting up real-time chat message listener");const r=F.channel("chat-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},async n=>{const a=n.new;if(a.sender_id!==e.id){console.log("Chat Notifications: New message received:",a);try{const{data:s}=await F.from("conversations").select("*").eq("id",a.conversation_id).single();if(!s||!(s.student_id===e.id||s.teacher_id===e.id))return;console.log("Chat Notifications: Message processed for user participation")}catch(s){console.error("Chat Notifications: Error processing message:",s)}}}).subscribe();return()=>{console.log("Chat Notifications: Cleaning up real-time subscription"),F.removeChannel(r)}},[e,t]),null},sje=()=>{const[e]=Hi(),[t,r]=y.useState("home");VL(),y.useEffect(()=>{const o=e.get("tab");o&&r(o)},[e]);const n=()=>{r("assistant")},a=()=>{r("workouts")},s=()=>{switch(t){case"home":return i.jsx(lO,{onCoachClick:n,onWorkoutClick:a});case"workouts":return i.jsx(NL,{});case"nutrition":return i.jsx(f1e,{});case"gamification":return i.jsx(aje,{});case"members":return i.jsx(J1e,{});case"assistant":return i.jsx(nje,{});case"profile":return i.jsx(U1e,{});default:return i.jsx(lO,{onCoachClick:n,onWorkoutClick:a})}};return i.jsxs(lc,{children:[s(),i.jsx(IG,{activeTab:t,onTabChange:r})]})},ije=()=>{const e=xh();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ys=({children:e,title:t,description:r})=>i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(V,{className:"w-full max-w-md",children:[i.jsxs(ft,{className:"text-center",children:[i.jsx("div",{className:"mb-6",children:i.jsx("img",{src:"/lovable-uploads/11efc078-c8bc-4ac4-9d94-1e18b4e6a54d.png",alt:"Shape Pro - Consultoria Online",className:"h-16 w-auto mx-auto"})}),t&&i.jsx("h1",{className:"text-2xl font-bold",children:t}),r&&i.jsx("p",{className:"text-muted-foreground mt-2",children:r})]}),i.jsx(re,{children:e})]})}),Ci=({status:e,successMessage:t="Operao realizada com sucesso!",errorMessage:r="Ocorreu um erro. Tente novamente.",redirectPath:n="/",redirectDelay:a=3e3,onRetry:s})=>{const o=Je(),{toast:l}=At(),[c,u]=y.useState(a/1e3);return y.useEffect(()=>{if(e==="success"){l({title:"Sucesso!",description:t});const f=setInterval(()=>{u(h=>h<=1?(clearInterval(f),o(n),0):h-1)},1e3);return()=>clearInterval(f)}e==="error"&&l({title:"Erro",description:r,variant:"destructive"})},[e,t,r,n,o,l]),(()=>{switch(e){case"loading":return i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx(gr,{className:"h-12 w-12 animate-spin text-primary"}),i.jsx("p",{className:"text-center text-muted-foreground",children:"Processando..."})]});case"success":return i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx(Mi,{className:"h-12 w-12 text-green-500"}),i.jsx("p",{className:"text-center",children:t}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Redirecionando em ",c," segundos..."]}),i.jsx(K,{onClick:()=>o(n),className:"w-full",children:"Continuar Agora"})]});case"error":return i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx(jj,{className:"h-12 w-12 text-destructive"}),i.jsx("p",{className:"text-center text-destructive",children:r}),i.jsxs("div",{className:"flex flex-col w-full space-y-2",children:[s&&i.jsx(K,{onClick:s,className:"w-full",children:"Tentar Novamente"}),i.jsx(K,{variant:"outline",onClick:()=>o("/"),className:"w-full",children:"Voltar ao Incio"})]})]});default:return null}})()},Wu=e=>({type:e.get("type")||"",token_hash:e.get("token_hash")||void 0,email:e.get("email")||void 0,redirect_to:e.get("redirect_to")||void 0,error:e.get("error")||void 0,error_code:e.get("error_code")||void 0,error_description:e.get("error_description")||void 0}),Rh=async e=>{if(!e)try{const{data:{user:t}}=await F.auth.getUser();if(t){const{data:r}=await F.from("profiles").select("user_type").eq("id",t.id).single();e=r==null?void 0:r.user_type}}catch(t){console.error("Error getting user type:",t)}switch(e){case"teacher":return"/dashboard-professor";case"student":return"/";default:return"/"}},Dh=async e=>{const{type:t,token_hash:r,error:n}=e;if(n)throw new Error(e.error_description||n);if(!r)throw new Error("Token de autenticao no encontrado");switch(t){case"signup":case"email_confirmation":const{error:a}=await F.auth.verifyOtp({token_hash:r,type:"email"});if(a)throw a;break;case"recovery":case"password_recovery":const{error:s}=await F.auth.exchangeCodeForSession(r);if(s)throw s;break;case"email_change":const{error:o}=await F.auth.verifyOtp({token_hash:r,type:"email_change"});if(o)throw o;break;case"invite":case"magiclink":const{error:l}=await F.auth.verifyOtp({token_hash:r,type:"magiclink"});if(l)throw l;break;default:throw new Error(`Tipo de ao no reconhecido: ${t}`)}},oje=e=>{switch(e){case"signup":case"email_confirmation":return"Confirmao de Email";case"recovery":case"password_recovery":return"Recuperao de Senha";case"email_change":return"Alterao de Email";case"invite":return"Convite Aceito";case"magiclink":return"Login por Link Mgico";default:return"Autenticao"}},lje=e=>{switch(e){case"signup":case"email_confirmation":return"Sua conta foi confirmada com sucesso!";case"recovery":case"password_recovery":return"Agora voc pode definir uma nova senha.";case"email_change":return"Seu email foi alterado com sucesso!";case"invite":return"Convite aceito! Bem-vindo  Shape Pro!";case"magiclink":return"Login realizado com sucesso!";default:return"Processando sua solicitao..."}},cje=()=>{const[e]=Hi(),[t,r]=y.useState("loading"),[n,a]=y.useState("/"),[s,o]=y.useState(""),[l,c]=y.useState("");y.useEffect(()=>{(async()=>{try{const f=Wu(e);o(f.type),await Dh(f);const h=await Rh();a(h),r("success")}catch(f){console.error("Confirmation error:",f),c(f.message||"Erro ao processar confirmao"),r("error")}})()},[e]);const u=()=>{r("loading"),window.location.reload()};return i.jsx(ys,{title:oje(s),description:t==="loading"?"Processando sua solicitao...":void 0,children:i.jsx(Ci,{status:t,successMessage:lje(s),errorMessage:l,redirectPath:n,onRetry:u})})},uje=()=>{const[e]=Hi(),t=Je(),{toast:r}=At(),[n,a]=y.useState("loading"),[s,o]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState(!1),[f,h]=y.useState(!1),[m,g]=y.useState(!1),[p,v]=y.useState(""),[x,b]=y.useState("/");y.useEffect(()=>{(async()=>{try{const S=Wu(e);if(S.error)throw new Error(S.error_description||S.error);await Dh(S);const N=await Rh();b(N),a("form")}catch(S){console.error("Recovery error:",S),v(S.message||"Token de recuperao invlido ou expirado"),a("error")}})()},[e]);const w=async _=>{if(_.preventDefault(),s!==l){r({title:"Erro",description:"As senhas no coincidem",variant:"destructive"});return}if(s.length<6){r({title:"Erro",description:"A senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}g(!0);try{const{error:S}=await F.auth.updateUser({password:s});if(S)throw S;a("success")}catch(S){console.error("Password update error:",S),r({title:"Erro",description:S.message||"Erro ao atualizar senha",variant:"destructive"})}finally{g(!1)}},j=()=>{a("loading"),window.location.reload()};return n==="loading"?i.jsx(ys,{title:"Recuperao de Senha",children:i.jsx(Ci,{status:"loading",onRetry:j})}):n==="error"?i.jsx(ys,{title:"Erro na Recuperao",children:i.jsx(Ci,{status:"error",errorMessage:p,onRetry:j})}):n==="success"?i.jsx(ys,{title:"Senha Atualizada",children:i.jsx(Ci,{status:"success",successMessage:"Sua senha foi atualizada com sucesso!",redirectPath:x})}):i.jsx(ys,{title:"Nova Senha",description:"Defina sua nova senha para acessar sua conta",children:i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"password",children:"Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"password",type:u?"text":"password",value:s,onChange:_=>o(_.target.value),placeholder:"Digite sua nova senha",required:!0,minLength:6}),i.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!u),children:u?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(Ko,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(xe,{id:"confirmPassword",type:f?"text":"password",value:l,onChange:_=>c(_.target.value),placeholder:"Confirme sua nova senha",required:!0,minLength:6}),i.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),children:f?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(Ko,{className:"h-4 w-4"})})]})]}),i.jsx(K,{type:"submit",className:"w-full",disabled:m,children:m?"Atualizando...":"Atualizar Senha"}),i.jsx(K,{type:"button",variant:"outline",className:"w-full",onClick:()=>t("/"),children:"Cancelar"})]})})},dje=()=>{const[e]=Hi(),[t,r]=y.useState("loading"),[n,a]=y.useState("/"),[s,o]=y.useState("");y.useEffect(()=>{(async()=>{try{const u=Wu(e);await Dh(u);const d=await Rh();a(d),r("success")}catch(u){console.error("Invite error:",u),o(u.message||"Erro ao processar convite"),r("error")}})()},[e]);const l=()=>{r("loading"),window.location.reload()};return i.jsx(ys,{title:"Convite Aceito",description:t==="loading"?"Processando seu convite...":void 0,children:i.jsx(Ci,{status:t,successMessage:"Convite aceito com sucesso! Bem-vindo  Shape Pro!",errorMessage:s,redirectPath:n,onRetry:l})})},fje=()=>{const[e]=Hi(),[t,r]=y.useState("loading"),[n,a]=y.useState("/"),[s,o]=y.useState("");y.useEffect(()=>{(async()=>{try{const u=Wu(e);await Dh(u);const d=await Rh();a(d),r("success")}catch(u){console.error("Magic link error:",u),o(u.message||"Erro ao processar link mgico"),r("error")}})()},[e]);const l=()=>{r("loading"),window.location.reload()};return i.jsx(ys,{title:"Login por Link Mgico",description:t==="loading"?"Processando seu login...":void 0,children:i.jsx(Ci,{status:t,successMessage:"Login realizado com sucesso!",errorMessage:s,redirectPath:n,onRetry:l})})},hje=()=>{const[e]=Hi(),[t,r]=y.useState("loading"),[n,a]=y.useState("/"),[s,o]=y.useState("");y.useEffect(()=>{(async()=>{try{const u=Wu(e);await Dh(u);const d=await Rh();a(d),r("success")}catch(u){console.error("Email change error:",u),o(u.message||"Erro ao processar alterao de email"),r("error")}})()},[e]);const l=()=>{r("loading"),window.location.reload()};return i.jsx(ys,{title:"Alterao de Email",description:t==="loading"?"Processando alterao...":void 0,children:i.jsx(Ci,{status:t,successMessage:"Email alterado com sucesso!",errorMessage:s,redirectPath:n,onRetry:l})})},mje=()=>{const[e]=Hi(),[t,r]=y.useState(""),[n,a]=y.useState("");return y.useEffect(()=>{const s=Wu(e),o=s.error_description||s.error||"Ocorreu um erro durante a autenticao";if(r(o),s.error_code)switch(s.error_code){case"invalid_request":a("Link invlido ou expirado. Solicite um novo link.");break;case"unauthorized":a("Acesso no autorizado. Verifique suas credenciais.");break;case"access_denied":a("Acesso negado. Entre em contato com o suporte.");break;case"server_error":a("Erro no servidor. Tente novamente em alguns minutos.");break;default:a("Entre em contato com o suporte se o problema persistir.")}else a("Entre em contato com o suporte se o problema persistir.")},[e]),i.jsx(ys,{title:"Erro de Autenticao",description:"No foi possvel processar sua solicitao",children:i.jsxs("div",{className:"space-y-4 text-center",children:[i.jsx(Ci,{status:"error",errorMessage:t}),n&&i.jsxs("div",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:[i.jsx("p",{className:"font-medium mb-2",children:"Detalhes:"}),i.jsx("p",{children:n})]})]})})};function bS(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wy="Checkbox",[pje,jEe]=Ur(wy),[gje,wS]=pje(wy);function vje(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=fa({prop:r,defaultProp:a??!1,onChange:c,caller:wy}),[g,p]=y.useState(null),[v,x]=y.useState(null),b=y.useRef(!1),w=g?!!o||!!g.closest("form"):!0,j={checked:h,disabled:s,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Oi(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:x};return i.jsx(gje,{scope:t,...j,children:yje(f)?f(j):n})}var HL="CheckboxTrigger",GL=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=wS(HL,e),p=De(a,d),v=y.useRef(c);return y.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const b=()=>f(v.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[s,f]),i.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Oi(c)?"mixed":c,"aria-required":u,"data-state":QL(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:ge(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ge(r,x=>{f(b=>Oi(b)?!0:!b),g&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});GL.displayName=HL;var jS=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(vje,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(GL,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(ZL,{__scopeCheckbox:r})]})})});jS.displayName=wy;var KL="CheckboxIndicator",YL=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=wS(KL,r);return i.jsx(Wr,{present:n||Oi(s.checked)||s.checked===!0,children:i.jsx(_e.span,{"data-state":QL(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});YL.displayName=KL;var XL="CheckboxBubbleInput",ZL=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=wS(XL,e),g=De(r,m),p=bS(s),v=Tj(n);y.useEffect(()=>{const b=h;if(!b)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,S=!a.current;if(p!==s&&_){const N=new Event("click",{bubbles:S});b.indeterminate=Oi(s),_.call(b,Oi(s)?!1:s),b.dispatchEvent(N)}},[h,p,s,a]);const x=y.useRef(Oi(s)?!1:s);return i.jsx(_e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZL.displayName=XL;function yje(e){return typeof e=="function"}function Oi(e){return e==="indeterminate"}function QL(e){return Oi(e)?"indeterminate":e?"checked":"unchecked"}const o1=y.forwardRef(({className:e,...t},r)=>i.jsx(jS,{ref:r,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(YL,{className:Se("flex items-center justify-center text-current"),children:i.jsx(bo,{className:"h-4 w-4"})})}));o1.displayName=jS.displayName;function l1(e,[t,r]){return Math.min(r,Math.max(t,e))}var xje=[" ","Enter","ArrowUp","ArrowDown"],bje=[" ","Enter"],al="Select",[jy,_y,wje]=yj(al),[qu,_Ee]=Ur(al,[wje,bu]),Sy=bu(),[jje,eo]=qu(al),[_je,Sje]=qu(al),JL=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Sy(t),[v,x]=y.useState(null),[b,w]=y.useState(null),[j,_]=y.useState(!1),S=kv(u),[N,k]=fa({prop:n,defaultProp:a??!1,onChange:s,caller:al}),[E,O]=fa({prop:o,defaultProp:l,onChange:c,caller:al}),C=y.useRef(null),P=v?g||!!v.closest("form"):!0,[A,T]=y.useState(new Set),M=Array.from(A).map(I=>I.props.value).join(";");return i.jsx(Ij,{...p,children:i.jsxs(jje,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:ua(),value:E,onValueChange:O,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:C,disabled:h,children:[i.jsx(jy.Provider,{scope:t,children:i.jsx(_je,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{T(B=>new Set(B).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{T(B=>{const R=new Set(B);return R.delete(I),R})},[]),children:r})}),P?i.jsxs(_5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:I=>O(I.target.value),disabled:h,form:g,children:[E===void 0?i.jsx("option",{value:""}):null,Array.from(A)]},M):null]})})};JL.displayName=al;var e5="SelectTrigger",t5=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Sy(r),o=eo(e5,r),l=o.disabled||n,c=De(t,o.onTriggerChange),u=_y(r),d=y.useRef("touch"),[f,h,m]=N5(p=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),b=k5(v,p,x);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(mv,{asChild:!0,...s,children:i.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":S5(o.value)?"":void 0,...a,ref:c,onClick:ge(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:ge(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:ge(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&xje.includes(p.key)&&(g(),p.preventDefault())})})})});t5.displayName=e5;var r5="SelectValue",n5=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=eo(r5,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=De(t,c.onValueNodeChange);return It(()=>{u(d)},[u,d]),i.jsx(_e.span,{...l,ref:f,style:{pointerEvents:"none"},children:S5(c.value)?i.jsx(i.Fragment,{children:o}):s})});n5.displayName=r5;var Nje="SelectIcon",a5=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(_e.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});a5.displayName=Nje;var kje="SelectPortal",s5=e=>i.jsx(dh,{asChild:!0,...e});s5.displayName=kje;var sl="SelectContent",i5=y.forwardRef((e,t)=>{const r=eo(sl,e.__scopeSelect),[n,a]=y.useState();if(It(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?ul.createPortal(i.jsx(o5,{scope:e.__scopeSelect,children:i.jsx(jy.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(l5,{...e,ref:t})});i5.displayName=sl;var Gn=10,[o5,to]=qu(sl),Eje="SelectContentImpl",Pje=Go("SelectContent.RemoveScroll"),l5=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...x}=e,b=eo(sl,r),[w,j]=y.useState(null),[_,S]=y.useState(null),N=De(t,te=>j(te)),[k,E]=y.useState(null),[O,C]=y.useState(null),P=_y(r),[A,T]=y.useState(!1),M=y.useRef(!1);y.useEffect(()=>{if(w)return iS(w)},[w]),sS();const I=y.useCallback(te=>{const[we,...Q]=P().map(q=>q.ref.current),[ne]=Q.slice(-1),de=document.activeElement;for(const q of te)if(q===de||(q==null||q.scrollIntoView({block:"nearest"}),q===we&&_&&(_.scrollTop=0),q===ne&&_&&(_.scrollTop=_.scrollHeight),q==null||q.focus(),document.activeElement!==de))return},[P,_]),B=y.useCallback(()=>I([k,w]),[I,k,w]);y.useEffect(()=>{A&&B()},[A,B]);const{onOpenChange:R,triggerPointerDownPosRef:L}=b;y.useEffect(()=>{if(w){let te={x:0,y:0};const we=ne=>{var de,q;te={x:Math.abs(Math.round(ne.pageX)-(((de=L.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((q=L.current)==null?void 0:q.y)??0))}},Q=ne=>{te.x<=10&&te.y<=10?ne.preventDefault():w.contains(ne.target)||R(!1),document.removeEventListener("pointermove",we),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,R,L]),y.useEffect(()=>{const te=()=>R(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[R]);const[W,Z]=N5(te=>{const we=P().filter(de=>!de.disabled),Q=we.find(de=>de.ref.current===document.activeElement),ne=k5(we,te,Q);ne&&setTimeout(()=>ne.ref.current.focus())}),G=y.useCallback((te,we,Q)=>{const ne=!M.current&&!Q;(b.value!==void 0&&b.value===we||ne)&&(E(te),ne&&(M.current=!0))},[b.value]),ee=y.useCallback(()=>w==null?void 0:w.focus(),[w]),fe=y.useCallback((te,we,Q)=>{const ne=!M.current&&!Q;(b.value!==void 0&&b.value===we||ne)&&C(te)},[b.value]),U=n==="popper"?c1:c5,Ne=U===c1?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(o5,{scope:r,content:w,viewport:_,onViewportChange:S,itemRefCallback:G,selectedItem:k,onItemLeave:ee,itemTextRefCallback:fe,focusSelectedItem:B,selectedItemText:O,position:n,isPositioned:A,searchRef:W,children:i.jsx(yy,{as:Pje,allowPinchZoom:!0,children:i.jsx(gy,{asChild:!0,trapped:b.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ge(a,te=>{var we;(we=b.trigger)==null||we.focus({preventScroll:!0}),te.preventDefault()}),children:i.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(U,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:te=>te.preventDefault(),...x,...Ne,onPlaced:()=>T(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ge(x.onKeyDown,te=>{const we=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!we&&te.key.length===1&&Z(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ne=P().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const de=te.target,q=ne.indexOf(de);ne=ne.slice(q+1)}setTimeout(()=>I(ne)),te.preventDefault()}})})})})})})});l5.displayName=Eje;var Cje="SelectItemAlignedPosition",c5=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=eo(sl,r),o=to(sl,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=De(t,N=>d(N)),h=_y(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,w=y.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&x){const N=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),O=x.getBoundingClientRect();if(s.dir!=="rtl"){const de=O.left-k.left,q=E.left-de,Me=N.left-q,Pe=N.width+Me,et=Math.max(Pe,k.width),tt=window.innerWidth-Gn,_t=l1(q,[Gn,Math.max(Gn,tt-et)]);l.style.minWidth=Pe+"px",l.style.left=_t+"px"}else{const de=k.right-O.right,q=window.innerWidth-E.right-de,Me=window.innerWidth-N.right-q,Pe=N.width+Me,et=Math.max(Pe,k.width),tt=window.innerWidth-Gn,_t=l1(q,[Gn,Math.max(Gn,tt-et)]);l.style.minWidth=Pe+"px",l.style.right=_t+"px"}const C=h(),P=window.innerHeight-Gn*2,A=p.scrollHeight,T=window.getComputedStyle(u),M=parseInt(T.borderTopWidth,10),I=parseInt(T.paddingTop,10),B=parseInt(T.borderBottomWidth,10),R=parseInt(T.paddingBottom,10),L=M+I+A+R+B,W=Math.min(v.offsetHeight*5,L),Z=window.getComputedStyle(p),G=parseInt(Z.paddingTop,10),ee=parseInt(Z.paddingBottom,10),fe=N.top+N.height/2-Gn,U=P-fe,Ne=v.offsetHeight/2,te=v.offsetTop+Ne,we=M+I+te,Q=L-we;if(we<=fe){const de=C.length>0&&v===C[C.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,Me=Math.max(U,Ne+(de?ee:0)+q+B),Pe=we+Me;l.style.height=Pe+"px"}else{const de=C.length>0&&v===C[0].ref.current;l.style.top="0px";const Me=Math.max(fe,M+p.offsetTop+(de?G:0)+Ne)+Q;l.style.height=Me+"px",p.scrollTop=we-fe+p.offsetTop}l.style.margin=`${Gn}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,x,s.dir,n]);It(()=>w(),[w]);const[j,_]=y.useState();It(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(N=>{N&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return i.jsx(Aje,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(_e.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});c5.displayName=Cje;var Oje="SelectPopperPosition",c1=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Gn,...s}=e,o=Sy(r);return i.jsx(Rj,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c1.displayName=Oje;var[Aje,_S]=qu(sl,{}),u1="SelectViewport",u5=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=to(u1,r),o=_S(u1,r),l=De(t,s.onViewportChange),c=y.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(jy.Slot,{scope:r,children:i.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ge(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Gn*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(p,v);if(x<g){const b=x+m,w=Math.min(g,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});u5.displayName=u1;var d5="SelectGroup",[Tje,$je]=qu(d5),Mje=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ua();return i.jsx(Tje,{scope:r,id:a,children:i.jsx(_e.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Mje.displayName=d5;var f5="SelectLabel",h5=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=$je(f5,r);return i.jsx(_e.div,{id:a.id,...n,ref:t})});h5.displayName=f5;var Ag="SelectItem",[Ije,m5]=qu(Ag),p5=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=eo(Ag,r),c=to(Ag,r),u=l.value===n,[d,f]=y.useState(s??""),[h,m]=y.useState(!1),g=De(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),p=ua(),v=y.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Ije,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(jy.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(_e.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:ge(o.onFocus,()=>m(!0)),onBlur:ge(o.onBlur,()=>m(!1)),onClick:ge(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:ge(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:ge(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:ge(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ge(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(bje.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});p5.displayName=Ag;var bd="SelectItemText",g5=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=eo(bd,r),l=to(bd,r),c=m5(bd,r),u=Sje(bd,r),[d,f]=y.useState(null),h=De(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return It(()=>(p(g),()=>v(g)),[p,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(_e.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ul.createPortal(s.children,o.valueNode):null]})});g5.displayName=bd;var v5="SelectItemIndicator",y5=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return m5(v5,r).isSelected?i.jsx(_e.span,{"aria-hidden":!0,...n,ref:t}):null});y5.displayName=v5;var d1="SelectScrollUpButton",x5=y.forwardRef((e,t)=>{const r=to(d1,e.__scopeSelect),n=_S(d1,e.__scopeSelect),[a,s]=y.useState(!1),o=De(t,n.onScrollButtonChange);return It(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(w5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});x5.displayName=d1;var f1="SelectScrollDownButton",b5=y.forwardRef((e,t)=>{const r=to(f1,e.__scopeSelect),n=_S(f1,e.__scopeSelect),[a,s]=y.useState(!1),o=De(t,n.onScrollButtonChange);return It(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(w5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});b5.displayName=f1;var w5=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=to("SelectScrollButton",r),o=y.useRef(null),l=_y(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),It(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(_e.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ge(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ge(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ge(a.onPointerLeave,()=>{c()})})}),Rje="SelectSeparator",j5=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(_e.div,{"aria-hidden":!0,...n,ref:t})});j5.displayName=Rje;var h1="SelectArrow",Dje=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Sy(r),s=eo(h1,r),o=to(h1,r);return s.open&&o.position==="popper"?i.jsx(Dj,{...a,...n,ref:t}):null});Dje.displayName=h1;var Lje="SelectBubbleInput",_5=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),s=De(n,a),o=bS(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(_e.select,{...r,style:{...A$,...r.style},ref:s,defaultValue:t})});_5.displayName=Lje;function S5(e){return e===""||e===void 0}function N5(e){const t=Ht(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function k5(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Fje(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Fje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Bje=JL,E5=t5,zje=n5,Uje=a5,Wje=s5,P5=i5,qje=u5,C5=h5,O5=p5,Vje=g5,Hje=y5,A5=x5,T5=b5,$5=j5;const Ka=Bje,Ya=zje,pa=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(E5,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Uje,{asChild:!0,children:i.jsx(Dt,{className:"h-4 w-4 opacity-50"})})]}));pa.displayName=E5.displayName;const M5=y.forwardRef(({className:e,...t},r)=>i.jsx(A5,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(po,{className:"h-4 w-4"})}));M5.displayName=A5.displayName;const I5=y.forwardRef(({className:e,...t},r)=>i.jsx(T5,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Dt,{className:"h-4 w-4"})}));I5.displayName=T5.displayName;const ga=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Wje,{children:i.jsxs(P5,{ref:a,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(M5,{}),i.jsx(qje,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(I5,{})]})}));ga.displayName=P5.displayName;const Gje=y.forwardRef(({className:e,...t},r)=>i.jsx(C5,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Gje.displayName=C5.displayName;const Ke=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(O5,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Hje,{children:i.jsx(bo,{className:"h-4 w-4"})})}),i.jsx(Vje,{children:t})]}));Ke.displayName=O5.displayName;const Kje=y.forwardRef(({className:e,...t},r)=>i.jsx($5,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));Kje.displayName=$5.displayName;var Ny="Collapsible",[Yje,SEe]=Ur(Ny),[Xje,SS]=Yje(Ny),R5=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c,u]=fa({prop:n,defaultProp:a??!1,onChange:o,caller:Ny});return i.jsx(Xje,{scope:r,disabled:s,contentId:ua(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:i.jsx(_e.div,{"data-state":kS(c),"data-disabled":s?"":void 0,...l,ref:t})})});R5.displayName=Ny;var D5="CollapsibleTrigger",L5=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=SS(D5,r);return i.jsx(_e.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":kS(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:ge(e.onClick,a.onOpenToggle)})});L5.displayName=D5;var NS="CollapsibleContent",F5=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=SS(NS,e.__scopeCollapsible);return i.jsx(Wr,{present:r||a.open,children:({present:s})=>i.jsx(Zje,{...n,ref:t,present:s})})});F5.displayName=NS;var Zje=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=SS(NS,r),[l,c]=y.useState(n),u=y.useRef(null),d=De(t,u),f=y.useRef(0),h=f.current,m=y.useRef(0),g=m.current,p=o.open||l,v=y.useRef(p),x=y.useRef(void 0);return y.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),It(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,m.current=w.width,v.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(_e.div,{"data-state":kS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function kS(e){return e?"open":"closed"}var Qje=R5;const Ir=Qje,Rr=L5,Dr=F5,Jje=e=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0),[s,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r(null),a(!1);return}a(!0),o(null),console.log("[useAnamnese] fetching for user:",e);const{data:u,error:d}=await F.from("anamneses").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();d?(console.error("[useAnamnese] fetch error:",d),o(d.message),r(null)):r(u),a(!1)},[e]);y.useEffect(()=>{l()},[l]);const c=y.useCallback(async u=>{var f;if(console.log("[useAnamnese] save called with:",{userId:e,input:u}),!e)throw console.error("[useAnamnese] userId is null or undefined"),new Error("Usurio no autenticado - ID do usurio no encontrado");const{data:{user:d}}=await F.auth.getUser();if(console.log("[useAnamnese] current user from supabase:",d==null?void 0:d.id),!d)throw console.error("[useAnamnese] No authenticated user found"),new Error("Sesso expirada - faa login novamente");if(d.id!==e)throw console.error("[useAnamnese] User ID mismatch:",{currentUser:d.id,userId:e}),new Error("Erro de autenticao - IDs no coincidem");try{if(t!=null&&t.id){console.log("[useAnamnese] updating existing record:",t.id);const{data:h,error:m}=await F.from("anamneses").update({...u}).eq("id",t.id).select().single();if(m)throw console.error("[useAnamnese] update error:",m),m;return console.log("[useAnamnese] update successful:",h),r(h),h}else{console.log("[useAnamnese] inserting new anamnese for user:",e);const{data:h,error:m}=await F.from("anamneses").insert({user_id:e,...u}).select().single();if(m)throw console.error("[useAnamnese] insert error:",m),m;return console.log("[useAnamnese] insert successful:",h),r(h),h}}catch(h){throw console.error("[useAnamnese] save operation failed:",h),h.code==="PGRST116"?new Error("Erro de permisso - verifique se voc est logado"):(f=h.message)!=null&&f.includes("row-level security")?new Error("Erro de segurana - verifique suas permisses"):h}},[t==null?void 0:t.id,e]);return{record:t,loading:n,error:s,save:c,refresh:l}},e_e=()=>{const e=Je(),{user:t}=Ze(),{record:r,loading:n,save:a}=Jje(t==null?void 0:t.id),[s,o]=y.useState(!1),[l,c]=y.useState(["doencas"]),[u,d]=y.useState({doencas:[],outrasDoencas:"",alergias:[],outrasAlergias:"",medicacoes:[],horasSono:"",qualidadeSono:"",lesoes:""});y.useEffect(()=>{r&&d({doencas:r.doencas||[],outrasDoencas:r.outras_doencas||"",alergias:r.alergias||[],outrasAlergias:r.outras_alergias||"",medicacoes:r.medicacoes||[],horasSono:r.horas_sono||"",qualidadeSono:r.qualidade_sono||"",lesoes:r.lesoes||""})},[r]);const f=w=>{c(j=>j.includes(w)?j.filter(_=>_!==w):[...j,w])},h=(w,j)=>{d(_=>({..._,doencas:j?[..._.doencas,w]:_.doencas.filter(S=>S!==w)}))},m=(w,j)=>{d(_=>({..._,alergias:j?[..._.alergias,w]:_.alergias.filter(S=>S!==w)}))},g=()=>{const w=prompt("Digite o nome da medicao:");w&&d(j=>({...j,medicacoes:[...j.medicacoes,w]}))},p=w=>{d(j=>({...j,medicacoes:j.medicacoes.filter((_,S)=>S!==w)}))},v=async()=>{var w,j,_,S;if(console.log("[Anamnese] handleSave called, user:",t),!(t!=null&&t.id)){console.error("[Anamnese] No user ID found"),Wt({title:"Erro de autenticao",description:"Voc precisa estar logado para salvar sua anamnese. Faa login novamente.",variant:"destructive"});return}o(!0),console.log("[Anamnese] Saving anamnese:",{userId:t.id,formData:u});try{const N=await a({doencas:u.doencas,outras_doencas:u.outrasDoencas||null,alergias:u.alergias,outras_alergias:u.outrasAlergias||null,medicacoes:u.medicacoes,horas_sono:u.horasSono||null,qualidade_sono:u.qualidadeSono||null,lesoes:u.lesoes||null});console.log("[Anamnese] Save successful:",N),Wt({title:"Anamnese salva com sucesso!",description:"Suas informaes foram compartilhadas com seu professor."})}catch(N){console.error("[Anamnese] Save failed:",N);let k="Erro interno. Tente novamente mais tarde.";(w=N==null?void 0:N.message)!=null&&w.includes("autenticado")||(j=N==null?void 0:N.message)!=null&&j.includes("autenticao")?k="Erro de autenticao. Faa login novamente.":(_=N==null?void 0:N.message)!=null&&_.includes("permisso")||(S=N==null?void 0:N.message)!=null&&S.includes("segurana")?k="Erro de permisso. Verifique se voc tem acesso.":N!=null&&N.message&&(k=N.message),Wt({title:"Erro ao salvar anamnese",description:k,variant:"destructive"})}finally{o(!1)}},x=["Diabetes","Hipertenso","Cardiopatias","Tireoide","Artrite","Osteoporose"],b=["Lactose","Glten","Amendoim","Frutos do mar","Medicamentos","Plen"];return i.jsxs("div",{className:"min-h-screen bg-background pb-32",children:[i.jsx("div",{className:"p-4 pt-8 border-b border-border/30",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/?tab=profile"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Anamnese"})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx(Ir,{open:l.includes("doencas"),onOpenChange:()=>f("doencas"),children:i.jsxs(V,{className:"bg-card/50 border-border/50",children:[i.jsx(Rr,{className:"w-full p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Do,{className:"w-5 h-5 text-destructive"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Doenas pr-existentes"})]}),l.includes("doencas")?i.jsx(po,{className:"w-4 h-4"}):i.jsx(Dt,{className:"w-4 h-4"})]})}),i.jsx(Dr,{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-3",children:[x.map(w=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(o1,{id:w,checked:u.doencas.includes(w),onCheckedChange:j=>h(w,j)}),i.jsx(se,{htmlFor:w,className:"text-foreground",children:w})]},w)),i.jsxs("div",{className:"mt-3",children:[i.jsx(se,{htmlFor:"outras-doencas",className:"text-foreground",children:"Outras (especifique):"}),i.jsx(xe,{id:"outras-doencas",value:u.outrasDoencas,onChange:w=>d(j=>({...j,outrasDoencas:w.target.value})),placeholder:"Digite outras doenas...",className:"mt-1"})]})]})})]})}),i.jsx(Ir,{open:l.includes("alergias"),onOpenChange:()=>f("alergias"),children:i.jsxs(V,{className:"bg-card/50 border-border/50",children:[i.jsx(Rr,{className:"w-full p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(cv,{className:"w-5 h-5 text-warning"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Alergias"})]}),l.includes("alergias")?i.jsx(po,{className:"w-4 h-4"}):i.jsx(Dt,{className:"w-4 h-4"})]})}),i.jsx(Dr,{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-3",children:[b.map(w=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(o1,{id:w,checked:u.alergias.includes(w),onCheckedChange:j=>m(w,j)}),i.jsx(se,{htmlFor:w,className:"text-foreground",children:w})]},w)),i.jsxs("div",{className:"mt-3",children:[i.jsx(se,{htmlFor:"outras-alergias",className:"text-foreground",children:"Outras alergias:"}),i.jsx(xe,{id:"outras-alergias",value:u.outrasAlergias,onChange:w=>d(j=>({...j,outrasAlergias:w.target.value})),placeholder:"Digite outras alergias...",className:"mt-1"})]})]})})]})}),i.jsx(Ir,{open:l.includes("medicacoes"),onOpenChange:()=>f("medicacoes"),children:i.jsxs(V,{className:"bg-card/50 border-border/50",children:[i.jsx(Rr,{className:"w-full p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(aM,{className:"w-5 h-5 text-primary"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Medicaes em uso"})]}),l.includes("medicacoes")?i.jsx(po,{className:"w-4 h-4"}):i.jsx(Dt,{className:"w-4 h-4"})]})}),i.jsx(Dr,{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-3",children:[u.medicacoes.map((w,j)=>i.jsxs("div",{className:"flex items-center justify-between bg-background/50 p-2 rounded",children:[i.jsx("span",{className:"text-foreground",children:w}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>p(j),className:"text-destructive",children:"Remover"})]},j)),i.jsx(K,{variant:"outline",onClick:g,className:"w-full",children:"+ Adicionar medicao"})]})})]})}),i.jsx(Ir,{open:l.includes("sono"),onOpenChange:()=>f("sono"),children:i.jsxs(V,{className:"bg-card/50 border-border/50",children:[i.jsx(Rr,{className:"w-full p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rM,{className:"w-5 h-5 text-accent"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Hbitos de sono"})]}),l.includes("sono")?i.jsx(po,{className:"w-4 h-4"}):i.jsx(Dt,{className:"w-4 h-4"})]})}),i.jsx(Dr,{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(se,{className:"text-foreground",children:"Qualidade do sono"}),i.jsxs(Ka,{value:u.qualidadeSono,onValueChange:w=>d(j=>({...j,qualidadeSono:w})),children:[i.jsx(pa,{className:"mt-1",children:i.jsx(Ya,{placeholder:"Selecione..."})}),i.jsxs(ga,{children:[i.jsx(Ke,{value:"excelente",children:"Excelente"}),i.jsx(Ke,{value:"boa",children:"Boa"}),i.jsx(Ke,{value:"regular",children:"Regular"}),i.jsx(Ke,{value:"ruim",children:"Ruim"})]})]})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"horas-sono",className:"text-foreground",children:"Horas mdias de sono por noite"}),i.jsx(xe,{id:"horas-sono",type:"number",value:u.horasSono,onChange:w=>d(j=>({...j,horasSono:w.target.value})),placeholder:"8",className:"mt-1"})]})]})})]})}),i.jsx(Ir,{open:l.includes("lesoes"),onOpenChange:()=>f("lesoes"),children:i.jsxs(V,{className:"bg-card/50 border-border/50",children:[i.jsx(Rr,{className:"w-full p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(hs,{className:"w-5 h-5 text-secondary"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Leses ou cirurgias"})]}),l.includes("lesoes")?i.jsx(po,{className:"w-4 h-4"}):i.jsx(Dt,{className:"w-4 h-4"})]})}),i.jsx(Dr,{className:"px-4 pb-4",children:i.jsxs("div",{children:[i.jsx(se,{htmlFor:"lesoes",className:"text-foreground",children:"Descreva leses anteriores, cirurgias ou limitaes fsicas"}),i.jsx(Zr,{id:"lesoes",value:u.lesoes,onChange:w=>d(j=>({...j,lesoes:w.target.value})),placeholder:"Descreva qualquer leso, cirurgia ou limitao fsica relevante...",className:"mt-1 min-h-[100px]"})]})})]})}),i.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[i.jsx("p",{className:"text-primary text-sm font-medium",children:"Todas as respostas sero compartilhadas com seu professor."}),n&&i.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:"Carregando suas respostas salvas..."})]})]}),i.jsx("div",{className:"fixed bottom-4 left-4 right-4",children:i.jsx(K,{onClick:v,disabled:s||n,className:"w-full h-12 rounded-full btn-accent text-background font-medium",children:s?"Salvando...":"Salvar histrico"})})]})};var ky="Switch",[t_e,NEe]=Ur(ky),[r_e,n_e]=t_e(ky),B5=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=De(t,w=>m(w)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[x,b]=fa({prop:a,defaultProp:s??!1,onChange:u,caller:ky});return i.jsxs(r_e,{scope:r,checked:x,disabled:l,children:[i.jsx(_e.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":q5(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ge(e.onClick,w=>{b(j=>!j),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&i.jsx(W5,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});B5.displayName=ky;var z5="SwitchThumb",U5=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=n_e(z5,r);return i.jsx(_e.span,{"data-state":q5(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});U5.displayName=z5;var a_e="SwitchBubbleInput",W5=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=y.useRef(null),l=De(o,s),c=bS(r),u=Tj(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});W5.displayName=a_e;function q5(e){return e?"checked":"unchecked"}var V5=B5,s_e=U5;const H5=y.forwardRef(({className:e,...t},r)=>i.jsx(V5,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(s_e,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));H5.displayName=V5.displayName;const i_e=()=>{const e=Je(),[t,r]=y.useState(!0);y.useEffect(()=>{const o=setTimeout(()=>{Wt({title:" Hora do treino!",description:"Voc tem um treino agendado para hoje s 18:00"})},2e3);return()=>clearTimeout(o)},[]);const n=async()=>{try{await AH(),Wt({title:"Desconectado",description:"Voc foi desconectado com sucesso."})}catch(o){console.error("Erro ao fazer logout:",o),Wt({title:"Erro",description:"Erro ao desconectar. Tente novamente.",variant:"destructive"})}},a=()=>{e("/assinaturas-planos")},s=[{icon:Io,title:"Notificaes",description:"Receber alertas e lembretes",action:i.jsx(H5,{checked:t,onCheckedChange:o=>{r(o),o&&Wt({title:" Notificaes ativadas!",description:"Voc receber lembretes de treinos e dicas personalizadas"})}})},{icon:Ii,title:"Planos e Assinaturas",description:"Gerencie seu plano atual",action:i.jsx(sc,{className:"w-4 h-4 text-muted-foreground"}),onClick:a},{icon:Di,title:"Conta e Segurana",description:"Email, senha e configuraes de segurana",action:i.jsx(sc,{className:"w-4 h-4 text-muted-foreground"}),onClick:()=>e("/conta-seguranca")},{icon:cv,title:"Poltica de Privacidade",description:"Termos e condies de uso",action:i.jsx(sc,{className:"w-4 h-4 text-muted-foreground"}),onClick:()=>e("/politica-privacidade")}];return i.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[i.jsx("div",{className:"p-4 pt-8 border-b border-border/30",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/?tab=profile"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Configuraes"})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx("div",{className:"space-y-2",children:s.map((o,l)=>i.jsx(V,{className:"p-4 bg-card/50 border-border/50 hover:bg-card/70 transition-colors cursor-pointer",onClick:o.onClick,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:i.jsx(o.icon,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:o.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]})]}),i.jsx("div",{className:"flex items-center",children:o.action})]})},l))}),i.jsx(V,{className:"p-4 bg-destructive/10 border-destructive/20 hover:bg-destructive/20 transition-colors cursor-pointer",children:i.jsx(K,{variant:"ghost",onClick:n,className:"w-full justify-start text-destructive hover:text-destructive hover:bg-transparent p-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-destructive/20 rounded-lg flex items-center justify-center",children:i.jsx(_z,{className:"w-5 h-5 text-destructive"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-semibold",children:"Sair"}),i.jsx("p",{className:"text-sm text-destructive/70",children:"Desconectar da conta"})]})]})})}),i.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6",children:i.jsx("p",{className:"text-primary text-sm font-medium",children:"Alteraes sero aplicadas ao seu app e notificadas ao seu professor, quando relevante."})})]})]})},o_e=()=>{const e=Je(),{user:t,userProfile:r}=Ze(),[n,a]=y.useState(!1),[s,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState({email:"",newPassword:"",confirmPassword:""});y.useEffect(()=>{t!=null&&t.email&&h(p=>({...p,email:t.email}))},[t==null?void 0:t.email]);const m=async()=>{if(!f.email.trim()){Wt({title:"Erro",description:"Por favor, digite um email vlido.",variant:"destructive"});return}if(f.email===(t==null?void 0:t.email)){Wt({title:"Informao",description:"Este j  o seu email atual."});return}c(!0);try{const{error:p}=await F.auth.updateUser({email:f.email});if(p)throw p;const{error:v}=await F.from("profiles").update({email:f.email}).eq("id",t==null?void 0:t.id);v&&console.warn("Erro ao atualizar perfil:",v),Wt({title:"Email atualizado!",description:"Verifique sua caixa de entrada para confirmar o novo email."})}catch(p){console.error("Erro ao atualizar email:",p),Wt({title:"Erro",description:p.message||"No foi possvel atualizar o email.",variant:"destructive"})}finally{c(!1)}},g=async()=>{if(f.newPassword!==f.confirmPassword){Wt({title:"Erro",description:"As senhas no coincidem.",variant:"destructive"});return}if(f.newPassword.length<6){Wt({title:"Erro",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}d(!0);try{const{error:p}=await F.auth.updateUser({password:f.newPassword});if(p)throw p;Wt({title:"Senha alterada!",description:"Sua senha foi atualizada com sucesso."}),h(v=>({...v,newPassword:"",confirmPassword:""}))}catch(p){console.error("Erro ao alterar senha:",p),Wt({title:"Erro",description:p.message||"No foi possvel alterar a senha.",variant:"destructive"})}finally{d(!1)}};return i.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[i.jsx("div",{className:"p-4 pt-8 border-b border-border/30",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/configuracoes"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Conta e Segurana"})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs(V,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:i.jsx(Tc,{className:"w-5 h-5 text-primary"})}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Informaes da Conta"})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(se,{htmlFor:"email",children:"Email"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(xe,{id:"email",type:"email",value:f.email,onChange:p=>h(v=>({...v,email:p.target.value})),className:"flex-1"}),i.jsxs(K,{onClick:m,disabled:l||!f.email.trim()||f.email===(t==null?void 0:t.email),children:[l?i.jsx(gr,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Sz,{className:"w-4 h-4 mr-2"}),l?"Alterando...":"Alterar"]})]})]})})]}),i.jsxs(V,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:i.jsx(Di,{className:"w-5 h-5 text-primary"})}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Segurana"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(se,{htmlFor:"newPassword",children:"Nova Senha"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(xe,{id:"newPassword",type:n?"text":"password",value:f.newPassword,onChange:p=>h(v=>({...v,newPassword:p.target.value})),placeholder:"Digite sua nova senha"}),i.jsx(K,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>a(!n),children:n?i.jsx(Oc,{className:"w-4 h-4"}):i.jsx(Ko,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(xe,{id:"confirmPassword",type:s?"text":"password",value:f.confirmPassword,onChange:p=>h(v=>({...v,confirmPassword:p.target.value})),placeholder:"Confirme sua nova senha"}),i.jsx(K,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>o(!s),children:s?i.jsx(Oc,{className:"w-4 h-4"}):i.jsx(Ko,{className:"w-4 h-4"})})]})]}),i.jsxs(K,{onClick:g,className:"w-full",disabled:u||!f.newPassword||!f.confirmPassword,children:[u?i.jsx(gr,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(wz,{className:"w-4 h-4 mr-2"}),u?"Alterando...":"Alterar Senha"]})]})]}),i.jsxs(V,{className:"p-4 bg-primary/10 border-primary/20",children:[i.jsx("h3",{className:"font-medium text-primary mb-2",children:"Dicas de Segurana"}),i.jsxs("ul",{className:"text-sm text-primary/80 space-y-1",children:[i.jsx("li",{children:" Use uma senha forte com pelo menos 8 caracteres"}),i.jsx("li",{children:" Inclua letras maisculas, minsculas, nmeros e smbolos"}),i.jsx("li",{children:" No compartilhe sua senha com ningum"}),i.jsx("li",{children:" Altere sua senha regularmente"})]})]})]})]})},mO={crown:{icon:Ii,color:"text-yellow-500",bgColor:"bg-yellow-500/20"},star:{icon:mh,color:"text-blue-500",bgColor:"bg-blue-500/20"},diamond:{icon:dz,color:"text-purple-500",bgColor:"bg-purple-500/20"},trophy:{icon:Nr,color:"text-orange-500",bgColor:"bg-orange-500/20"},gem:{icon:eM,color:"text-emerald-500",bgColor:"bg-emerald-500/20"}},l_e=e=>mO[e]||mO.crown,c_e=()=>{var h,m;const e=Je(),{student:t}=xS(),{user:r}=Ze(),[n,a]=y.useState(null);y.useEffect(()=>{let g=!0;return(async()=>{if(!(r!=null&&r.id)){g&&a(null);return}try{const{data:v}=await F.from("plan_subscriptions").select("id, plan_id, status, start_at, end_at, teacher_id").eq("student_user_id",r.id).eq("status","active").order("start_at",{ascending:!1}).limit(1).maybeSingle();if(!v){g&&a(null);return}const{data:x}=await F.from("plan_catalog").select("name, price, interval, currency, features").eq("id",v.plan_id).single(),b=(x==null?void 0:x.currency)||"BRL",w=typeof(x==null?void 0:x.price)=="number"?new Intl.NumberFormat("pt-BR",{style:"currency",currency:b}).format(x.price):"-",j={monthly:"ms",quarterly:"trimestre",yearly:"ano"},_=x!=null&&x.interval?j[x.interval]||x.interval:"-",S=v.end_at?new Date(v.end_at).toLocaleDateString("pt-BR"):"-";g&&a({nome:(x==null?void 0:x.name)??(t==null?void 0:t.active_plan)??"free",preco:w,periodo:_,dataRenovacao:S,status:v.status??"ativo",features:(x==null?void 0:x.features)||[]})}catch{g&&a(null)}})(),()=>{g=!1}},[r==null?void 0:r.id,t==null?void 0:t.teacher_id]);const s={liberados:["Contedos liberados pelo professor"],naoLiberados:["Acesso a treinos bsicos","Acompanhamento bsico de progresso","Chat com o professor (limitado)"]},o=y.useMemo(()=>n||(t!=null&&t.active_plan?{nome:t.active_plan==="free"?"Gratuito":t.active_plan,preco:"-",periodo:"-",dataRenovacao:"-",status:t.membership_status||"ativo",features:[]}:null),[n,t==null?void 0:t.active_plan,t==null?void 0:t.membership_status]),l=!o||o.nome==="Gratuito"||o.nome==="free",c=y.useMemo(()=>o!=null&&o.features&&o.features.length>0?o.features:[],[o]),[u,d]=y.useState([]);y.useEffect(()=>{(async()=>{if(t!=null&&t.teacher_id)try{const{data:p}=await F.from("plan_catalog").select("*").eq("teacher_id",t.teacher_id).eq("is_active",!0).order("price",{ascending:!0});d(p||[])}catch(p){console.error("Error loading plans:",p)}})()},[t==null?void 0:t.teacher_id]);const f=async g=>{if(!(!(r!=null&&r.id)||!(t!=null&&t.teacher_id)))try{const{error:p}=await F.from("plan_subscriptions").insert({student_user_id:r.id,teacher_id:t.teacher_id,plan_id:g,status:"pending"});if(p)throw p;Wt({title:"Solicitao enviada!",description:"Seu professor ser notificado para aprovar sua assinatura."})}catch{Wt({title:"Erro",description:"No foi possvel enviar a solicitao. Tente novamente.",variant:"destructive"})}};return i.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[i.jsx("div",{className:"p-4 pt-8 border-b border-border/30",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/configuracoes"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Planos e Assinaturas"})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[o?i.jsxs(i.Fragment,{children:[i.jsxs(V,{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center",children:i.jsx(Ii,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-foreground",children:o.nome}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Qe,{variant:"secondary",className:"bg-success/20 text-success",children:((m=(h=o.status)==null?void 0:h.toUpperCase)==null?void 0:m.call(h))||"ATIVO"})})]})]}),o.preco!=="-"&&o.periodo!=="-"&&i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-bold text-primary",children:o.preco}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",o.periodo]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Benefcios inclusos:"}),i.jsx("div",{className:"grid gap-2",children:l?i.jsxs(i.Fragment,{children:[s.liberados.map((g,p)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 bg-success/20 rounded-full flex items-center justify-center",children:i.jsx(bo,{className:"w-3 h-3 text-success"})}),i.jsx("span",{className:"text-sm text-foreground",children:g})]},`liberado-${p}`)),s.naoLiberados.map((g,p)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 bg-destructive/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"w-3 h-3 text-destructive text-xs font-bold",children:""})}),i.jsx("span",{className:"text-sm text-muted-foreground",children:g})]},`nao-liberado-${p}`))]}):c.map((g,p)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 bg-success/20 rounded-full flex items-center justify-center",children:i.jsx(bo,{className:"w-3 h-3 text-success"})}),i.jsx("span",{className:"text-sm text-foreground",children:g})]},p))})]})]}),o.preco!=="-"&&o.dataRenovacao!=="-"&&i.jsxs(V,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:i.jsx(rr,{className:"w-5 h-5 text-primary"})}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Informaes de Cobrana"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border/30",children:[i.jsx("span",{className:"text-muted-foreground",children:"Prxima cobrana"}),i.jsx("span",{className:"text-foreground",children:o.dataRenovacao})]}),i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Valor"}),i.jsx("span",{className:"text-foreground font-semibold",children:o.preco})]})]})]}),i.jsxs(V,{className:"p-4 bg-primary/10 border-primary/20",children:[i.jsx("h3",{className:"font-medium text-primary mb-2",children:"Precisa de ajuda?"}),i.jsx("p",{className:"text-sm text-primary/80 mb-3",children:"Fale com seu professor para ajustar seu plano ou tirar dvidas."}),i.jsx(K,{variant:"outline",size:"sm",className:"text-primary border-primary/30",children:"Contatar Professor"})]})]}):i.jsx(i.Fragment,{children:i.jsxs(V,{className:"p-6 bg-muted/30 border-border/30",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-muted rounded-xl flex items-center justify-center",children:i.jsx(Ii,{className:"w-6 h-6 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Acesso Gratuito"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Contedos liberados pelo seu professor"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Benefcios disponveis:"}),i.jsxs("div",{className:"grid gap-2",children:[s.liberados.map((g,p)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 bg-success/20 rounded-full flex items-center justify-center",children:i.jsx(bo,{className:"w-3 h-3 text-success"})}),i.jsx("span",{className:"text-sm text-foreground",children:g})]},`liberado-${p}`)),s.naoLiberados.map((g,p)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 bg-destructive/20 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"w-3 h-3 text-destructive text-xs font-bold",children:""})}),i.jsx("span",{className:"text-sm text-muted-foreground",children:g})]},`nao-liberado-${p}`))]})]})]})}),u.length>0&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gradient-primary",children:"Planos Disponveis"}),i.jsx("p",{className:"text-muted-foreground",children:"Escolha o plano ideal para acelerar seus resultados"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-6xl mx-auto",children:u.map(g=>{const p=l_e(g.icon),v=p.icon;return i.jsxs(V,{className:`group relative overflow-hidden transition-all duration-300 hover-lift max-w-sm mx-auto w-full ${g.highlighted?"card-premium border-primary/30 bg-gradient-to-br from-primary/5 via-background to-accent/5":"card-gradient border-border/20 hover:border-primary/20"}`,children:[g.highlighted&&i.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:i.jsx(Qe,{className:"badge-premium shadow-glow text-xs px-2 py-1",children:" Recomendado"})}),i.jsxs("div",{className:"p-4 pt-6 space-y-4",children:[i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-xl ${p.bgColor} flex items-center justify-center transition-transform duration-300 group-hover:scale-110`,children:i.jsx(v,{className:`w-6 h-6 ${p.color}`})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-lg font-bold text-foreground group-hover:text-primary transition-colors",children:g.name}),g.description&&i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:g.description})]})]}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:`text-2xl font-bold ${g.highlighted?"text-gradient-primary":"text-foreground"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:g.currency||"BRL"}).format(g.price)}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["/",g.interval==="monthly"?"ms":g.interval==="yearly"?"ano":g.interval]})]})}),g.features&&g.features.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-xs font-semibold text-foreground text-center",children:"Includo:"}),i.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto scrollbar-thin",children:[g.features.slice(0,4).map((x,b)=>i.jsxs("div",{className:"flex items-start gap-2 group/feature",children:[i.jsx("div",{className:"w-4 h-4 bg-success/20 rounded-full flex items-center justify-center mt-0.5 flex-shrink-0 transition-transform duration-200 group-hover/feature:scale-110",children:i.jsx(bo,{className:"w-2.5 h-2.5 text-success"})}),i.jsx("span",{className:"text-xs text-foreground leading-relaxed flex-1",children:x})]},b)),g.features.length>4&&i.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",g.features.length-4," benefcios adicionais"]})]})]}),i.jsx("div",{className:"pt-2",children:i.jsx(K,{onClick:()=>f(g.id),className:`w-full h-10 text-sm font-semibold transition-all duration-300 ${g.highlighted?"btn-primary animate-glow":"btn-secondary hover:btn-primary"}`,size:"sm",children:"Solicitar Plano"})})]})]},g.id)})})]})]})]})},u_e=()=>{const e=Je(),t=[{icon:Ko,title:"Coleta de Informaes",content:["Coletamos informaes que voc nos fornece diretamente, como nome, email e dados de perfil.","Dados de uso do aplicativo para melhorar sua experincia.","Informaes de progresso fsico e treinos para personalizao.","Dados de dispositivo para otimizao e segurana."]},{icon:uz,title:"Como Usamos Suas Informaes",content:["Personalizar treinos e planos nutricionais.","Fornecer suporte ao cliente e responder suas dvidas.","Enviar notificaes importantes sobre seu progresso.","Melhorar nossos servios e desenvolver novos recursos.","Garantir a segurana e integridade da plataforma."]},{icon:Ei,title:"Compartilhamento de Dados",content:["No vendemos suas informaes pessoais para terceiros.","Podemos compartilhar dados com prestadores de servios confiveis.","Dados anonimizados podem ser usados para pesquisa e melhorias.","Compartilhamento apenas quando exigido por lei."]},{icon:Di,title:"Segurana dos Dados",content:["Utilizamos criptografia de ponta para proteger seus dados.","Servidores seguros com monitoramento 24/7.","Acesso restrito aos dados apenas para equipe autorizada.","Backups regulares para prevenir perda de informaes.","Auditorias de segurana regulares."]}];return i.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[i.jsx("div",{className:"p-4 pt-8 border-b border-border/30",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/configuracoes"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Poltica de Privacidade"})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs(V,{className:"p-6 bg-primary/10 border-primary/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:i.jsx(cv,{className:"w-5 h-5 text-primary"})}),i.jsx("h2",{className:"text-lg font-semibold text-primary",children:"Sua Privacidade  Nossa Prioridade"})]}),i.jsx("p",{className:"text-primary/80 text-sm leading-relaxed",children:"No Shape Pro, levamos sua privacidade a srio. Esta poltica explica como coletamos, usamos e protegemos suas informaes pessoais quando voc usa nosso aplicativo."}),i.jsxs("p",{className:"text-primary/80 text-sm mt-3",children:[i.jsx("strong",{children:"ltima atualizao:"})," Janeiro de 2024"]})]}),t.map((r,n)=>i.jsxs(V,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center",children:i.jsx(r.icon,{className:"w-5 h-5 text-primary"})}),i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:r.title})]}),i.jsx("div",{className:"space-y-3",children:r.content.map((a,s)=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 shrink-0"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:a})]},s))})]},n)),i.jsxs(V,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Seus Direitos"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-4 bg-card/50 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Acesso aos Dados"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc pode solicitar uma cpia de todos os dados que temos sobre voc."})]}),i.jsxs("div",{className:"p-4 bg-card/50 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Correo de Dados"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc pode corrigir informaes incorretas ou desatualizadas."})]}),i.jsxs("div",{className:"p-4 bg-card/50 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Excluso de Dados"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc pode solicitar a excluso de seus dados pessoais."})]})]})]}),i.jsxs(V,{className:"p-4 bg-primary/10 border-primary/20",children:[i.jsx("h3",{className:"font-medium text-primary mb-2",children:"Dvidas sobre Privacidade?"}),i.jsx("p",{className:"text-sm text-primary/80 mb-3",children:"Se voc tiver alguma dvida sobre nossa poltica de privacidade ou sobre como tratamos seus dados, entre em contato conosco."}),i.jsx(K,{variant:"outline",size:"sm",className:"text-primary border-primary/30",children:"Contatar Suporte"})]})]})]})},d_e=()=>i.jsx(NL,{}),f_e=({open:e,onOpenChange:t,nutritionPlanId:r,onMealAdded:n})=>{const{user:a}=Ze(),{toast:s}=At(),[o,l]=y.useState(!1),[c,u]=y.useState({name:"",time:"",meal_type:"meal",calories:"",protein:"",carbs:"",fat:"",portion_amount:"100",portion_unit:"g"}),d=async h=>{if(h.preventDefault(),!(a!=null&&a.id)||!r){s({title:"Erro",description:"Usurio ou plano nutricional no encontrado.",variant:"destructive"});return}if(!c.name||!c.calories){s({title:"Campos obrigatrios",description:"Nome e calorias so obrigatrios.",variant:"destructive"});return}l(!0);try{const{data:m,error:g}=await F.from("meals").insert({name:c.name,time:c.time||null,meal_type:c.meal_type,calories:parseInt(c.calories),protein:parseFloat(c.protein)||0,carbs:parseFloat(c.carbs)||0,fat:parseFloat(c.fat)||0,portion_amount:parseFloat(c.portion_amount),portion_unit:c.portion_unit,created_by:a.id,foods:[]}).select().single();if(g)throw console.error("Error creating meal:",g),g;const{data:p,error:v}=await F.from("nutrition_plans").select("meal_ids").eq("id",r).single();if(v)throw console.error("Error fetching plan:",v),v;const b=[...p.meal_ids||[],m.id],{error:w}=await F.from("nutrition_plans").update({meal_ids:b}).eq("id",r);if(w)throw console.error("Error updating plan:",w),w;s({title:"Refeio adicionada!",description:`${c.name} foi adicionada ao seu plano nutricional.`}),u({name:"",time:"",meal_type:"meal",calories:"",protein:"",carbs:"",fat:"",portion_amount:"100",portion_unit:"g"}),t(!1),n==null||n()}catch(m){console.error("Error adding custom meal:",m),s({title:"Erro ao adicionar refeio",description:"No foi possvel adicionar a refeio. Tente novamente.",variant:"destructive"})}finally{l(!1)}},f=parseFloat(c.calories)||0;return i.jsx(Qa,{open:e,onOpenChange:t,children:i.jsxs(xa,{className:"w-full max-w-md",children:[i.jsx(ba,{children:i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(Li,{size:20}),"Nova Refeio"]})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"name",children:"Nome da refeio *"}),i.jsx(xe,{id:"name",value:c.name,onChange:h=>u({...c,name:h.target.value}),placeholder:"Ex: Lanche da tarde",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"time",children:"Horrio"}),i.jsxs("div",{className:"relative",children:[i.jsx(tn,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),i.jsx(xe,{id:"time",type:"time",value:c.time,onChange:h=>u({...c,time:h.target.value}),className:"pl-10"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Tipo"}),i.jsxs(Ka,{value:c.meal_type,onValueChange:h=>u({...c,meal_type:h}),children:[i.jsx(pa,{children:i.jsx(Ya,{})}),i.jsxs(ga,{children:[i.jsx(Ke,{value:"meal",children:"Refeio"}),i.jsx(Ke,{value:"snack",children:"Lanche"}),i.jsx(Ke,{value:"breakfast",children:"Caf da manh"}),i.jsx(Ke,{value:"lunch",children:"Almoo"}),i.jsx(Ke,{value:"dinner",children:"Jantar"})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(az,{size:16}),"Informaes Nutricionais"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"calories",children:"Calorias (kcal) *"}),i.jsx(xe,{id:"calories",type:"number",value:c.calories,onChange:h=>u({...c,calories:h.target.value}),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"protein",children:"Protena (g)"}),i.jsx(xe,{id:"protein",type:"number",step:"0.1",value:c.protein,onChange:h=>u({...c,protein:h.target.value}),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"carbs",children:"Carboidratos (g)"}),i.jsx(xe,{id:"carbs",type:"number",step:"0.1",value:c.carbs,onChange:h=>u({...c,carbs:h.target.value}),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"fat",children:"Gordura (g)"}),i.jsx(xe,{id:"fat",type:"number",step:"0.1",value:c.fat,onChange:h=>u({...c,fat:h.target.value}),placeholder:"0"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"portion_amount",children:"Poro"}),i.jsx(xe,{id:"portion_amount",type:"number",value:c.portion_amount,onChange:h=>u({...c,portion_amount:h.target.value}),placeholder:"100"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Unidade"}),i.jsxs(Ka,{value:c.portion_unit,onValueChange:h=>u({...c,portion_unit:h}),children:[i.jsx(pa,{children:i.jsx(Ya,{})}),i.jsxs(ga,{children:[i.jsx(Ke,{value:"g",children:"gramas (g)"}),i.jsx(Ke,{value:"ml",children:"mililitros (ml)"}),i.jsx(Ke,{value:"unidade",children:"unidade"}),i.jsx(Ke,{value:"colher",children:"colher"}),i.jsx(Ke,{value:"xcara",children:"xcara"})]})]})]})]}),f>0&&i.jsx(V,{className:"p-3 bg-accent/5 border-accent/20",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium text-foreground mb-1",children:"Preview:"}),i.jsxs("div",{className:"text-muted-foreground",children:[c.name||"Nova refeio"," - ",f," kcal",c.time&&i.jsxs("span",{className:"ml-2",children:["s ",c.time]})]})]})}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:o,className:"flex-1",children:"Cancelar"}),i.jsx(K,{type:"submit",disabled:o||!c.name||!c.calories,className:"flex-1",children:o?i.jsxs(i.Fragment,{children:[i.jsx(gr,{size:16,className:"animate-spin mr-2"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Li,{size:16,className:"mr-2"}),"Adicionar"]})})]})]})]})})},h_e=()=>{const e=Je(),{user:t}=Ze(),{activePlan:r,todaysMeals:n,dailyStats:a,loading:s,logMeal:o}=kL(),{toast:l}=At(),[c,u]=y.useState(new Set),[d,f]=y.useState(!1),h=async(p,v)=>{if(!(!(t!=null&&t.id)||!r)){u(x=>new Set([...x,p]));try{await o(p,!v),l({title:v?"Registro removido":"Refeio registrada!",description:v?"Refeio desmarcada.":"Refeio marcada como concluda."})}catch(x){console.error("Error logging meal:",x),l({title:"Erro",description:"No foi possvel registrar a refeio. Tente novamente.",variant:"destructive"})}finally{u(x=>{const b=new Set(x);return b.delete(p),b})}}};if(s)return i.jsx("div",{className:"p-4 pt-8 pb-24 flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(gr,{className:"w-8 h-8 animate-spin text-accent"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando suas refeies..."})]})});if(!r)return i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"p-2",children:i.jsx(Ot,{size:20})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Controle Nutricional"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Registre suas refeies de hoje"})]})]}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-muted-foreground",children:"Nenhum plano nutricional disponvel ainda."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Aguarde seu nutricionista criar um plano para voc!"})]})]});const{consumed:m,target:g}=a;return i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"p-2",children:i.jsx(Ot,{size:20})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Controle Nutricional"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Registre suas refeies de hoje"})]})]}),i.jsxs(V,{className:"card-gradient p-6 mb-6 border border-warning/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Meta Calrica"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[Math.round(m.calories)," / ",Math.round(g.calories)," kcal"]})]}),i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center",children:i.jsx(En,{size:24,className:"text-white"})})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-3 mb-4",children:i.jsx("div",{className:"bg-gradient-to-r from-warning to-warning/80 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(g.calories>0?m.calories/g.calories*100:0,100)}%`}})}),i.jsx("div",{className:"text-center",children:i.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Restam ",Math.round(Math.max(g.calories-m.calories,0))," kcal"]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Refeies de Hoje"}),i.jsxs(K,{size:"sm",className:"btn-primary",onClick:()=>f(!0),children:[i.jsx(Li,{size:16,className:"mr-1"}),"Adicionar"]})]}),r.meals&&r.meals.length>0?r.meals.map((p,v)=>{const x=n.find(j=>j.meal_id===p.id),b=(x==null?void 0:x.consumed)||!1,w=c.has(p.id);return i.jsx(V,{className:"card-gradient p-4 border border-border/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-foreground",children:p.name}),p.time&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tn,{size:14,className:"text-muted-foreground"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:p.time})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"text-sm text-warning font-medium",children:[p.calories||0," kcal"]}),b&&i.jsx("span",{className:"text-xs bg-success/10 text-success px-2 py-1 rounded-full",children:"Concludo"})]}),p.ingredients&&p.ingredients.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:Array.isArray(p.ingredients)?p.ingredients.join(", "):p.ingredients})})]}),i.jsx("div",{className:"flex items-center gap-2",children:w?i.jsx(gr,{size:20,className:"animate-spin text-muted-foreground"}):b?i.jsxs(K,{size:"sm",variant:"outline",onClick:()=>h(p.id,!0),children:[i.jsx(lv,{size:16,className:"text-success mr-1"}),"Concludo"]}):i.jsx(K,{size:"sm",variant:"outline",onClick:()=>h(p.id,!1),children:"Registrar"})})]})},p.id||v)}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma refeio programada para hoje."})})]}),i.jsxs(V,{className:"card-gradient p-4 mt-6 border border-accent/20",children:[i.jsx("h4",{className:"font-medium text-foreground mb-2",children:" Dica do Dia"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mantenha-se hidratado! Beba pelo menos 2 litros de gua ao longo do dia."})]}),i.jsx(f_e,{open:d,onOpenChange:f,nutritionPlanId:r==null?void 0:r.id,onMealAdded:()=>{window.location.reload()}})]})},m_e=()=>{const{user:e}=Ze(),{toast:t}=At(),[r,n]=y.useState([]),[a,s]=y.useState(!0),[o,l]=y.useState(new Set),c=async()=>{if(!(e!=null&&e.id)){s(!1);return}try{s(!0);const{data:p,error:v}=await F.from("appointments").select("id, scheduled_time, duration, type, title, status, teacher_id, student_objectives, student_notes, notes, cancellation_reason, cancelled_by, cancelled_at").eq("student_id",e.id).order("scheduled_time",{ascending:!0});if(v)throw v;n(p||[])}catch(p){console.error("Error fetching appointments:",p),t({title:"Erro",description:"Falha ao carregar agendamentos",variant:"destructive"})}finally{s(!1)}},u=y.useCallback(async(p,v)=>{l(x=>new Set(x).add(p)),n(x=>x.map(b=>b.id===p?{...b,status:"cancelled"}:b));try{const{error:x}=await F.from("appointments").update({status:"cancelled",cancellation_reason:v||"Cancelado pelo aluno",cancelled_by:e==null?void 0:e.id,cancelled_at:new Date().toISOString()}).eq("id",p).eq("student_id",e==null?void 0:e.id);if(x)throw x;t({title:"Sucesso",description:"Agendamento cancelado com sucesso"})}catch(x){console.error("Error cancelling appointment:",x),n(b=>b.map(w=>w.id===p?{...w,status:"scheduled"}:w)),t({title:"Erro",description:"Falha ao cancelar agendamento",variant:"destructive"})}finally{l(x=>{const b=new Set(x);return b.delete(p),b})}},[e==null?void 0:e.id,t]),d=y.useCallback(async(p,v)=>{l(b=>new Set(b).add(p));const x=r.find(b=>b.id===p);n(b=>b.map(w=>w.id===p?{...w,scheduled_time:v,status:"scheduled"}:w));try{const{error:b}=await F.from("appointments").update({scheduled_time:v,status:"scheduled"}).eq("id",p).eq("student_id",e==null?void 0:e.id);if(b)throw b;t({title:"Sucesso",description:"Agendamento reagendado com sucesso"})}catch(b){console.error("Error rescheduling appointment:",b),x&&n(w=>w.map(j=>j.id===p?x:j)),t({title:"Erro",description:"Falha ao reagendar",variant:"destructive"})}finally{l(b=>{const w=new Set(b);return w.delete(p),w})}},[r,e==null?void 0:e.id,t]),f=y.useCallback(p=>{p.eventType==="INSERT"?n(v=>[...v,p.new]):p.eventType==="UPDATE"?n(v=>v.map(x=>x.id===p.new.id?p.new:x)):p.eventType==="DELETE"&&n(v=>v.filter(x=>x.id!==p.old.id))},[]);y.useEffect(()=>{if(!(e!=null&&e.id))return;c();const p=F.channel("student-appointments-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"appointments",filter:`student_id=eq.${e.id}`},v=>f({eventType:"INSERT",new:v.new})).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`student_id=eq.${e.id}`},v=>f({eventType:"UPDATE",new:v.new,old:v.old})).on("postgres_changes",{event:"DELETE",schema:"public",table:"appointments",filter:`student_id=eq.${e.id}`},v=>f({eventType:"DELETE",old:v.old})).subscribe();return()=>{F.removeChannel(p)}},[e==null?void 0:e.id,f]);const h=new Date,m=r.filter(p=>new Date(p.scheduled_time)>=h&&p.status!=="cancelled"),g=r.filter(p=>new Date(p.scheduled_time)<h||p.status==="cancelled").reverse();return{appointments:r,upcomingAppointments:m,pastAppointments:g,loading:a,cancelAppointment:u,rescheduleAppointment:d,refreshAppointments:c,optimisticOperations:o,isOptimistic:p=>o.has(p)}},p_e=()=>{const{user:e}=Ze(),{toast:t}=At(),{hasActiveSubscription:r,teacherId:n}=hS(),[a,s]=y.useState([]),[o,l]=y.useState(null),[c,u]=y.useState(!0),d=async()=>{if(!(e!=null&&e.id)){u(!1);return}try{if(u(!0),!r||!n){l(null),s([]),u(!1);return}l(n);const{data:m,error:g}=await F.from("teacher_availability").select("*").eq("teacher_id",n).order("weekday",{ascending:!0}).order("start_time",{ascending:!0});if(g)throw g;console.log("Teacher availability data loaded:",{teacherId:n,availabilityData:m,totalSlots:(m==null?void 0:m.length)||0}),s(m||[])}catch(m){console.error("Error fetching teacher availability:",m),t({title:"Erro",description:"Falha ao carregar disponibilidade do professor",variant:"destructive"})}finally{u(!1)}};return y.useEffect(()=>{d();let m=null;return o&&r&&(m=F.channel("teacher-availability").on("postgres_changes",{event:"*",schema:"public",table:"teacher_availability",filter:`teacher_id=eq.${o}`},()=>{d()}).subscribe()),()=>{m&&F.removeChannel(m)}},[e==null?void 0:e.id,o,r]),{availability:a,teacherId:o,loading:c,getAvailabilityForWeekday:m=>a.filter(g=>g.weekday===m),getWeekdayName:m=>["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][m]||"",refreshAvailability:d}},g_e=()=>{const{toast:e}=At(),[t,r]=y.useState(!1),n=async(o,l,c=60)=>{var u,d;try{r(!0);const f=typeof l=="string"?l:l.toISOString().slice(0,10);console.log(" Buscando slots para:",{teacherId:o,dateStr:f,slotMinutes:c}),console.log(" Hora atual:",new Date().toISOString());const{data:h,error:m}=await F.rpc("list_available_slots_improved",{p_teacher_id:o,p_start_date:f,p_end_date:f,p_slot_minutes:c});if(m)throw console.error(" Erro na RPC:",m),m;return console.log(" Slots disponveis retornados:",h),console.log(" Total de slots encontrados:",(h==null?void 0:h.length)||0),h&&h.length>0?h.forEach((g,p)=>{console.log(` Slot ${p+1}:`,{start:g.slot_start,end:g.slot_end,minutes:g.slot_minutes,teacherId:g.slot_teacher_id,date:g.slot_date})}):console.log(" Nenhum slot disponvel encontrado"),h||[]}catch(f){console.error("Error fetching available slots:",f);let h="Falha ao buscar horrios disponveis";return(u=f.message)!=null&&u.includes("Not authorized")?h="Voc no tem permisso para visualizar os horrios deste professor":(d=f.message)!=null&&d.includes("Not authenticated")&&(h="Voc precisa estar logado para ver os horrios"),e({title:"Erro",description:h,variant:"destructive"}),[]}finally{r(!1)}},a=async({teacherId:o,scheduledTime:l,type:c="class",duration:u,title:d,description:f,studentTitle:h,studentObjectives:m,studentNotes:g,locationId:p})=>{var v,x,b,w;try{r(!0);const{data:j,error:_}=await F.rpc("book_appointment",{p_teacher_id:o,p_scheduled_time:l,p_type:c,p_duration:u,p_title:d,p_description:f,p_student_title:h,p_student_objectives:m,p_student_notes:g,p_location_id:p||null});if(_)throw _;return e({title:"Agendamento confirmado!",description:"Seu agendamento foi criado com sucesso."}),j}catch(j){console.error("Error booking appointment:",j);let _="Erro ao confirmar agendamento";throw(v=j.message)!=null&&v.includes("Selected time is not available")?_="Este horrio no est mais disponvel":(x=j.message)!=null&&x.includes("too close to current time")?_="Horrio muito prximo do atual. Tente um horrio mais tarde.":(b=j.message)!=null&&b.includes("Same day booking is not allowed")?_="Agendamentos no mesmo dia no so permitidos":(w=j.message)!=null&&w.includes("Not authorized")&&(_="Voc no tem permisso para agendar com este professor"),e({title:"Erro",description:_,variant:"destructive"}),j}finally{r(!1)}};return{loading:t,getAvailableSlots:n,bookAppointment:a,quickBookAppointment:async(o,l,c={})=>a({teacherId:o,scheduledTime:l,...c})}},v_e=e=>{At();const[t,r]=y.useState(null),[n,a]=y.useState(!1),s=async()=>{if(!e){r(null);return}try{a(!0);const{data:o,error:l}=await F.from("teacher_booking_settings").select("*").eq("teacher_id",e).maybeSingle();if(l){console.error("Error fetching teacher booking settings:",l);return}o&&r(o)}catch(o){console.error("Error fetching teacher booking settings:",o)}finally{a(!1)}};return y.useEffect(()=>{s()},[e]),{settings:t,loading:n,minimumAdvanceMinutes:(t==null?void 0:t.minimum_advance_minutes)||60,maximumAdvanceDays:(t==null?void 0:t.visibility_days)||30,allowSameDayBooking:(t==null?void 0:t.allow_same_day)||!1,refreshSettings:s}},y_e=e=>{const{toast:t}=At(),[r,n]=y.useState([]),[a,s]=y.useState(!1),o=async()=>{if(!e){n([]);return}try{s(!0),n([{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",teacher_id:e,name:"Academia Mamuscle",address:"Rua das Flores, 123",city:"So Paulo",state:"SP",postal_code:"01234-567",country:"Brasil",phone:null,email:null,notes:null,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])}catch(l){console.error("Error fetching teacher locations:",l),t({title:"Erro ao carregar locais",description:"No foi possvel carregar os locais de treino.",variant:"destructive"})}finally{s(!1)}};return y.useEffect(()=>{o()},[e]),{locations:r,loading:a,refreshLocations:o}},x_e=[{value:"consultation",label:"Consulta/Orientao"},{value:"training",label:"Sesso de Treino"},{value:"assessment",label:"Avaliao Fsica"}];function b_e({open:e,onOpenChange:t,onConfirm:r,selectedSlot:n,loading:a=!1}){const[s,o]=y.useState({type:"consultation",title:"",objective:"",notes:"",location_id:""}),{locations:l,loading:c}=y_e(n==null?void 0:n.slot_teacher_id),[u,d]=y.useState({}),f=b=>{const w=new Date(b);return{date:w.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:w.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}},h=()=>{const b={};return s.title.trim()||(b.title="Ttulo  obrigatrio"),d(b),Object.keys(b).length===0},m=async()=>{if(h())try{await r({type:s.type,title:s.title,objective:s.objective,notes:s.notes,location_id:s.location_id==="no-location"?"":s.location_id}),o({type:"consultation",title:"",objective:"",notes:"",location_id:""}),d({})}catch(b){console.error("Error during booking:",b)}},g=()=>{o({type:"consultation",title:"",objective:"",notes:"",location_id:""}),d({}),t(!1)};if(!n)return null;const{date:p,time:v}=f(n.slot_start),x=f(n.slot_end).time;return i.jsx(Qa,{open:e,onOpenChange:g,children:i.jsxs(xa,{className:"sm:max-w-[500px]",children:[i.jsxs(ba,{children:[i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(rr,{className:"h-5 w-5"}),"Confirmar Agendamento"]}),i.jsx(dS,{children:"Preencha as informaes abaixo para confirmar seu agendamento com o professor."})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(rr,{className:"h-4 w-4"}),p]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(tn,{className:"h-4 w-4"}),v," - ",x]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Tc,{className:"h-3 w-3"}),"Durao: ",n.slot_minutes," minutos"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"session-type",children:"Tipo de Sesso *"}),i.jsxs(Ka,{value:s.type,onValueChange:b=>o(w=>({...w,type:b})),children:[i.jsx(pa,{children:i.jsx(Ya,{placeholder:"Selecione o tipo de sesso"})}),i.jsx(ga,{children:x_e.map(b=>i.jsx(Ke,{value:b.value,children:b.label},b.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"location",children:"Local do Treino (opcional)"}),i.jsxs(Ka,{value:s.location_id,onValueChange:b=>o(w=>({...w,location_id:b})),disabled:c,children:[i.jsx(pa,{children:i.jsx(Ya,{placeholder:c?"Carregando locais...":l.length===0?"Nenhum local cadastrado":"Selecione o local ou deixe em branco"})}),i.jsxs(ga,{children:[i.jsx(Ke,{value:"no-location",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ok,{className:"h-3 w-3 opacity-50"}),i.jsx("span",{children:"No especificar local"})]})}),l.map(b=>i.jsx(Ke,{value:b.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ok,{className:"h-3 w-3"}),i.jsxs("span",{children:[b.name," - ",b.city]})]})},b.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"title",children:"Ttulo da Sesso *"}),i.jsx(xe,{id:"title",value:s.title,onChange:b=>o(w=>({...w,title:b.target.value})),placeholder:"Ex: Primeira consulta, Treino de pernas, etc.",className:u.title?"border-destructive":""}),u.title&&i.jsx("p",{className:"text-sm text-destructive",children:u.title})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"objective",children:"Objetivo da Sesso"}),i.jsx(Zr,{id:"objective",value:s.objective,onChange:b=>o(w=>({...w,objective:b.target.value})),placeholder:"Descreva o que voc gostaria de alcanar nesta sesso...",rows:3,className:u.objective?"border-destructive":""}),u.objective&&i.jsx("p",{className:"text-sm text-destructive",children:u.objective})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"notes",children:"Observaes para o Professor"}),i.jsx(Zr,{id:"notes",value:s.notes,onChange:b=>o(w=>({...w,notes:b.target.value})),placeholder:"Informaes adicionais que o professor deve saber...",rows:2})]})]}),i.jsxs(dL,{children:[i.jsx(K,{variant:"outline",onClick:g,disabled:a,children:"Cancelar"}),i.jsx(K,{onClick:m,disabled:a,className:"min-w-[120px]",children:a?"Agendando...":"Confirmar Agendamento"})]})]})})}function w_e(){const e=Je(),{toast:t}=At(),[r,n]=y.useState(new Date),[a,s]=y.useState([]),[o,l]=y.useState(!1),[c,u]=y.useState(null),{upcomingAppointments:d,pastAppointments:f,loading:h,cancelAppointment:m,refreshAppointments:g,isOptimistic:p}=m_e(),{teacherId:v,loading:x,availability:b,getWeekdayName:w}=p_e(),{getAvailableSlots:j,bookAppointment:_,loading:S}=g_e(),{hasActiveSubscription:N,statusMessage:k,loading:E}=hS(),{minimumAdvanceMinutes:O,loading:C}=v_e(v),P=h||x||E||C,A=new Date().toISOString(),T=y.useMemo(()=>d.filter(U=>(U.status==="scheduled"||U.status==="confirmed")&&U.scheduled_time>A),[d,A]),M=y.useMemo(()=>[...d,...f].filter(U=>U.scheduled_time<A||U.status==="cancelled"),[d,f,A]),I=y.useMemo(()=>T[0]??null,[T]),B=y.useCallback(async()=>{if(!v||!r||b.length===0){s([]);return}const U=r.getDay(),Ne=b.find(we=>we.weekday===U),te=(Ne==null?void 0:Ne.slot_minutes)||60;try{const we=await j(v,r,te);s(we)}catch(we){console.error("Erro ao carregar slots:",we),s([])}},[v,r,j]);y.useEffect(()=>{!x&&v&&b.length>0&&B()},[v,r,x]),y.useEffect(()=>{if(!v||!N)return;let U;const Ne=F.channel(`agenda-availability-${v}`).on("postgres_changes",{event:"*",schema:"public",table:"teacher_availability",filter:`teacher_id=eq.${v}`},te=>{clearTimeout(U),U=setTimeout(()=>{B()},1e3)}).subscribe();return()=>{clearTimeout(U),F.removeChannel(Ne)}},[v,N]);const R=U=>new Date(U).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),L=U=>(typeof U=="string"?new Date(U):U).toLocaleDateString(),W=async U=>{if(v)try{if(await new Promise(we=>setTimeout(we,300)),!(await j(v,r,U.slot_minutes)).some(we=>we.slot_start===U.slot_start&&we.slot_end===U.slot_end)){t({title:"Horrio no disponvel",description:"Este horrio foi agendado por outro usurio. Os horrios foram atualizados.",variant:"destructive"}),B();return}u(U),l(!0)}catch(Ne){console.error("Erro ao validar slot:",Ne),t({title:"Erro",description:"Erro ao verificar disponibilidade do horrio. Tente novamente.",variant:"destructive"})}},Z=U=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(U),G=async U=>{var te,we,Q;if(!c||!v)return;let Ne=null;U.location_id&&U.location_id!=="no-location"&&U.location_id!==""&&(Z(U.location_id)?Ne=U.location_id:console.warn("Invalid UUID provided for location_id, setting to null:",U.location_id));try{await _({teacherId:v,scheduledTime:c.slot_start,type:U.type,duration:c.slot_minutes,title:U.title,description:"",studentTitle:U.title,studentObjectives:U.objective,studentNotes:U.notes,locationId:Ne})&&(l(!1),u(null),await Promise.all([g(),B()]),t({title:"Agendamento confirmado",description:"Seu agendamento foi criado com sucesso!"}))}catch(ne){throw console.error("Error in handleConfirmBooking:",ne),(te=ne==null?void 0:ne.message)!=null&&te.includes("not available")?t({title:"Horrio indisponvel",description:"Este horrio no est mais disponvel. Os horrios foram atualizados.",variant:"destructive"}):(we=ne==null?void 0:ne.message)!=null&&we.includes("too close")?t({title:"Tempo insuficiente",description:"O agendamento deve ser feito com mais antecedncia.",variant:"destructive"}):(Q=ne==null?void 0:ne.message)!=null&&Q.includes("same day")?t({title:"Agendamento no permitido",description:"Agendamentos no mesmo dia no so permitidos.",variant:"destructive"}):t({title:"Erro no agendamento",description:(ne==null?void 0:ne.message)||"Falha ao criar agendamento. Tente novamente.",variant:"destructive"}),l(!1),u(null),setTimeout(()=>{B()},500),ne}},ee=async U=>{await m(U,"Cancelado pelo aluno"),B()},fe=U=>{n(Ne=>{const te=new Date(Ne);return te.setDate(te.getDate()+U),te})};return i.jsxs("div",{className:"px-3 sm:px-4 pt-6 sm:pt-8 pb-20 sm:pb-24 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"p-2",children:i.jsx(Ot,{size:20})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Agenda"}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Gerencie seus treinos e consultas"})]})]}),i.jsx(V,{className:"card-gradient p-4 sm:p-6 mb-4 sm:mb-6 border border-primary/20",children:i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-primary to-primary-variant rounded-full flex items-center justify-center",children:i.jsx(rr,{size:20,className:"sm:size-6 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Prximo Agendamento"}),I?i.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:[L(I.scheduled_time)," s ",R(I.scheduled_time)," - ",I.title??I.type??"Sesso"]}):i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Sem agendamentos futuros"})]}),i.jsxs(K,{size:"sm",className:"btn-primary text-xs sm:text-sm px-2 sm:px-3",disabled:!I,children:[i.jsx("span",{className:"hidden sm:inline",children:"Ver Detalhes"}),i.jsx("span",{className:"sm:hidden",children:"Ver"})]})]})}),i.jsxs(Pv,{defaultValue:"disponiveis",className:"w-full",children:[i.jsxs(_h,{className:"grid w-full grid-cols-3 h-9 sm:h-10",children:[i.jsxs(Pn,{value:"disponiveis",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Disponveis"}),i.jsx("span",{className:"sm:hidden",children:"Livres"})]}),i.jsxs(Pn,{value:"agendados",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Agendados"}),i.jsx("span",{className:"sm:hidden",children:"Agenda"})]}),i.jsx(Pn,{value:"historico",className:"text-xs sm:text-sm px-1 sm:px-3",children:"Histrico"})]}),i.jsxs(Cn,{value:"disponiveis",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:["Horrios para ",r.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",...window.innerWidth>=640&&{year:"numeric"}})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>fe(-1),className:"flex-1 sm:flex-none",children:[i.jsx(rr,{size:14,className:"mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Dia anterior"}),i.jsx("span",{className:"sm:hidden",children:"Anterior"})]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>fe(1),className:"flex-1 sm:flex-none",children:[i.jsx(rr,{size:14,className:"mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Prximo dia"}),i.jsx("span",{className:"sm:hidden",children:"Prximo"})]})]})]}),P?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando horrios do professor..."})}):N?v?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:S?i.jsx("p",{className:"col-span-full text-sm text-muted-foreground text-center py-4",children:"Carregando horrios..."}):i.jsxs(i.Fragment,{children:[a.map((U,Ne)=>i.jsx(V,{className:"p-3 sm:p-4 border transition-all card-gradient border-border/50 hover:border-primary/50",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(tn,{size:14,className:"sm:size-4 text-primary"}),i.jsxs("span",{className:"font-medium text-foreground text-sm sm:text-base",children:[R(U.slot_start)," - ",R(U.slot_end)]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[U.slot_minutes," minutos"]}),i.jsx("span",{className:"text-xs text-success",children:"Disponvel"}),i.jsxs(K,{size:"sm",onClick:()=>W(U),disabled:S,className:"w-full text-xs sm:text-sm h-8 sm:h-9",children:[i.jsx("span",{className:"hidden sm:inline",children:"Agendar Horrio"}),i.jsx("span",{className:"sm:hidden",children:"Agendar"})]})]})},Ne)),a.length===0&&!P&&i.jsxs("div",{className:"col-span-full text-center py-6 sm:py-8",children:[i.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground mb-4",children:["Nenhum horrio disponvel para ",L(r)]}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:b.some(U=>U.weekday===r.getDay())?`Os horrios podem no estar disponveis devido ao tempo mnimo de antecedncia (${bU(O)}) ou j estarem ocupados.`:"O professor no tem disponibilidade configurada para este dia."}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("p",{className:"font-medium mb-2",children:"Dias disponveis:"}),i.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-center",children:b.length>0?b.map(U=>i.jsxs("span",{className:"px-2 py-1 bg-muted rounded text-xs",children:[i.jsxs("span",{className:"hidden sm:inline",children:[w(U.weekday)," (",U.start_time," - ",U.end_time,")"]}),i.jsx("span",{className:"sm:hidden",children:w(U.weekday).slice(0,3)})]},U.id)):i.jsx("span",{className:"text-xs text-muted-foreground text-center",children:v?"Professor no tem disponibilidade configurada":"Carregando disponibilidade..."})}),b.length>0&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Use os botes acima para navegar para os dias disponveis"})]})]})]})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguardando designao de professor..."}):i.jsx(V,{className:"p-6 text-center border border-warning/20 bg-warning/5",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-16 h-16 bg-warning/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(rr,{size:32,className:"text-warning"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Consultoria Necessria"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:k}),i.jsx(K,{className:"btn-primary",onClick:()=>e("/assinaturas-planos"),children:"Ver Planos Disponveis"})]})]})})]}),i.jsxs(Cn,{value:"agendados",className:"space-y-3 sm:space-y-4",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Seus Agendamentos"}),T.map(U=>i.jsx(V,{className:"card-gradient p-3 sm:p-4 border border-border/50",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-foreground text-sm sm:text-base truncate",children:U.title??U.type??"Sesso"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.status==="confirmed"||U.status==="confirmado"?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:U.status==="confirmed"||U.status==="confirmado"?"Confirmado":"Agendado"})]}),i.jsx("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:i.jsxs("span",{children:[L(U.scheduled_time)," s ",R(U.scheduled_time)]})}),(U.student_objectives||U.student_notes)&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-border/30",children:[U.student_objectives&&i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[i.jsx("span",{className:"font-medium",children:"Objetivo:"})," ",U.student_objectives]}),U.student_notes&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"Observaes:"})," ",U.student_notes]})]})]}),i.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 sm:gap-1 w-full sm:w-auto",children:[i.jsx(K,{size:"sm",variant:"outline",className:"flex-1 sm:flex-none text-xs sm:text-sm",disabled:p(U.id),children:p(U.id)?"Processando...":"Editar"}),i.jsx(K,{size:"sm",variant:"destructive",onClick:()=>ee(U.id),disabled:p(U.id),className:"flex-1 sm:flex-none text-xs sm:text-sm",children:p(U.id)?"Cancelando...":"Cancelar"})]})]})},U.id)),T.length===0&&i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center py-4",children:"Sem agendamentos confirmados."})]}),i.jsxs(Cn,{value:"historico",className:"space-y-3 sm:space-y-4",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Histrico"}),M.map(U=>i.jsx(V,{className:"card-gradient p-3 sm:p-4 border border-border/50",children:i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-foreground text-sm sm:text-base truncate",children:U.title??U.type??"Sesso"}),U.status==="cancelled"?i.jsx(jj,{size:16,className:"text-destructive"}):i.jsx(Mi,{size:16,className:"text-success"})]}),i.jsx("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:i.jsxs("span",{children:[L(U.scheduled_time)," s ",R(U.scheduled_time)]})})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.status==="cancelled"?"bg-destructive/10 text-destructive":"bg-success/10 text-success"}`,children:U.status==="cancelled"?"Cancelado":"Concludo"})]}),i.jsxs("div",{className:"space-y-2",children:[(U.student_objectives||U.student_notes)&&i.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Detalhes da Sesso:"}),U.student_objectives&&i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[i.jsx("span",{className:"font-medium",children:"Objetivo:"})," ",U.student_objectives]}),U.student_notes&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"Observaes:"})," ",U.student_notes]})]}),U.status==="cancelled"&&(U.cancellation_reason||U.notes)&&i.jsxs("div",{className:"p-2 bg-destructive/5 border border-destructive/20 rounded-md",children:[i.jsx("p",{className:"text-xs font-medium text-destructive mb-1",children:"Motivo do Cancelamento:"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:U.cancellation_reason||U.notes||"No informado"}),U.cancelled_at&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Cancelado em: ",L(U.cancelled_at)," s ",R(U.cancelled_at)]})]}),U.notes&&U.status!=="cancelled"&&i.jsxs("div",{className:"p-2 bg-primary/5 border border-primary/20 rounded-md",children:[i.jsx("p",{className:"text-xs font-medium text-primary mb-1",children:"Observaes do Professor:"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:U.notes})]})]})]})},U.id)),M.length===0&&i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center py-4",children:"Nada por aqui ainda."})]})]}),i.jsx(b_e,{open:o,onOpenChange:l,onConfirm:G,selectedSlot:c,loading:S})]})}const ES=()=>{const{user:e}=Yt(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState(null),l=y.useCallback(async()=>{if(e!=null&&e.id)try{a(!0);const{data:g,error:p}=await F.from("user_goals").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(p)throw p;r(g||[])}catch(g){console.error("Error fetching goals:",g),o(g.message),ke.error("Erro ao carregar metas")}finally{a(!1)}},[e==null?void 0:e.id]),c=y.useCallback(async g=>{if(!(e!=null&&e.id))return!1;try{const{error:p}=await F.from("user_goals").insert({...g,user_id:e.id});if(p)throw p;return await l(),ke.success("Meta criada com sucesso! "),!0}catch(p){return console.error("Error creating goal:",p),ke.error("Erro ao criar meta"),!1}},[e==null?void 0:e.id,l]),u=y.useCallback(async(g,p)=>{try{const{error:v}=await F.from("user_goals").update(p).eq("id",g);if(v)throw v;return await l(),ke.success("Meta atualizada! "),!0}catch(v){return console.error("Error updating goal:",v),ke.error("Erro ao atualizar meta"),!1}},[l]),d=y.useCallback(async(g,p)=>{try{const{error:v}=await F.from("user_goals").update({current_value:p}).eq("id",g);if(v)throw v;return await l(),!0}catch(v){return console.error("Error updating goal progress:",v),ke.error("Erro ao atualizar progresso"),!1}},[l]),f=y.useCallback(async g=>{try{const{error:p}=await F.from("user_goals").update({status:"cancelled"}).eq("id",g);if(p)throw p;return await l(),ke.success("Meta cancelada"),!0}catch(p){return console.error("Error deleting goal:",p),ke.error("Erro ao cancelar meta"),!1}},[l]),h=y.useCallback(()=>{const g=t.filter(x=>x.status==="active"),p=t.filter(x=>x.status==="completed"),v=g.length>0?g.reduce((x,b)=>x+b.progress_percentage,0)/g.length:0;return{totalGoals:t.length,activeGoals:g.length,completedGoals:p.length,averageProgress:Math.round(v)}},[t]),m=y.useCallback(g=>t.filter(p=>p.category===g&&p.status==="active"),[t]);return y.useEffect(()=>{l()},[l]),y.useEffect(()=>{if(!(e!=null&&e.id))return;const g=F.channel("user_goals_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_goals",filter:`user_id=eq.${e.id}`},()=>{l()}).subscribe();return()=>{F.removeChannel(g)}},[e==null?void 0:e.id,l]),{goals:t,loading:n,error:s,createGoal:c,updateGoal:u,updateGoalProgress:d,deleteGoal:f,fetchGoals:l,getGoalStats:h,getGoalsByCategory:m}},pO=[{value:"peso",label:"Peso",icon:En,description:"Metas de perda ou ganho de peso"},{value:"cardio",label:"Cardio",icon:Sj,description:"Resistncia cardiovascular"},{value:"forca",label:"Fora",icon:ki,description:"Fora e musculao"},{value:"frequencia",label:"Frequncia",icon:rr,description:"Frequncia de treinos"},{value:"general",label:"Geral",icon:Nr,description:"Outras metas pessoais"}],j_e={peso:["kg","lbs"],cardio:["km","minutos","calorias"],forca:["kg","reps","sries"],frequencia:["treinos","dias"],general:["unidades","pontos","vezes"]},gO=({trigger:e})=>{var u;const{createGoal:t}=ES(),[r,n]=y.useState(!1),[a,s]=y.useState({title:"",description:"",category:"general",target_value:"",target_unit:"",target_date:"",points_reward:"100"}),o=async d=>{if(d.preventDefault(),!a.title||!a.target_value)return;await t({title:a.title,description:a.description,category:a.category,target_type:"numeric",target_value:parseFloat(a.target_value),target_unit:a.target_unit,current_value:0,status:"active",start_date:new Date().toISOString().split("T")[0],target_date:a.target_date||void 0,points_reward:parseInt(a.points_reward),is_challenge_based:!1,metadata:{}})&&(n(!1),s({title:"",description:"",category:"general",target_value:"",target_unit:"",target_date:"",points_reward:"100"}))},l=pO.find(d=>d.value===a.category),c=(l==null?void 0:l.icon)||Nr;return i.jsxs(Qa,{open:r,onOpenChange:n,children:[i.jsx(uS,{asChild:!0,children:e||i.jsxs(K,{className:"btn-primary w-full",children:[i.jsx(Li,{size:18,className:"mr-2"}),"Adicionar Nova Meta"]})}),i.jsxs(xa,{className:"sm:max-w-md",children:[i.jsx(ba,{children:i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(En,{size:20,className:"text-primary"}),"Nova Meta"]})}),i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(se,{htmlFor:"title",children:"Ttulo da Meta"}),i.jsx(xe,{id:"title",placeholder:"Ex: Perder 5kg",value:a.title,onChange:d=>s({...a,title:d.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"description",children:"Descrio"}),i.jsx(Zr,{id:"description",placeholder:"Descreva sua meta em detalhes...",value:a.description,onChange:d=>s({...a,description:d.target.value}),rows:2})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"category",children:"Categoria"}),i.jsxs(Ka,{value:a.category,onValueChange:d=>s({...a,category:d}),children:[i.jsx(pa,{children:i.jsx(Ya,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(c,{size:16}),l==null?void 0:l.label]})})}),i.jsx(ga,{children:pO.map(d=>{const f=d.icon;return i.jsx(Ke,{value:d.value,children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(f,{size:16,className:"mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:d.label}),i.jsx("div",{className:"text-xs text-muted-foreground",children:d.description})]})]})},d.value)})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(se,{htmlFor:"target_value",children:"Meta"}),i.jsx(xe,{id:"target_value",type:"number",step:"0.1",placeholder:"0",value:a.target_value,onChange:d=>s({...a,target_value:d.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"target_unit",children:"Unidade"}),i.jsxs(Ka,{value:a.target_unit,onValueChange:d=>s({...a,target_unit:d}),children:[i.jsx(pa,{children:i.jsx(Ya,{placeholder:"Selecione"})}),i.jsx(ga,{children:(u=j_e[a.category])==null?void 0:u.map(d=>i.jsx(Ke,{value:d,children:d},d))})]})]})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"target_date",children:"Prazo (opcional)"}),i.jsx(xe,{id:"target_date",type:"date",value:a.target_date,onChange:d=>s({...a,target_date:d.target.value}),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"points_reward",children:"Pontos por Concluso"}),i.jsx(xe,{id:"points_reward",type:"number",value:a.points_reward,onChange:d=>s({...a,points_reward:d.target.value}),min:"10",step:"10"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),i.jsx(K,{type:"submit",className:"btn-primary",children:"Criar Meta"})]})]})]})]})},__e=({goal:e,trigger:t})=>{const{updateGoalProgress:r}=ES(),[n,a]=y.useState(!1),[s,o]=y.useState(e.current_value.toString()),l=async u=>{u.preventDefault();const d=parseFloat(s);if(isNaN(d)||d<0)return;await r(e.id,d)&&a(!1)},c=e.target_value>0?Math.min(100,parseFloat(s)/e.target_value*100):0;return i.jsxs(Qa,{open:n,onOpenChange:a,children:[i.jsx(uS,{asChild:!0,children:t||i.jsxs(K,{size:"sm",className:"btn-primary",children:[i.jsx(kz,{size:16,className:"mr-1"}),"Atualizar"]})}),i.jsxs(xa,{className:"sm:max-w-md",children:[i.jsx(ba,{children:i.jsx(wa,{className:"text-lg",children:e.title})}),i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progresso Atual"}),i.jsxs("span",{className:"font-medium",children:[Math.round(c),"%"]})]}),i.jsx(nl,{value:c,className:"h-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[parseFloat(s)||0," ",e.target_unit]}),i.jsxs("span",{children:[e.target_value," ",e.target_unit]})]})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"currentValue",children:"Valor Atual"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(xe,{id:"currentValue",type:"number",step:"0.1",min:"0",max:e.target_value*1.5,value:s,onChange:u=>o(u.target.value),placeholder:"0",className:"flex-1"}),i.jsx("div",{className:"flex items-center px-3 bg-muted rounded-md text-sm text-muted-foreground",children:e.target_unit})]})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg space-y-1",children:[i.jsxs("div",{className:"text-sm font-medium",children:["Meta: ",e.target_value," ",e.target_unit]}),e.description&&i.jsx("div",{className:"text-xs text-muted-foreground",children:e.description}),e.target_date&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Prazo: ",new Date(e.target_date).toLocaleDateString("pt-BR")]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),i.jsx(K,{type:"submit",className:"btn-primary",children:"Salvar Progresso"})]})]})]})]})},S_e={peso:"success",cardio:"primary",forca:"warning",frequencia:"accent",general:"secondary"},N_e={peso:"Peso",cardio:"Cardio",forca:"Fora",frequencia:"Frequncia",general:"Geral"},k_e=()=>{const e=Je(),{goals:t,loading:r,getGoalStats:n}=ES(),{userPoints:a,achievements:s=[],userAchievements:o=[]}=mG(),l=n(),c=t.filter(f=>f.status==="active"),u=o.slice(0,3),d=[{label:"Metas Ativas",valor:l.activeGoals.toString(),icone:En,cor:"primary"},{label:"Conquistas",valor:o.length.toString(),icone:Mo,cor:"warning"},{label:"Progresso Mdio",valor:`${l.averageProgress}%`,icone:Lo,cor:"success"}];return r?i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"p-2",children:i.jsx(Ot,{size:20})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Metas e Progresso"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."})]})]}),i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((f,h)=>i.jsxs(V,{className:"card-gradient p-6 animate-pulse",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},h))})]}):i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"p-2",children:i.jsx(Ot,{size:20})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Metas e Progresso"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Acompanhe seu desenvolvimento"})]})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:d.map((f,h)=>i.jsx(V,{className:"card-gradient p-4 border border-border/50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(f.icone,{size:20,className:`text-${f.cor} mx-auto mb-2`}),i.jsx("div",{className:"text-lg font-bold text-foreground",children:f.valor}),i.jsx("div",{className:"text-xs text-muted-foreground",children:f.label})]})},h))}),i.jsx("div",{className:"mb-6",children:i.jsx(gO,{})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Metas Ativas"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.length," metas"]})]}),c.length===0?i.jsxs(V,{className:"card-gradient p-8 text-center border border-border/50",children:[i.jsx(En,{size:48,className:"mx-auto mb-4 text-muted-foreground"}),i.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:"Nenhuma meta ativa"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Comece definindo suas metas pessoais para acompanhar seu progresso"}),i.jsx(gO,{trigger:i.jsxs(K,{className:"btn-primary",children:[i.jsx(Li,{size:18,className:"mr-2"}),"Criar Primeira Meta"]})})]}):c.map(f=>{const h=S_e[f.category]||"primary",m=N_e[f.category]||f.category;return i.jsxs(V,{className:"card-gradient p-6 border border-border/50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-foreground text-lg",children:f.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),i.jsx("span",{className:"inline-block mt-2 text-xs px-2 py-1 bg-muted rounded-full",children:m})]}),i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br from-${h} to-${h}/80 rounded-full flex items-center justify-center`,children:i.jsx(En,{size:20,className:"text-white"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),i.jsxs("span",{className:"font-medium text-foreground",children:[Math.round(f.progress_percentage),"%"]})]}),i.jsx(nl,{value:f.progress_percentage,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[f.current_value," / ",f.target_value," ",f.target_unit]}),f.target_date&&i.jsxs("span",{className:"text-warning",children:["at ",new Date(f.target_date).toLocaleDateString("pt-BR")]})]})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(K,{size:"sm",variant:"outline",className:"flex-1",children:"Editar"}),i.jsx(__e,{goal:f,trigger:i.jsx(K,{size:"sm",className:"btn-primary flex-1",children:"Atualizar"})})]})]},f.id)})]}),u.length>0&&i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Conquistas Recentes"}),i.jsx("div",{className:"space-y-3",children:u.map((f,h)=>{var m;return i.jsx(V,{className:"card-gradient p-4 border border-border/50",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center",children:i.jsx(Mo,{size:16,className:"text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-foreground",children:((m=f.achievement)==null?void 0:m.title)||"Conquista"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["+",f.points_earned," pontos"]})]}),i.jsx("div",{className:"text-right",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(f.earned_at).toLocaleDateString("pt-BR")})})]})},h)})})]}),i.jsx(V,{className:"card-gradient p-4 mt-6 border border-primary/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-variant rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm",children:""})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-foreground",children:"Dica do Coach"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.length===0?"Defina metas especficas e mensurveis. O progresso acontece um passo de cada vez!":"Continue firme! Atualize seu progresso regularmente para manter a motivao em alta!"})]})]})})]})},E_e=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(!1),o=Je(),{toast:l}=At();y.useEffect(()=>{document.title="Redefinir Senha - Shape Pro"},[]);const c=async u=>{if(u.preventDefault(),e.length<6){l({title:"Senha muito curta",description:"Mnimo de 6 caracteres.",variant:"destructive"});return}if(e!==r){l({title:"Senhas no conferem",description:"Verifique e tente novamente.",variant:"destructive"});return}s(!0);try{const{error:d}=await F.auth.updateUser({password:e});if(d)throw d;l({title:"Senha atualizada!",description:"Voc ser redirecionado para a home."}),o("/",{replace:!0})}catch(d){l({title:"Erro ao redefinir",description:d.message||"Tente novamente.",variant:"destructive"})}finally{s(!1)}};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(V,{children:[i.jsxs(ft,{children:[i.jsx(gt,{children:"Redefinir Senha"}),i.jsx(Xo,{children:"Informe a nova senha para sua conta"})]}),i.jsx(re,{children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"password",children:"Nova Senha"}),i.jsx(xe,{id:"password",type:"password",value:e,onChange:u=>t(u.target.value),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{htmlFor:"confirm",children:"Confirmar Senha"}),i.jsx(xe,{id:"confirm",type:"password",value:r,onChange:u=>n(u.target.value),required:!0,minLength:6})]}),i.jsx(K,{type:"submit",className:"w-full",disabled:a,children:a?"Salvando...":"Atualizar Senha"})]})})]})})})},P_e=hh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),G5=y.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Se(P_e({variant:t}),e),...r}));G5.displayName="Alert";const C_e=y.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:Se("mb-1 font-medium leading-none tracking-tight",e),...t}));C_e.displayName="AlertTitle";const K5=y.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Se("text-sm [&_p]:leading-relaxed",e),...t}));K5.displayName="AlertDescription";function Dn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ms(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function O_e(e,t){const r=Dn(e);return isNaN(t)?Ms(e,NaN):(r.setDate(r.getDate()+t),r)}const Y5=6048e5,A_e=864e5;let T_e={};function Ey(){return T_e}function th(e,t){var l,c,u,d;const r=Ey(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dn(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Tg(e){return th(e,{weekStartsOn:1})}function X5(e){const t=Dn(e),r=t.getFullYear(),n=Ms(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Tg(n),s=Ms(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Tg(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function $g(e){const t=Dn(e);return t.setHours(0,0,0,0),t}function vO(e){const t=Dn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function $_e(e,t){const r=$g(e),n=$g(t),a=+r-vO(r),s=+n-vO(n);return Math.round((a-s)/A_e)}function M_e(e){const t=X5(e),r=Ms(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Tg(r)}function Z5(e){return Ms(e,Date.now())}function Q5(e,t){const r=$g(e),n=$g(t);return+r==+n}function I_e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function R_e(e){if(!I_e(e)&&typeof e!="number")return!1;const t=Dn(e);return!isNaN(Number(t))}function D_e(e){const t=Dn(e),r=Ms(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const L_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},F_e=(e,t,r)=>{let n;const a=L_e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function mc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const B_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W_e={date:mc({formats:B_e,defaultWidth:"full"}),time:mc({formats:z_e,defaultWidth:"full"}),dateTime:mc({formats:U_e,defaultWidth:"full"})},q_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V_e=(e,t,r,n)=>q_e[e];function Ma(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const H_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q_e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},J_e={ordinalNumber:Q_e,era:Ma({values:H_e,defaultWidth:"wide"}),quarter:Ma({values:G_e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ma({values:K_e,defaultWidth:"wide"}),day:Ma({values:Y_e,defaultWidth:"wide"}),dayPeriod:Ma({values:X_e,defaultWidth:"wide",formattingValues:Z_e,defaultFormattingWidth:"wide"})};function Ia(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?tSe(l,f=>f.test(o)):eSe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function eSe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tSe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function J5(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const rSe=/^(\d+)(th|st|nd|rd)?/i,nSe=/\d+/i,aSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sSe={any:[/^b/i,/^(a|c)/i]},iSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oSe={any:[/1/i,/2/i,/3/i,/4/i]},lSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mSe={ordinalNumber:J5({matchPattern:rSe,parsePattern:nSe,valueCallback:e=>parseInt(e,10)}),era:Ia({matchPatterns:aSe,defaultMatchWidth:"wide",parsePatterns:sSe,defaultParseWidth:"any"}),quarter:Ia({matchPatterns:iSe,defaultMatchWidth:"wide",parsePatterns:oSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ia({matchPatterns:lSe,defaultMatchWidth:"wide",parsePatterns:cSe,defaultParseWidth:"any"}),day:Ia({matchPatterns:uSe,defaultMatchWidth:"wide",parsePatterns:dSe,defaultParseWidth:"any"}),dayPeriod:Ia({matchPatterns:fSe,defaultMatchWidth:"any",parsePatterns:hSe,defaultParseWidth:"any"})},pSe={code:"en-US",formatDistance:F_e,formatLong:W_e,formatRelative:V_e,localize:J_e,match:mSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gSe(e){const t=Dn(e);return $_e(t,D_e(t))+1}function vSe(e){const t=Dn(e),r=+Tg(t)-+M_e(t);return Math.round(r/Y5)+1}function eF(e,t){var d,f,h,m;const r=Dn(e),n=r.getFullYear(),a=Ey(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ms(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=th(o,t),c=Ms(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=th(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ySe(e,t){var l,c,u,d;const r=Ey(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=eF(e,t),s=Ms(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),th(s,t)}function xSe(e,t){const r=Dn(e),n=+th(r,t)-+ySe(r,t);return Math.round(n/Y5)+1}function nt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return nt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):nt(r+1,2)},d(e,t){return nt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return nt(e.getHours()%12||12,t.length)},H(e,t){return nt(e.getHours(),t.length)},m(e,t){return nt(e.getMinutes(),t.length)},s(e,t){return nt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return nt(a,t.length)}},Tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Gs.y(e,t)},Y:function(e,t,r,n){const a=eF(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return nt(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):nt(s,t.length)},R:function(e,t){const r=X5(e);return nt(r,t.length)},u:function(e,t){const r=e.getFullYear();return nt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return nt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return nt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return nt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=xSe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):nt(a,t.length)},I:function(e,t,r){const n=vSe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):nt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gs.d(e,t)},D:function(e,t,r){const n=gSe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):nt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return nt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return nt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return nt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Tl.noon:n===0?a=Tl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Tl.evening:n>=12?a=Tl.afternoon:n>=4?a=Tl.morning:a=Tl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):nt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):nt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gs.s(e,t)},S:function(e,t){return Gs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return bO(n);case"XXXX":case"XX":return mo(n);case"XXXXX":case"XXX":default:return mo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return bO(n);case"xxxx":case"xx":return mo(n);case"xxxxx":case"xxx":default:return mo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+xO(n,":");case"OOOO":default:return"GMT"+mo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+xO(n,":");case"zzzz":default:return"GMT"+mo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return nt(n,t.length)},T:function(e,t,r){const n=e.getTime();return nt(n,t.length)}};function xO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+nt(s,2)}function bO(e,t){return e%60===0?(e>0?"-":"+")+nt(Math.abs(e)/60,2):mo(e,t)}function mo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=nt(Math.trunc(n/60),2),s=nt(n%60,2);return r+a+t+s}const wO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},tF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bSe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wO(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",wO(n,t)).replace("{{time}}",tF(a,t))},wSe={p:tF,P:bSe},jSe=/^D+$/,_Se=/^Y+$/,SSe=["D","DD","YY","YYYY"];function NSe(e){return jSe.test(e)}function kSe(e){return _Se.test(e)}function ESe(e,t,r){const n=PSe(e,t,r);if(console.warn(n),SSe.includes(e))throw new RangeError(n)}function PSe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ASe=/^'([^]*?)'?$/,TSe=/''/g,$Se=/[a-zA-Z]/;function il(e,t,r){var d,f,h,m,g,p,v,x;const n=Ey(),a=(r==null?void 0:r.locale)??n.locale??pSe,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Dn(e);if(!R_e(l))throw new RangeError("Invalid time value");let c=t.match(OSe).map(b=>{const w=b[0];if(w==="p"||w==="P"){const j=wSe[w];return j(b,a.formatLong)}return b}).join("").match(CSe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:MSe(b)};if(yO[w])return{isToken:!0,value:b};if(w.match($Se))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&kSe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&NSe(w))&&ESe(w,t,String(e));const j=yO[w[0]];return j(l,w,a.localize,u)}).join("")}function MSe(e){const t=e.match(ASe);return t?t[1].replace(TSe,"'"):e}function ISe(e){return Q5(e,Z5(e))}function RSe(e,t){return O_e(e,-1)}function DSe(e){return Q5(e,RSe(Z5(e)))}const LSe=({open:e,onOpenChange:t,onSuccess:r})=>{const[n,a]=y.useState(""),[s,o]=y.useState(il(new Date,"yyyy-MM-dd")),[l,c]=y.useState(""),[u,d]=y.useState("others"),[f,h]=y.useState(null),[m,g]=y.useState(!1),{toast:p}=At(),v=w=>{var _;const j=(_=w.target.files)==null?void 0:_[0];if(j){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(j.type)){p({title:"Erro",description:"Por favor, selecione apenas arquivos PDF ou imagens (JPG, PNG).",variant:"destructive"});return}h(j)}},x=async()=>{if(!f||!n.trim()){p({title:"Erro",description:"Ttulo e arquivo so obrigatrios.",variant:"destructive"});return}g(!0);try{const{data:{user:w}}=await F.auth.getUser();if(!w)throw new Error("Usurio no autenticado");const j=f.name.split(".").pop(),_=`${Date.now()}.${j}`,S=`${w.id}/${_}`,{error:N}=await F.storage.from("medical-exams").upload(S,f);if(N)throw N;const{data:k,error:E}=await F.storage.from("medical-exams").createSignedUrl(S,60*60*24*365);if(E)throw E;const{error:O}=await F.from("medical_exams").insert({user_id:w.id,title:n.trim(),date:s,notes:l.trim()||null,file_url:k.signedUrl,category:u});if(O)throw O;p({title:"Sucesso",description:"Exame mdico adicionado com sucesso!"}),a(""),o(il(new Date,"yyyy-MM-dd")),c(""),d("others"),h(null),r(),t(!1)}catch(w){console.error("Error uploading medical exam:",w),p({title:"Erro",description:"Erro ao adicionar exame mdico. Tente novamente.",variant:"destructive"})}finally{g(!1)}},b=w=>{if(w===0)return"0 Bytes";const j=1024,_=["Bytes","KB","MB","GB"],S=Math.floor(Math.log(w)/Math.log(j));return parseFloat((w/Math.pow(j,S)).toFixed(2))+" "+_[S]};return i.jsx(Qa,{open:e,onOpenChange:t,children:i.jsxs(xa,{className:"sm:max-w-[500px]",children:[i.jsx(ba,{children:i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(Ri,{className:"w-5 h-5"}),"Adicionar Exame Mdico"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(se,{htmlFor:"title",children:"Ttulo do Exame *"}),i.jsx(xe,{id:"title",value:n,onChange:w=>a(w.target.value),placeholder:"Ex: Exame de sangue completo",disabled:m})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"date",children:"Data do Exame"}),i.jsx(xe,{id:"date",type:"date",value:s,onChange:w=>o(w.target.value),disabled:m})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"category",children:"Categoria do Exame"}),i.jsxs(Ka,{value:u,onValueChange:w=>d(w),disabled:m,children:[i.jsx(pa,{children:i.jsx(Ya,{placeholder:"Selecione a categoria"})}),i.jsxs(ga,{children:[i.jsx(Ke,{value:"blood",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lf,{className:"w-4 h-4 text-red-500"}),"Exames de Sangue"]})}),i.jsx(Ke,{value:"cardiology",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Do,{className:"w-4 h-4 text-pink-500"}),"Cardiolgicos"]})}),i.jsx(Ke,{value:"imaging",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uf,{className:"w-4 h-4 text-blue-500"}),"Exames de Imagem"]})}),i.jsx(Ke,{value:"others",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ro,{className:"w-4 h-4 text-gray-500"}),"Outros"]})})]})]})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"notes",children:"Observaes"}),i.jsx(Zr,{id:"notes",value:l,onChange:w=>c(w.target.value),placeholder:"Observaes sobre o exame...",rows:3,disabled:m})]}),i.jsxs("div",{children:[i.jsx(se,{children:"Arquivo do Exame *"}),f?i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ri,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:f.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:b(f.size)})]})]}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>h(null),disabled:m,children:i.jsx(ph,{className:"w-4 h-4"})})]}):i.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-muted-foreground/25 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[i.jsx(iM,{className:"w-8 h-8 mb-4 text-muted-foreground"}),i.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-semibold",children:"Clique para selecionar"})," um arquivo"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, JPG ou PNG (mx. 10MB)"})]}),i.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:v,disabled:m})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(K,{variant:"outline",onClick:()=>t(!1),disabled:m,className:"flex-1",children:"Cancelar"}),i.jsx(K,{onClick:x,disabled:!f||!n.trim()||m,className:"flex-1",children:m?"Salvando...":"Salvar Exame"})]})]})]})})},FSe=()=>{const e=Je(),{user:t}=Yt(),[r,n]=y.useState([]),[a,s]=y.useState(!0),[o,l]=y.useState(!1),[c,u]=y.useState("all"),{toast:d}=At(),f=async()=>{if(t!=null&&t.id)try{const{data:x,error:b}=await F.from("medical_exams").select("*").eq("user_id",t.id).order("date",{ascending:!1});if(b)throw b;n(x||[])}catch(x){console.error("Erro ao buscar exames:",x),d({title:"Erro",description:"Erro ao carregar exames mdicos",variant:"destructive"})}finally{s(!1)}};y.useEffect(()=>{f()},[t==null?void 0:t.id]);const h=x=>{switch(x){case"blood":return i.jsx(lf,{className:"w-4 h-4 text-red-500"});case"cardiology":return i.jsx(Do,{className:"w-4 h-4 text-pink-500"});case"imaging":return i.jsx(uf,{className:"w-4 h-4 text-blue-500"});default:return i.jsx(Ro,{className:"w-4 h-4 text-gray-500"})}},m=x=>{switch(x){case"blood":return"Exames de Sangue";case"cardiology":return"Cardiolgicos";case"imaging":return"Exames de Imagem";default:return"Outros"}},g=x=>r.filter(b=>b.category===x).length,p=()=>{f()},v=$.useMemo(()=>c==="all"?r:r.filter(x=>x.category===c),[r,c]);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"p-4 pt-8 border-b border-border/30",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/?tab=profile"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Exames Mdicos"})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs(G5,{className:"mb-6",children:[i.jsx(Ri,{className:"h-4 w-4"}),i.jsx(K5,{children:"Seus exames mdicos so atualizados em tempo real e ficam disponveis para seu professor acompanhar sua evoluo."})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Meus Exames Mdicos"}),i.jsxs(K,{onClick:()=>l(!0),children:[i.jsx(Li,{className:"w-4 h-4 mr-2"}),"Adicionar Exame"]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(V,{className:`cursor-pointer transition-all ${c==="blood"?"ring-2 ring-red-500":"hover:shadow-md"}`,onClick:()=>u(c==="blood"?"all":"blood"),children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(lf,{className:"w-6 h-6 text-red-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Sangue"}),i.jsx(Qe,{variant:"secondary",children:g("blood")})]})})}),i.jsx(V,{className:`cursor-pointer transition-all ${c==="cardiology"?"ring-2 ring-pink-500":"hover:shadow-md"}`,onClick:()=>u(c==="cardiology"?"all":"cardiology"),children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Do,{className:"w-6 h-6 text-pink-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Cardio"}),i.jsx(Qe,{variant:"secondary",children:g("cardiology")})]})})}),i.jsx(V,{className:`cursor-pointer transition-all ${c==="imaging"?"ring-2 ring-blue-500":"hover:shadow-md"}`,onClick:()=>u(c==="imaging"?"all":"imaging"),children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(uf,{className:"w-6 h-6 text-blue-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Imagem"}),i.jsx(Qe,{variant:"secondary",children:g("imaging")})]})})}),i.jsx(V,{className:`cursor-pointer transition-all ${c==="others"?"ring-2 ring-gray-500":"hover:shadow-md"}`,onClick:()=>u(c==="others"?"all":"others"),children:i.jsx(re,{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Ro,{className:"w-6 h-6 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Outros"}),i.jsx(Qe,{variant:"secondary",children:g("others")})]})})})]}),c!=="all"&&i.jsx("div",{className:"mb-4",children:i.jsx(K,{variant:"outline",size:"sm",onClick:()=>u("all"),children:" Mostrar todos os exames"})}),a?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Carregando exames..."})}):v.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ri,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:c==="all"?"Nenhum exame mdico encontrado.":`Nenhum exame da categoria "${m(c)}" encontrado.`})]}):i.jsx("div",{className:"space-y-4",children:v.map(x=>i.jsx(V,{children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h(x.category),i.jsx("h3",{className:"font-medium",children:x.title}),i.jsx(Qe,{variant:"outline",className:"text-xs",children:m(x.category)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[i.jsx(rr,{className:"w-4 h-4"}),i.jsx("span",{children:new Date(x.date).toLocaleDateString("pt-BR")})]}),x.notes&&i.jsx("p",{className:"text-sm text-muted-foreground",children:x.notes})]}),x.file_url&&i.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx("a",{href:x.file_url,download:!0,target:"_blank",rel:"noopener noreferrer",children:i.jsx(J$,{className:"w-4 h-4"})})})]})})},x.id))})]}),i.jsx(LSe,{open:o,onOpenChange:l,onSuccess:p})]})},BSe=({open:e,onOpenChange:t,onSuccess:r})=>{const[n,a]=y.useState(""),[s,o]=y.useState(il(new Date,"yyyy-MM-dd")),[l,c]=y.useState(""),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(!1),{toast:p}=At(),v=w=>{var _;const j=(_=w.target.files)==null?void 0:_[0];if(j){if(!j.type.startsWith("image/")){p({title:"Erro",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"});return}d(j);const S=URL.createObjectURL(j);h(S)}},x=async()=>{if(!u||!n.trim()){p({title:"Erro",description:"Ttulo e foto so obrigatrios.",variant:"destructive"});return}g(!0);try{const{data:{user:w}}=await F.auth.getUser();if(!w)throw new Error("Usurio no autenticado");const j=u.name.split(".").pop(),_=`${Date.now()}.${j}`,S=`${w.id}/${_}`,{error:N}=await F.storage.from("progress-photos").upload(S,u);if(N)throw N;const{data:k}=F.storage.from("progress-photos").getPublicUrl(S),{error:E}=await F.from("progress_photos").insert({user_id:w.id,title:n.trim(),date:s,notes:l.trim()||null,image_url:k.publicUrl});if(E)throw E;p({title:"Sucesso",description:"Foto de progresso adicionada com sucesso!"}),a(""),o(il(new Date,"yyyy-MM-dd")),c(""),d(null),h(null),r(),t(!1)}catch(w){console.error("Error uploading photo:",w),p({title:"Erro",description:"Erro ao adicionar foto de progresso. Tente novamente.",variant:"destructive"})}finally{g(!1)}},b=()=>{d(null),f&&(URL.revokeObjectURL(f),h(null))};return i.jsx(Qa,{open:e,onOpenChange:t,children:i.jsxs(xa,{className:"sm:max-w-[500px]",children:[i.jsx(ba,{children:i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(of,{className:"w-5 h-5"}),"Adicionar Foto de Progresso"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(se,{htmlFor:"title",children:"Ttulo *"}),i.jsx(xe,{id:"title",value:n,onChange:w=>a(w.target.value),placeholder:"Ex: Progresso 3 meses",disabled:m})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"date",children:"Data"}),i.jsx(xe,{id:"date",type:"date",value:s,onChange:w=>o(w.target.value),disabled:m})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"notes",children:"Observaes"}),i.jsx(Zr,{id:"notes",value:l,onChange:w=>c(w.target.value),placeholder:"Observaes sobre o progresso...",rows:3,disabled:m})]}),i.jsxs("div",{children:[i.jsx(se,{children:"Foto *"}),f?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:f,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),i.jsx(K,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:b,disabled:m,children:i.jsx(ph,{className:"w-4 h-4"})})]}):i.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-muted-foreground/25 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[i.jsx(iM,{className:"w-8 h-8 mb-4 text-muted-foreground"}),i.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-semibold",children:"Clique para selecionar"})," uma foto"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG ou JPEG"})]}),i.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:v,disabled:m})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(K,{variant:"outline",onClick:()=>t(!1),disabled:m,className:"flex-1",children:"Cancelar"}),i.jsx(K,{onClick:x,disabled:!u||!n.trim()||m,className:"flex-1",children:m?"Salvando...":"Salvar Foto"})]})]})]})})},zSe=()=>{const e=Je(),{user:t}=Yt(),[r,n]=y.useState([]),[a,s]=y.useState(!0),[o,l]=y.useState("grid"),[c,u]=y.useState(!1);y.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const{data:h,error:m}=await F.from("progress_photos").select("*").eq("user_id",t.id).order("date",{ascending:!1});if(m)throw m;n(h||[])}catch(h){console.error("Erro ao buscar fotos:",h),ke.error("Erro ao carregar fotos de progresso")}finally{s(!1)}})()},[t==null?void 0:t.id]);const d=()=>{(async()=>{if(t!=null&&t.id)try{const{data:h,error:m}=await F.from("progress_photos").select("*").eq("user_id",t.id).order("date",{ascending:!1});if(m)throw m;n(h||[])}catch(h){console.error("Erro ao buscar fotos:",h),ke.error("Erro ao carregar fotos de progresso")}})()};return i.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[i.jsxs("div",{className:"p-4 pt-8 border-b border-border/30",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/?tab=profile"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Fotos de Progresso"}),i.jsx("span",{className:"ml-auto text-xs bg-warning/20 text-warning px-2 py-1 rounded-full font-medium",children:r.length})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>l("grid"),children:i.jsx(gz,{className:"w-4 h-4"})}),i.jsx(K,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>l("list"),children:i.jsx(jz,{className:"w-4 h-4"})})]}),i.jsxs("select",{className:"text-sm border border-border rounded px-2 py-1 bg-background",children:[i.jsx("option",{children:"Todos"}),i.jsx("option",{children:"Frente"}),i.jsx("option",{children:"Costas"}),i.jsx("option",{children:"Lateral"})]})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx(V,{className:"mb-4 bg-primary/10 border-primary/20",children:i.jsx(re,{className:"p-4",children:i.jsx("p",{className:"text-primary text-sm",children:"Todas as fotos sero compartilhadas com seu professor."})})}),i.jsxs(K,{className:"w-full mb-4",variant:"outline",onClick:()=>u(!0),children:[i.jsx(of,{className:"w-4 h-4 mr-2"}),"Adicionar Nova Foto"]}),a?i.jsx(V,{children:i.jsx(re,{className:"p-8 text-center text-muted-foreground",children:"Carregando fotos..."})}):r.length===0?i.jsx(V,{children:i.jsxs(re,{className:"p-8 text-center",children:[i.jsx(of,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma foto de progresso cadastrada."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Adicione fotos para acompanhar sua evoluo visual."})]})}):o==="grid"?i.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map(f=>i.jsx(V,{className:"overflow-hidden",children:i.jsxs("div",{className:"aspect-square bg-muted relative",children:[i.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:[i.jsx("p",{className:"text-white text-sm font-medium",children:f.title}),i.jsx("p",{className:"text-white/80 text-xs",children:new Date(f.date).toLocaleDateString("pt-BR")})]})]})},f.id))}):i.jsx("div",{className:"space-y-3",children:r.map(f=>i.jsx(V,{children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:i.jsx("img",{src:f.image_url,alt:f.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:f.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(rr,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(f.date).toLocaleDateString("pt-BR")})]}),f.notes&&i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:f.notes})]})]})})},f.id))})]}),i.jsx(BSe,{open:c,onOpenChange:u,onSuccess:d})]})},USe=()=>{const{user:e}=Yt(),t=y.useCallback(()=>(console.log(" Validating authentication..."),console.log("User from useAuthContext:",e),e!=null&&e.id?(console.log(" User authenticated:",e.id),!0):(console.error(" User not authenticated or missing ID"),ke.error("Usurio no autenticado. Faa login novamente."),!1)),[e]),r=y.useCallback(async()=>{try{console.log(" Testing Supabase connection...");const{data:s,error:o}=await F.from("progress").select("id").limit(1);return o?(console.error(" Connection test failed:",o),!1):(console.log(" Connection test successful"),!0)}catch(s){return console.error(" Connection test error:",s),!1}},[]),n=y.useCallback(async(s,o=2)=>{var l,c;console.log(" Attempting to insert progress records..."),console.log("Records to insert:",JSON.stringify(s,null,2));for(let u=1;u<=o+1;u++)try{console.log(` Insert attempt ${u}/${o+1}`);const{data:d,error:f}=await F.from("progress").insert(s).select();if(f){if(console.error(` Insert error on attempt ${u}:`,f),console.error("Error details:",{message:f.message,details:f.details,hint:f.hint,code:f.code}),(l=f.message)!=null&&l.includes("row-level security")||(c=f.message)!=null&&c.includes("policy"))return console.error(" RLS Policy Error detected"),ke.error("Erro de permisso. Verifique se voc est logado corretamente."),{success:!1,error:f};if(u<=o){console.log(` Retrying in ${u*1e3}ms...`),await new Promise(h=>setTimeout(h,u*1e3));continue}throw f}return console.log(" Insert successful:",d),{success:!0,data:d}}catch(d){if(console.error(` Insert failed on attempt ${u}:`,d),u<=o){console.log(` Retrying in ${u*1e3}ms...`),await new Promise(f=>setTimeout(f,u*1e3));continue}throw d}},[]);return{savePhysicalAssessment:y.useCallback(async s=>{var c,u,d,f,h;if(console.log(" === STARTING PHYSICAL ASSESSMENT SAVE ==="),console.log("Form data received:",s),!t())return!1;if(!await r())return ke.error("Erro de conexo. Verifique sua internet e tente novamente."),!1;const l=Object.values(s).some(m=>typeof m=="string"?m.trim()!=="":!!m);if(console.log("Has form data:",l),!l)return ke.error("Preencha pelo menos uma medida"),!1;try{const g=new Date().toISOString();console.log(" Assessment date:",g);const p=[];if((c=s.weight)!=null&&c.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(s.weight),unit:"kg",date:g,notes:"weight"}),(u=s.height)!=null&&u.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(s.height),unit:"cm",date:g,notes:"height"}),(d=s.body_fat)!=null&&d.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(s.body_fat),unit:"%",date:g,notes:"body_fat"}),(f=s.muscle_mass)!=null&&f.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(s.muscle_mass),unit:"kg",date:g,notes:"muscle_mass"}),Object.entries({relaxed_right_arm:"Brao relaxado direito",relaxed_left_arm:"Brao relaxado esquerdo",contracted_right_arm:"Brao contrado direito",contracted_left_arm:"Brao contrado esquerdo",right_forearm:"Antebrao direito",left_forearm:"Antebrao esquerdo"}).forEach(([_,S])=>{const N=s[_];N!=null&&N.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(N),unit:"cm",date:g,notes:S})}),Object.entries({neck:"Pescoo",shoulder:"Ombro",chest:"Peitoral",waist:"Cintura",abdomen:"Abdmen",hip:"Quadril"}).forEach(([_,S])=>{const N=s[_];N!=null&&N.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(N),unit:"cm",date:g,notes:S})}),Object.entries({right_calf:"Panturrilha direita",left_calf:"Panturrilha esquerda",right_thigh:"Coxa direita",left_thigh:"Coxa esquerda",right_proximal_thigh:"Coxa proximal direita",left_proximal_thigh:"Coxa proximal esquerda"}).forEach(([_,S])=>{const N=s[_];N!=null&&N.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(N),unit:"cm",date:g,notes:S})}),(h=s.skinfold_protocol)!=null&&h.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:1,unit:"protocolo",date:g,notes:`Protocolo: ${s.skinfold_protocol}`}),Object.entries({tricipital:"Dobra tricipital",bicipital:"Dobra bicipital",subescapular:"Dobra subescapular",axilar_media:"Dobra axilar mdia",peitoral:"Dobra peitoral",abdominal:"Dobra abdominal",supra_iliaca:"Dobra supra ilaca",coxa:"Dobra da coxa",panturrilha_medial:"Dobra panturrilha medial"}).forEach(([_,S])=>{const N=s[_];N!=null&&N.trim()&&p.push({user_id:e.id,type:"physical_assessment",value:parseFloat(N),unit:"mm",date:g,notes:S})}),console.log(` Built ${p.length} progress records`),p.length===0)return console.warn(" No valid records to insert"),ke.error("Nenhuma medida vlida encontrada"),!1;const j=await n(p);if(!j.success)throw j.error;return console.log(" Physical assessment saved successfully"),ke.success("Avaliao fsica registrada com sucesso! "),!0}catch(m){console.error(" Error saving physical assessment:",m);let g="Erro ao registrar avaliao fsica";return m instanceof Error&&(m.message.includes("network")?g="Erro de conexo. Verifique sua internet.":m.message.includes("permission")||m.message.includes("policy")?g="Erro de permisso. Faa login novamente.":m.message.includes("validation")&&(g="Dados invlidos. Verifique os valores inseridos.")),ke.error(g),!1}},[e,t,r,n]),validateAuthentication:t,testConnection:r}},WSe=({onAssessmentCreated:e})=>{const[t,r]=y.useState(!1),[n,a]=y.useState(!1),[s,o]=y.useState({weight:"",height:"",body_fat:"",muscle_mass:"",relaxed_right_arm:"",relaxed_left_arm:"",contracted_right_arm:"",contracted_left_arm:"",right_forearm:"",left_forearm:"",neck:"",shoulder:"",chest:"",waist:"",abdomen:"",hip:"",right_calf:"",left_calf:"",right_thigh:"",left_thigh:"",right_proximal_thigh:"",left_proximal_thigh:"",skinfold_protocol:"",tricipital:"",bicipital:"",subescapular:"",axilar_media:"",peitoral:"",abdominal:"",supra_iliaca:"",coxa:"",panturrilha_medial:""}),{user:l}=Yt(),{addWeightFromAssessment:c}=aS((l==null?void 0:l.id)||""),{savePhysicalAssessment:u}=USe(),d=(g,p)=>{o(v=>({...v,[g]:p}))},f=async g=>{var p;g.preventDefault(),console.log(" === STARTING ASSESSMENT SUBMISSION ==="),a(!0);try{if(await u(s)){if((p=s.weight)!=null&&p.trim()&&(l!=null&&l.id)){const x=new Date().toISOString();console.log(" Adding weight to progress chart..."),await c(parseFloat(s.weight),x)}o({weight:"",height:"",body_fat:"",muscle_mass:"",relaxed_right_arm:"",relaxed_left_arm:"",contracted_right_arm:"",contracted_left_arm:"",right_forearm:"",left_forearm:"",neck:"",shoulder:"",chest:"",waist:"",abdomen:"",hip:"",right_calf:"",left_calf:"",right_thigh:"",left_thigh:"",right_proximal_thigh:"",left_proximal_thigh:"",skinfold_protocol:"",tricipital:"",bicipital:"",subescapular:"",axilar_media:"",peitoral:"",abdominal:"",supra_iliaca:"",coxa:"",panturrilha_medial:""}),r(!1),e()}}catch(v){console.error(" Unexpected error in handleSubmit:",v),ke.error("Erro inesperado. Tente novamente.")}finally{a(!1)}},h={"3-dobras-guedes":["tricipital","subescapular","supra_iliaca"],"3-dobras-jackson-pollock":["peitoral","abdominal","coxa"],"4-dobras-durnin-womersley":["tricipital","bicipital","subescapular","supra_iliaca"],"4-dobras-faulkner":["tricipital","subescapular","supra_iliaca","abdominal"],"4-dobras-petroski":["tricipital","subescapular","supra_iliaca","panturrilha_medial"],"7-dobras-jackson-pollock-ward":["tricipital","subescapular","axilar_media","peitoral","abdominal","supra_iliaca","coxa"]},m={tricipital:"Face posterior do brao, no ponto mdio entre o acrmio e o olcrano. Pina vertical.",bicipital:"Face anterior do brao, no mesmo nvel da medida tricipital. Pina vertical.",subescapular:"Logo abaixo do ngulo inferior da escpula, em direo oblqua (45 com a coluna).",axilar_media:"Na linha axilar mdia, na altura do processo xifide do esterno. Pina oblqua.",peitoral:"No ponto mdio entre a linha axilar anterior e o mamilo (homens) ou 1/3 da dobra axilar (mulheres).",abdominal:"Aproximadamente 2 cm  direita da cicatriz umbilical. Pina vertical.",supra_iliaca:"Logo acima da crista ilaca, na linha axilar mdia. Pina oblqua.",coxa:"Face anterior da coxa, no ponto mdio entre a dobra inguinal e a borda superior da patela.",panturrilha_medial:"Face medial da perna, no ponto de maior permetro da panturrilha."};return i.jsx(HM,{children:i.jsxs(Qa,{open:t,onOpenChange:r,children:[i.jsx(uS,{asChild:!0,children:i.jsxs(K,{className:"w-full",children:[i.jsx(Li,{className:"w-4 h-4 mr-2"}),"Nova Avaliao"]})}),i.jsxs(xa,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(ba,{children:i.jsx(wa,{children:"Nova Avaliao Fsica"})}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs(Ir,{defaultOpen:!0,children:[i.jsx(Rr,{className:"w-full",children:i.jsx(V,{className:"hover:bg-accent/50 transition-colors cursor-pointer",children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cf,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-medium",children:"Peso"})]}),i.jsx(Dt,{className:"w-4 h-4"})]})})})}),i.jsx(Dr,{children:i.jsx(V,{children:i.jsx(re,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Peso"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em kg...",value:s.weight,onChange:g=>d("weight",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Altura"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.height,onChange:g=>d("height",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"% Gordura Corporal"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em %...",value:s.body_fat,onChange:g=>d("body_fat",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Massa Magra"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em kg...",value:s.muscle_mass,onChange:g=>d("muscle_mass",g.target.value)})]})]})})})})]}),i.jsxs(Ir,{children:[i.jsx(Rr,{className:"w-full",children:i.jsx(V,{className:"hover:bg-accent/50 transition-colors cursor-pointer",children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ms,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-medium",children:"Membros superiores"})]}),i.jsx(Dt,{className:"w-4 h-4"})]})})})}),i.jsx(Dr,{children:i.jsx(V,{children:i.jsx(re,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Brao relaxado direito"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.relaxed_right_arm,onChange:g=>d("relaxed_right_arm",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Brao relaxado esquerdo"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.relaxed_left_arm,onChange:g=>d("relaxed_left_arm",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Brao contrado direito"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.contracted_right_arm,onChange:g=>d("contracted_right_arm",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Brao contrado esquerdo"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.contracted_left_arm,onChange:g=>d("contracted_left_arm",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Antebrao direito"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.right_forearm,onChange:g=>d("right_forearm",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Antebrao esquerdo"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.left_forearm,onChange:g=>d("left_forearm",g.target.value)})]})]})})})})]}),i.jsxs(Ir,{children:[i.jsx(Rr,{className:"w-full",children:i.jsx(V,{className:"hover:bg-accent/50 transition-colors cursor-pointer",children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ms,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-medium",children:"Tronco"})]}),i.jsx(Dt,{className:"w-4 h-4"})]})})})}),i.jsx(Dr,{children:i.jsx(V,{children:i.jsx(re,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Pescoo"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.neck,onChange:g=>d("neck",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Ombro"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.shoulder,onChange:g=>d("shoulder",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Peitoral"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.chest,onChange:g=>d("chest",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Cintura"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.waist,onChange:g=>d("waist",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Abdmen"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.abdomen,onChange:g=>d("abdomen",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Quadril"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.hip,onChange:g=>d("hip",g.target.value)})]})]})})})})]}),i.jsxs(Ir,{children:[i.jsx(Rr,{className:"w-full",children:i.jsx(V,{className:"hover:bg-accent/50 transition-colors cursor-pointer",children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ms,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-medium",children:"Membros inferiores"})]}),i.jsx(Dt,{className:"w-4 h-4"})]})})})}),i.jsx(Dr,{children:i.jsx(V,{children:i.jsx(re,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Panturrilha direita"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.right_calf,onChange:g=>d("right_calf",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Panturrilha esquerda"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.left_calf,onChange:g=>d("left_calf",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Coxa direita"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.right_thigh,onChange:g=>d("right_thigh",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Coxa esquerda"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.left_thigh,onChange:g=>d("left_thigh",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Coxa proximal direita"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.right_proximal_thigh,onChange:g=>d("right_proximal_thigh",g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Coxa proximal esquerda"}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em cm...",value:s.left_proximal_thigh,onChange:g=>d("left_proximal_thigh",g.target.value)})]})]})})})})]}),i.jsxs(Ir,{children:[i.jsx(Rr,{className:"w-full",children:i.jsx(V,{className:"hover:bg-accent/50 transition-colors cursor-pointer",children:i.jsx(re,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ms,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-medium",children:"Dobras cutneas"})]}),i.jsx(Dt,{className:"w-4 h-4"})]})})})}),i.jsx(Dr,{children:i.jsx(V,{children:i.jsx(re,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(se,{children:"Selecione um protocolo"}),i.jsxs(Ka,{value:s.skinfold_protocol,onValueChange:g=>d("skinfold_protocol",g),children:[i.jsx(pa,{children:i.jsx(Ya,{placeholder:"Selecione um protocolo"})}),i.jsxs(ga,{children:[i.jsx(Ke,{value:"3-dobras-guedes",children:"3 Dobras - Guedes"}),i.jsx(Ke,{value:"3-dobras-jackson-pollock",children:"3 Dobras - Jackson & Pollock"}),i.jsx(Ke,{value:"4-dobras-durnin-womersley",children:"4 Dobras - Durnin & Womersley"}),i.jsx(Ke,{value:"4-dobras-faulkner",children:"4 Dobras - Faulkner"}),i.jsx(Ke,{value:"4-dobras-petroski",children:"4 Dobras - Petroski"}),i.jsx(Ke,{value:"7-dobras-jackson-pollock-ward",children:"7 Dobras - Jackson, Pollock & Ward"})]})]})]}),s.skinfold_protocol&&h[s.skinfold_protocol]&&i.jsxs("div",{className:"space-y-3 mt-4 p-3 bg-accent/20 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Medies do protocolo selecionado:"}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:h[s.skinfold_protocol].map(g=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(se,{className:"capitalize",children:g.replace(/_/g," ")}),i.jsxs(U9,{children:[i.jsx(W9,{asChild:!0,children:i.jsx(xz,{className:"w-3 h-3 text-muted-foreground cursor-help hover:text-foreground transition-colors"})}),i.jsx(GM,{side:"right",className:"max-w-xs",children:i.jsx("p",{className:"text-xs",children:m[g]})})]})]}),i.jsx(xe,{type:"number",step:"0.1",placeholder:"Digite em mm...",value:s[g],onChange:p=>d(g,p.target.value)})]},g))})]})]})})})})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancelar"}),i.jsx(K,{type:"submit",disabled:n,className:"flex-1",children:n?"Salvando...":"Salvar"})]})]})]})]})})},qSe=()=>{const e=Je(),{user:t}=Ze(),[r,n]=y.useState([]),[a,s]=y.useState(!0),[o,l]=y.useState(new Set),c=y.useCallback(async()=>{if(t!=null&&t.id)try{const{data:f,error:h}=await F.from("progress").select("*").eq("user_id",t.id).eq("type","physical_assessment").order("date",{ascending:!1});if(h)throw h;const m=(f||[]).reduce((g,p)=>{const v=p.date.split("T")[0];g[v]||(g[v]={id:v,date:v,created_at:p.created_at,basicMeasures:[],upperLimbs:[],torso:[],lowerLimbs:[],skinfolds:[],protocol:null});const x={type:p.type,value:p.value,unit:p.unit,notes:p.notes};return["weight","height","body_fat","muscle_mass"].includes(p.notes)?g[v].basicMeasures.push(x):p.notes.includes("Brao")||p.notes.includes("Antebrao")?g[v].upperLimbs.push(x):["Pescoo","Ombro","Peitoral","Cintura","Abdmen","Quadril"].includes(p.notes)?g[v].torso.push(x):p.notes.includes("Panturrilha")||p.notes.includes("Coxa")?g[v].lowerLimbs.push(x):p.notes.includes("Dobra")?g[v].skinfolds.push(x):p.notes.includes("Protocolo")&&(g[v].protocol=x),g},{});n(Object.values(m))}catch(f){console.error("Erro ao buscar avaliaes:",f),ke.error("Erro ao carregar avaliaes fsicas")}finally{s(!1)}},[t==null?void 0:t.id]);y.useEffect(()=>{c()},[c]);const u=r.filter(f=>f.basicMeasures.find(h=>h.notes==="weight")).map(f=>{const h=f.basicMeasures.find(m=>m.notes==="weight");return{date:new Date(f.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),weight:(h==null?void 0:h.value)||0}}).reverse(),d=f=>{l(h=>{const m=new Set(h);return m.has(f)?m.delete(f):m.add(f),m})};return r[0],i.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[i.jsx("div",{className:"p-4 pt-8 border-b border-border/30",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/?tab=profile"),className:"text-foreground",children:i.jsx(Ot,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Avaliaes Fsicas"}),i.jsx("span",{className:"ml-auto text-xs bg-warning/20 text-warning px-2 py-1 rounded-full font-medium",children:r.length})]})}),i.jsxs("div",{className:"p-4",children:[u.length>0&&i.jsxs(V,{className:"mb-6",children:[i.jsx(ft,{children:i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"w-5 h-5"}),"Evoluo do Peso"]})}),i.jsx(re,{children:i.jsx("div",{className:"h-64",children:i.jsx(wD,{width:"100%",height:"100%",children:i.jsxs(b0e,{data:u,children:[i.jsx(v3,{strokeDasharray:"3 3"}),i.jsx(Lu,{dataKey:"date"}),i.jsx(Fu,{}),i.jsx(Ea,{}),i.jsx(Mh,{type:"monotone",dataKey:"weight",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))"}})]})})})})]}),i.jsx(V,{className:"mb-4 bg-primary/10 border-primary/20",children:i.jsx(re,{className:"p-4",children:i.jsx("p",{className:"text-primary text-sm",children:"Suas mtricas esto sendo enviadas em tempo real ao seu professor."})})}),i.jsx("div",{className:"mb-6",children:i.jsx(WSe,{onAssessmentCreated:c})}),i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Histrico de Avaliaes"}),a?i.jsx(V,{children:i.jsx(re,{className:"p-8 text-center text-muted-foreground",children:"Carregando avaliaes..."})}):r.length===0?i.jsx(V,{children:i.jsxs(re,{className:"p-8 text-center",children:[i.jsx(hs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma avaliao fsica registrada."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Aguarde seu professor adicionar suas avaliaes."})]})}):i.jsx("div",{className:"space-y-4",children:r.map(f=>{const h=o.has(f.id),m=f.basicMeasures.reduce((g,p)=>(g[p.notes]=p,g),{});return i.jsx(V,{className:"overflow-hidden",children:i.jsxs(re,{className:"p-0",children:[i.jsxs("div",{className:"p-4 cursor-pointer hover:bg-accent/30 transition-colors border-b",onClick:()=>d(f.id),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ri,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-foreground",children:["Avaliao Fsica - ",new Date(f.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.basicMeasures.length+f.upperLimbs.length+f.torso.length+f.lowerLimbs.length+f.skinfolds.length," medidas registradas"]})]})]}),h?i.jsx(Dt,{className:"w-5 h-5 text-muted-foreground"}):i.jsx(sc,{className:"w-5 h-5 text-muted-foreground"})]}),!h&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[m.weight&&i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(cf,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Peso"})]}),i.jsxs("p",{className:"font-semibold text-foreground",children:[m.weight.value," ",m.weight.unit]})]}),m.body_fat&&i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(hs,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"% Gordura"})]}),i.jsxs("p",{className:"font-semibold text-foreground",children:[m.body_fat.value,m.body_fat.unit]})]}),m.muscle_mass&&i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Lo,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Massa Magra"})]}),i.jsxs("p",{className:"font-semibold text-foreground",children:[m.muscle_mass.value," ",m.muscle_mass.unit]})]}),m.height&&i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(ms,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Altura"})]}),i.jsxs("p",{className:"font-semibold text-foreground",children:[m.height.value," ",m.height.unit]})]})]})]}),h&&i.jsxs("div",{className:"p-4 space-y-4 bg-accent/10",children:[f.basicMeasures.length>0&&i.jsxs(Ir,{defaultOpen:!0,children:[i.jsxs(Rr,{className:"flex items-center gap-2 font-medium text-sm text-primary hover:text-primary/80",children:[i.jsx(cf,{className:"w-4 h-4"}),"Medidas Bsicas",i.jsx(Dt,{className:"w-4 h-4"})]}),i.jsx(Dr,{className:"mt-2",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.basicMeasures.map((g,p)=>i.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:g.notes==="weight"?"Peso":g.notes==="height"?"Altura":g.notes==="body_fat"?"% Gordura":g.notes==="muscle_mass"?"Massa Magra":g.notes}),i.jsxs("p",{className:"font-semibold",children:[g.value," ",g.unit]})]},p))})})]}),f.upperLimbs.length>0&&i.jsxs(Ir,{children:[i.jsxs(Rr,{className:"flex items-center gap-2 font-medium text-sm text-primary hover:text-primary/80",children:[i.jsx(ms,{className:"w-4 h-4"}),"Membros Superiores",i.jsx(Dt,{className:"w-4 h-4"})]}),i.jsx(Dr,{className:"mt-2",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.upperLimbs.map((g,p)=>i.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:g.notes}),i.jsxs("p",{className:"font-semibold",children:[g.value," ",g.unit]})]},p))})})]}),f.torso.length>0&&i.jsxs(Ir,{children:[i.jsxs(Rr,{className:"flex items-center gap-2 font-medium text-sm text-primary hover:text-primary/80",children:[i.jsx(hs,{className:"w-4 h-4"}),"Tronco",i.jsx(Dt,{className:"w-4 h-4"})]}),i.jsx(Dr,{className:"mt-2",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.torso.map((g,p)=>i.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:g.notes}),i.jsxs("p",{className:"font-semibold",children:[g.value," ",g.unit]})]},p))})})]}),f.lowerLimbs.length>0&&i.jsxs(Ir,{children:[i.jsxs(Rr,{className:"flex items-center gap-2 font-medium text-sm text-primary hover:text-primary/80",children:[i.jsx(Lo,{className:"w-4 h-4"}),"Membros Inferiores",i.jsx(Dt,{className:"w-4 h-4"})]}),i.jsx(Dr,{className:"mt-2",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.lowerLimbs.map((g,p)=>i.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:g.notes}),i.jsxs("p",{className:"font-semibold",children:[g.value," ",g.unit]})]},p))})})]}),(f.skinfolds.length>0||f.protocol)&&i.jsxs(Ir,{children:[i.jsxs(Rr,{className:"flex items-center gap-2 font-medium text-sm text-primary hover:text-primary/80",children:[i.jsx(ms,{className:"w-4 h-4"}),"Dobras Cutneas",i.jsx(Dt,{className:"w-4 h-4"})]}),i.jsxs(Dr,{className:"mt-2 space-y-3",children:[f.protocol&&i.jsxs("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/20",children:[i.jsx("p",{className:"text-xs text-primary font-medium",children:"Protocolo Utilizado"}),i.jsx("p",{className:"font-semibold",children:f.protocol.notes.replace("Protocolo: ","")})]}),f.skinfolds.length>0&&i.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.skinfolds.map((g,p)=>i.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:g.notes}),i.jsxs("p",{className:"font-semibold",children:[g.value," ",g.unit]})]},p))})]})]})]})]})},f.id)})})]})]})},VSe=()=>{const[e]=Hi(),t=e.get("email")||"",[r,n]=y.useState(!1),{toast:a}=At(),s=Je(),o=y.useMemo(()=>t,[t]);y.useEffect(()=>{document.title="Confirme seu email | Shape Pro"},[]);const l=async()=>{if(!o){a({title:"Informe um email vlido",description:"Volte e preencha o email para reenviar a confirmao.",variant:"destructive"});return}n(!0);const{error:c}=await F.auth.resend({type:"signup",email:o});if(n(!1),c){a({title:"Erro ao reenviar",description:c.message||"Tente novamente em instantes.",variant:"destructive"});return}a({title:"Email reenviado",description:"Verifique sua caixa de entrada e spam."})};return i.jsx("main",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(V,{className:"w-full max-w-md",children:[i.jsxs(ft,{children:[i.jsx(gt,{children:"Confirme seu email"}),i.jsxs(Xo,{children:["Enviamos um link de confirmao para ",o||"seu email",". Aps confirmar, volte e continue."]})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsx(K,{className:"w-full",onClick:l,disabled:r,children:r?"Reenviando...":"Reenviar email de confirmao"}),i.jsx(K,{variant:"secondary",className:"w-full",onClick:()=>s("/"),children:"Voltar para a Home"})]})]})})},HSe=()=>{const e=Je();return y.useEffect(()=>{document.title="Email confirmado | Shape Pro"},[]),i.jsx("main",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(V,{className:"w-full max-w-md text-center",children:[i.jsxs(ft,{children:[i.jsx("div",{className:"flex justify-center mb-2",children:i.jsx(Mi,{className:"h-12 w-12 text-primary"})}),i.jsx(gt,{children:"Email confirmado!"}),i.jsx(Xo,{children:"Sua conta foi verificada com sucesso. Voc j pode comear."})]}),i.jsx(re,{children:i.jsx(K,{className:"w-full",onClick:()=>e("/"),children:"Ir para Home"})})]})})};var Lh=e=>e.type==="checkbox",No=e=>e instanceof Date,$r=e=>e==null;const rF=e=>typeof e=="object";var Ft=e=>!$r(e)&&!Array.isArray(e)&&rF(e)&&!No(e),GSe=e=>Ft(e)&&e.target?Lh(e.target)?e.target.checked:e.target.value:e,KSe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YSe=(e,t)=>e.has(KSe(t)),XSe=e=>{const t=e.constructor&&e.constructor.prototype;return Ft(t)&&t.hasOwnProperty("isPrototypeOf")},PS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(PS&&(e instanceof Blob||n))&&(r||Ft(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!XSe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=sr(e[a]));else return e;return t}var Py=e=>/^\w*$/.test(e),qt=e=>e===void 0,CS=e=>Array.isArray(e)?e.filter(Boolean):[],OS=e=>CS(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ye=(e,t,r)=>{if(!t||!Ft(e))return r;const n=(Py(t)?[t]:OS(t)).reduce((a,s)=>$r(a)?a:a[s],e);return qt(n)||n===e?qt(e[t])?r:e[t]:n},Pa=e=>typeof e=="boolean",dt=(e,t,r)=>{let n=-1;const a=Py(t)?[t]:OS(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Ft(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const jO={BLUR:"blur",FOCUS_OUT:"focusout"},sa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},as={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZSe=$.createContext(null);ZSe.displayName="HookFormContext";var QSe=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==sa.all&&(t._proxyFormState[o]=!n||sa.all),e[o]}});return a};const JSe=typeof window<"u"?$.useLayoutEffect:$.useEffect;var La=e=>typeof e=="string",eNe=(e,t,r,n,a)=>La(e)?(n&&t.watch.add(e),ye(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),ye(r,s))):(n&&(t.watchAll=!0),r),m1=e=>$r(e)||!rF(e);function si(e,t,r=new WeakSet){if(m1(e)||m1(t))return e===t;if(No(e)&&No(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(No(o)&&No(l)||Ft(o)&&Ft(l)||Array.isArray(o)&&Array.isArray(l)?!si(o,l,r):o!==l)return!1}}return!0}var nF=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},zd=e=>Array.isArray(e)?e:[e],_O=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},Vr=e=>Ft(e)&&!Object.keys(e).length,AS=e=>e.type==="file",ia=e=>typeof e=="function",Mg=e=>{if(!PS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aF=e=>e.type==="select-multiple",TS=e=>e.type==="radio",tNe=e=>TS(e)||Lh(e),ib=e=>Mg(e)&&e.isConnected;function rNe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=qt(e)?n++:e[t[n++]];return e}function nNe(e){for(const t in e)if(e.hasOwnProperty(t)&&!qt(e[t]))return!1;return!0}function Bt(e,t){const r=Array.isArray(t)?t:Py(t)?[t]:OS(t),n=r.length===1?e:rNe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Ft(n)&&Vr(n)||Array.isArray(n)&&nNe(n))&&Bt(e,r.slice(0,-1)),e}var sF=e=>{for(const t in e)if(ia(e[t]))return!0;return!1};function Ig(e,t={}){const r=Array.isArray(e);if(Ft(e)||r)for(const n in e)Array.isArray(e[n])||Ft(e[n])&&!sF(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ig(e[n],t[n])):$r(e[n])||(t[n]=!0);return t}function iF(e,t,r){const n=Array.isArray(e);if(Ft(e)||n)for(const a in e)Array.isArray(e[a])||Ft(e[a])&&!sF(e[a])?qt(t)||m1(r[a])?r[a]=Array.isArray(e[a])?Ig(e[a],[]):{...Ig(e[a])}:iF(e[a],$r(t)?{}:t[a],r[a]):r[a]=!si(e[a],t[a]);return r}var fd=(e,t)=>iF(e,t,Ig(t));const SO={value:!1,isValid:!1},NO={value:!0,isValid:!0};var oF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qt(e[0].attributes.value)?qt(e[0].value)||e[0].value===""?NO:{value:e[0].value,isValid:!0}:NO:SO}return SO},lF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>qt(e)?e:t?e===""?NaN:e&&+e:r&&La(e)?new Date(e):n?n(e):e;const kO={isValid:!1,value:null};var cF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,kO):kO;function EO(e){const t=e.ref;return AS(t)?t.files:TS(t)?cF(e.refs).value:aF(t)?[...t.selectedOptions].map(({value:r})=>r):Lh(t)?oF(e.refs).value:lF(qt(t.value)?e.ref.value:t.value,e)}var aNe=(e,t,r,n)=>{const a={};for(const s of e){const o=ye(t,s);o&&dt(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Rg=e=>e instanceof RegExp,hd=e=>qt(e)?e:Rg(e)?e.source:Ft(e)?Rg(e.value)?e.value.source:e.value:e,PO=e=>({isOnSubmit:!e||e===sa.onSubmit,isOnBlur:e===sa.onBlur,isOnChange:e===sa.onChange,isOnAll:e===sa.all,isOnTouch:e===sa.onTouched});const CO="AsyncFunction";var sNe=e=>!!e&&!!e.validate&&!!(ia(e.validate)&&e.validate.constructor.name===CO||Ft(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===CO)),iNe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),OO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ud=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=ye(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ud(l,t))break}else if(Ft(l)&&Ud(l,t))break}}};function AO(e,t,r){const n=ye(e,r);if(n||Py(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=ye(t,s),l=ye(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var oNe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return Vr(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||sa.all))},lNe=(e,t,r)=>!e||!t||e===t||zd(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),cNe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,uNe=(e,t)=>!CS(ye(e,t)).length&&Bt(e,t),dNe=(e,t,r)=>{const n=zd(ye(e,r));return dt(n,"root",t[r]),dt(e,r,n),e},Zm=e=>La(e);function TO(e,t,r="validate"){if(Zm(e)||Array.isArray(e)&&e.every(Zm)||Pa(e)&&!e)return{type:r,message:Zm(e)?e:"",ref:t}}var $l=e=>Ft(e)&&!Rg(e)?e:{value:e,message:""},$O=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:x}=e._f,b=ye(r,p);if(!x||t.has(p))return{};const w=l?l[0]:o,j=P=>{a&&w.reportValidity&&(w.setCustomValidity(Pa(P)?"":P||""),w.reportValidity())},_={},S=TS(o),N=Lh(o),k=S||N,E=(v||AS(o))&&qt(o.value)&&qt(b)||Mg(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,O=nF.bind(null,p,n,_),C=(P,A,T,M=as.maxLength,I=as.minLength)=>{const B=P?A:T;_[p]={type:P?M:I,message:B,ref:o,...O(P?M:I,B)}};if(s?!Array.isArray(b)||!b.length:c&&(!k&&(E||$r(b))||Pa(b)&&!b||N&&!oF(l).isValid||S&&!cF(l).isValid)){const{value:P,message:A}=Zm(c)?{value:!!c,message:c}:$l(c);if(P&&(_[p]={type:as.required,message:A,ref:w,...O(as.required,A)},!n))return j(A),_}if(!E&&(!$r(f)||!$r(h))){let P,A;const T=$l(h),M=$l(f);if(!$r(b)&&!isNaN(b)){const I=o.valueAsNumber||b&&+b;$r(T.value)||(P=I>T.value),$r(M.value)||(A=I<M.value)}else{const I=o.valueAsDate||new Date(b),B=W=>new Date(new Date().toDateString()+" "+W),R=o.type=="time",L=o.type=="week";La(T.value)&&b&&(P=R?B(b)>B(T.value):L?b>T.value:I>new Date(T.value)),La(M.value)&&b&&(A=R?B(b)<B(M.value):L?b<M.value:I<new Date(M.value))}if((P||A)&&(C(!!P,T.message,M.message,as.max,as.min),!n))return j(_[p].message),_}if((u||d)&&!E&&(La(b)||s&&Array.isArray(b))){const P=$l(u),A=$l(d),T=!$r(P.value)&&b.length>+P.value,M=!$r(A.value)&&b.length<+A.value;if((T||M)&&(C(T,P.message,A.message),!n))return j(_[p].message),_}if(m&&!E&&La(b)){const{value:P,message:A}=$l(m);if(Rg(P)&&!b.match(P)&&(_[p]={type:as.pattern,message:A,ref:o,...O(as.pattern,A)},!n))return j(A),_}if(g){if(ia(g)){const P=await g(b,r),A=TO(P,w);if(A&&(_[p]={...A,...O(as.validate,A.message)},!n))return j(A.message),_}else if(Ft(g)){let P={};for(const A in g){if(!Vr(P)&&!n)break;const T=TO(await g[A](b,r),w,A);T&&(P={...T,...O(A,T.message)},j(T.message),n&&(_[p]=P))}if(!Vr(P)&&(_[p]={ref:w,...P},!n))return _}}return j(!0),_};const fNe={mode:sa.onSubmit,reValidateMode:sa.onChange,shouldFocusError:!0};function hNe(e={}){let t={...fNe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ia(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ft(t.defaultValues)||Ft(t.values)?sr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:sr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:_O(),state:_O()},m=t.criteriaMode===sa.all,g=D=>z=>{clearTimeout(u),u=setTimeout(D,z)},p=async D=>{if(!t.disabled&&(d.isValid||f.isValid||D)){const z=t.resolver?Vr((await N()).errors):await E(n,!0);z!==r.isValid&&h.state.next({isValid:z})}},v=(D,z)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((D||Array.from(l.mount)).forEach(H=>{H&&(z?dt(r.validatingFields,H,z):Bt(r.validatingFields,H))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Vr(r.validatingFields)}))},x=(D,z=[],H,le,ce=!0,ie=!0)=>{if(le&&H&&!t.disabled){if(o.action=!0,ie&&Array.isArray(ye(n,D))){const me=H(ye(n,D),le.argA,le.argB);ce&&dt(n,D,me)}if(ie&&Array.isArray(ye(r.errors,D))){const me=H(ye(r.errors,D),le.argA,le.argB);ce&&dt(r.errors,D,me),uNe(r.errors,D)}if((d.touchedFields||f.touchedFields)&&ie&&Array.isArray(ye(r.touchedFields,D))){const me=H(ye(r.touchedFields,D),le.argA,le.argB);ce&&dt(r.touchedFields,D,me)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=fd(a,s)),h.state.next({name:D,isDirty:C(D,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else dt(s,D,z)},b=(D,z)=>{dt(r.errors,D,z),h.state.next({errors:r.errors})},w=D=>{r.errors=D,h.state.next({errors:r.errors,isValid:!1})},j=(D,z,H,le)=>{const ce=ye(n,D);if(ce){const ie=ye(s,D,qt(H)?ye(a,D):H);qt(ie)||le&&le.defaultChecked||z?dt(s,D,z?ie:EO(ce._f)):T(D,ie),o.mount&&p()}},_=(D,z,H,le,ce)=>{let ie=!1,me=!1;const Ue={name:D};if(!t.disabled){if(!H||le){(d.isDirty||f.isDirty)&&(me=r.isDirty,r.isDirty=Ue.isDirty=C(),ie=me!==Ue.isDirty);const it=si(ye(a,D),z);me=!!ye(r.dirtyFields,D),it?Bt(r.dirtyFields,D):dt(r.dirtyFields,D,!0),Ue.dirtyFields=r.dirtyFields,ie=ie||(d.dirtyFields||f.dirtyFields)&&me!==!it}if(H){const it=ye(r.touchedFields,D);it||(dt(r.touchedFields,D,H),Ue.touchedFields=r.touchedFields,ie=ie||(d.touchedFields||f.touchedFields)&&it!==H)}ie&&ce&&h.state.next(Ue)}return ie?Ue:{}},S=(D,z,H,le)=>{const ce=ye(r.errors,D),ie=(d.isValid||f.isValid)&&Pa(z)&&r.isValid!==z;if(t.delayError&&H?(c=g(()=>b(D,H)),c(t.delayError)):(clearTimeout(u),c=null,H?dt(r.errors,D,H):Bt(r.errors,D)),(H?!si(ce,H):ce)||!Vr(le)||ie){const me={...le,...ie&&Pa(z)?{isValid:z}:{},errors:r.errors,name:D};r={...r,...me},h.state.next(me)}},N=async D=>{v(D,!0);const z=await t.resolver(s,t.context,aNe(D||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(D),z},k=async D=>{const{errors:z}=await N(D);if(D)for(const H of D){const le=ye(z,H);le?dt(r.errors,H,le):Bt(r.errors,H)}else r.errors=z;return z},E=async(D,z,H={valid:!0})=>{for(const le in D){const ce=D[le];if(ce){const{_f:ie,...me}=ce;if(ie){const Ue=l.array.has(ie.name),it=ce._f&&sNe(ce._f);it&&d.validatingFields&&v([le],!0);const qr=await $O(ce,l.disabled,s,m,t.shouldUseNativeValidation&&!z,Ue);if(it&&d.validatingFields&&v([le]),qr[ie.name]&&(H.valid=!1,z))break;!z&&(ye(qr,ie.name)?Ue?dNe(r.errors,qr,ie.name):dt(r.errors,ie.name,qr[ie.name]):Bt(r.errors,ie.name))}!Vr(me)&&await E(me,z,H)}}return H.valid},O=()=>{for(const D of l.unMount){const z=ye(n,D);z&&(z._f.refs?z._f.refs.every(H=>!ib(H)):!ib(z._f.ref))&&te(D)}l.unMount=new Set},C=(D,z)=>!t.disabled&&(D&&z&&dt(s,D,z),!si(W(),a)),P=(D,z,H)=>eNe(D,l,{...o.mount?s:qt(z)?a:La(D)?{[D]:z}:z},H,z),A=D=>CS(ye(o.mount?s:a,D,t.shouldUnregister?ye(a,D,[]):[])),T=(D,z,H={})=>{const le=ye(n,D);let ce=z;if(le){const ie=le._f;ie&&(!ie.disabled&&dt(s,D,lF(z,ie)),ce=Mg(ie.ref)&&$r(z)?"":z,aF(ie.ref)?[...ie.ref.options].forEach(me=>me.selected=ce.includes(me.value)):ie.refs?Lh(ie.ref)?ie.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(ce)?me.checked=!!ce.find(Ue=>Ue===me.value):me.checked=ce===me.value||!!ce)}):ie.refs.forEach(me=>me.checked=me.value===ce):AS(ie.ref)?ie.ref.value="":(ie.ref.value=ce,ie.ref.type||h.state.next({name:D,values:sr(s)})))}(H.shouldDirty||H.shouldTouch)&&_(D,ce,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&L(D)},M=(D,z,H)=>{for(const le in z){if(!z.hasOwnProperty(le))return;const ce=z[le],ie=D+"."+le,me=ye(n,ie);(l.array.has(D)||Ft(ce)||me&&!me._f)&&!No(ce)?M(ie,ce,H):T(ie,ce,H)}},I=(D,z,H={})=>{const le=ye(n,D),ce=l.array.has(D),ie=sr(z);dt(s,D,ie),ce?(h.array.next({name:D,values:sr(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&H.shouldDirty&&h.state.next({name:D,dirtyFields:fd(a,s),isDirty:C(D,ie)})):le&&!le._f&&!$r(ie)?M(D,ie,H):T(D,ie,H),OO(D,l)&&h.state.next({...r,name:D}),h.state.next({name:o.mount?D:void 0,values:sr(s)})},B=async D=>{o.mount=!0;const z=D.target;let H=z.name,le=!0;const ce=ye(n,H),ie=it=>{le=Number.isNaN(it)||No(it)&&isNaN(it.getTime())||si(it,ye(s,H,it))},me=PO(t.mode),Ue=PO(t.reValidateMode);if(ce){let it,qr;const es=z.type?EO(ce._f):GSe(D),ja=D.type===jO.BLUR||D.type===jO.FOCUS_OUT,Fh=!iNe(ce._f)&&!t.resolver&&!ye(r.errors,H)&&!ce._f.deps||cNe(ja,ye(r.touchedFields,H),r.isSubmitted,Ue,me),ro=OO(H,l,ja);dt(s,H,es),ja?(!z||!z.readOnly)&&(ce._f.onBlur&&ce._f.onBlur(D),c&&c(0)):ce._f.onChange&&ce._f.onChange(D);const _a=_(H,es,ja),Bh=!Vr(_a)||ro;if(!ja&&h.state.next({name:H,type:D.type,values:sr(s)}),Fh)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ja&&p():ja||p()),Bh&&h.state.next({name:H,...ro?{}:_a});if(!ja&&ro&&h.state.next({...r}),t.resolver){const{errors:ts}=await N([H]);if(ie(es),le){const Ay=AO(r.errors,n,H),zh=AO(ts,n,Ay.name||H);it=zh.error,H=zh.name,qr=Vr(ts)}}else v([H],!0),it=(await $O(ce,l.disabled,s,m,t.shouldUseNativeValidation))[H],v([H]),ie(es),le&&(it?qr=!1:(d.isValid||f.isValid)&&(qr=await E(n,!0)));le&&(ce._f.deps&&L(ce._f.deps),S(H,qr,it,_a))}},R=(D,z)=>{if(ye(r.errors,z)&&D.focus)return D.focus(),1},L=async(D,z={})=>{let H,le;const ce=zd(D);if(t.resolver){const ie=await k(qt(D)?D:ce);H=Vr(ie),le=D?!ce.some(me=>ye(ie,me)):H}else D?(le=(await Promise.all(ce.map(async ie=>{const me=ye(n,ie);return await E(me&&me._f?{[ie]:me}:me)}))).every(Boolean),!(!le&&!r.isValid)&&p()):le=H=await E(n);return h.state.next({...!La(D)||(d.isValid||f.isValid)&&H!==r.isValid?{}:{name:D},...t.resolver||!D?{isValid:H}:{},errors:r.errors}),z.shouldFocus&&!le&&Ud(n,R,D?ce:l.mount),le},W=D=>{const z={...o.mount?s:a};return qt(D)?z:La(D)?ye(z,D):D.map(H=>ye(z,H))},Z=(D,z)=>({invalid:!!ye((z||r).errors,D),isDirty:!!ye((z||r).dirtyFields,D),error:ye((z||r).errors,D),isValidating:!!ye(r.validatingFields,D),isTouched:!!ye((z||r).touchedFields,D)}),G=D=>{D&&zd(D).forEach(z=>Bt(r.errors,z)),h.state.next({errors:D?r.errors:{}})},ee=(D,z,H)=>{const le=(ye(n,D,{_f:{}})._f||{}).ref,ce=ye(r.errors,D)||{},{ref:ie,message:me,type:Ue,...it}=ce;dt(r.errors,D,{...it,...z,ref:le}),h.state.next({name:D,errors:r.errors,isValid:!1}),H&&H.shouldFocus&&le&&le.focus&&le.focus()},fe=(D,z)=>ia(D)?h.state.subscribe({next:H=>"values"in H&&D(P(void 0,z),H)}):P(D,z,!0),U=D=>h.state.subscribe({next:z=>{lNe(D.name,z.name,D.exact)&&oNe(z,D.formState||d,_t,D.reRenderRoot)&&D.callback({values:{...s},...r,...z,defaultValues:a})}}).unsubscribe,Ne=D=>(o.mount=!0,f={...f,...D.formState},U({...D,formState:f})),te=(D,z={})=>{for(const H of D?zd(D):l.mount)l.mount.delete(H),l.array.delete(H),z.keepValue||(Bt(n,H),Bt(s,H)),!z.keepError&&Bt(r.errors,H),!z.keepDirty&&Bt(r.dirtyFields,H),!z.keepTouched&&Bt(r.touchedFields,H),!z.keepIsValidating&&Bt(r.validatingFields,H),!t.shouldUnregister&&!z.keepDefaultValue&&Bt(a,H);h.state.next({values:sr(s)}),h.state.next({...r,...z.keepDirty?{isDirty:C()}:{}}),!z.keepIsValid&&p()},we=({disabled:D,name:z})=>{(Pa(D)&&o.mount||D||l.disabled.has(z))&&(D?l.disabled.add(z):l.disabled.delete(z))},Q=(D,z={})=>{let H=ye(n,D);const le=Pa(z.disabled)||Pa(t.disabled);return dt(n,D,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:D}},name:D,mount:!0,...z}}),l.mount.add(D),H?we({disabled:Pa(z.disabled)?z.disabled:t.disabled,name:D}):j(D,!0,z.value),{...le?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:hd(z.min),max:hd(z.max),minLength:hd(z.minLength),maxLength:hd(z.maxLength),pattern:hd(z.pattern)}:{},name:D,onChange:B,onBlur:B,ref:ce=>{if(ce){Q(D,z),H=ye(n,D);const ie=qt(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,me=tNe(ie),Ue=H._f.refs||[];if(me?Ue.find(it=>it===ie):ie===H._f.ref)return;dt(n,D,{_f:{...H._f,...me?{refs:[...Ue.filter(ib),ie,...Array.isArray(ye(a,D))?[{}]:[]],ref:{type:ie.type,name:D}}:{ref:ie}}}),j(D,!1,void 0,ie)}else H=ye(n,D,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(YSe(l.array,D)&&o.action)&&l.unMount.add(D)}}},ne=()=>t.shouldFocusError&&Ud(n,R,l.mount),de=D=>{Pa(D)&&(h.state.next({disabled:D}),Ud(n,(z,H)=>{const le=ye(n,H);le&&(z.disabled=le._f.disabled||D,Array.isArray(le._f.refs)&&le._f.refs.forEach(ce=>{ce.disabled=le._f.disabled||D}))},0,!1))},q=(D,z)=>async H=>{let le;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let ce=sr(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:me}=await N();r.errors=ie,ce=sr(me)}else await E(n);if(l.disabled.size)for(const ie of l.disabled)Bt(ce,ie);if(Bt(r.errors,"root"),Vr(r.errors)){h.state.next({errors:{}});try{await D(ce,H)}catch(ie){le=ie}}else z&&await z({...r.errors},H),ne(),setTimeout(ne);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(r.errors)&&!le,submitCount:r.submitCount+1,errors:r.errors}),le)throw le},Me=(D,z={})=>{ye(n,D)&&(qt(z.defaultValue)?I(D,sr(ye(a,D))):(I(D,z.defaultValue),dt(a,D,sr(z.defaultValue))),z.keepTouched||Bt(r.touchedFields,D),z.keepDirty||(Bt(r.dirtyFields,D),r.isDirty=z.defaultValue?C(D,sr(ye(a,D))):C()),z.keepError||(Bt(r.errors,D),d.isValid&&p()),h.state.next({...r}))},Pe=(D,z={})=>{const H=D?sr(D):a,le=sr(H),ce=Vr(D),ie=ce?a:le;if(z.keepDefaultValues||(a=H),!z.keepValues){if(z.keepDirtyValues){const me=new Set([...l.mount,...Object.keys(fd(a,s))]);for(const Ue of Array.from(me))ye(r.dirtyFields,Ue)?dt(ie,Ue,ye(s,Ue)):I(Ue,ye(ie,Ue))}else{if(PS&&qt(D))for(const me of l.mount){const Ue=ye(n,me);if(Ue&&Ue._f){const it=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(Mg(it)){const qr=it.closest("form");if(qr){qr.reset();break}}}}if(z.keepFieldsRef)for(const me of l.mount)I(me,ye(ie,me));else n={}}s=t.shouldUnregister?z.keepDefaultValues?sr(a):{}:sr(ie),h.array.next({values:{...ie}}),h.state.next({values:{...ie}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:ce?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!si(D,a)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ce?{}:z.keepDirtyValues?z.keepDefaultValues&&s?fd(a,s):r.dirtyFields:z.keepDefaultValues&&D?fd(a,D):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},et=(D,z)=>Pe(ia(D)?D(s):D,z),tt=(D,z={})=>{const H=ye(n,D),le=H&&H._f;if(le){const ce=le.refs?le.refs[0]:le.ref;ce.focus&&(ce.focus(),z.shouldSelect&&ia(ce.select)&&ce.select())}},_t=D=>{r={...r,...D}},vr={control:{register:Q,unregister:te,getFieldState:Z,handleSubmit:q,setError:ee,_subscribe:U,_runSchema:N,_focusError:ne,_getWatch:P,_getDirty:C,_setValid:p,_setFieldArray:x,_setDisabledField:we,_setErrors:w,_getFieldArray:A,_reset:Pe,_resetDefaultValues:()=>ia(t.defaultValues)&&t.defaultValues().then(D=>{et(D,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:de,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(D){o=D},get _defaultValues(){return a},get _names(){return l},set _names(D){l=D},get _formState(){return r},get _options(){return t},set _options(D){t={...t,...D}}},subscribe:Ne,trigger:L,register:Q,handleSubmit:q,watch:fe,setValue:I,getValues:W,reset:et,resetField:Me,clearErrors:G,unregister:te,setError:ee,setFocus:tt,getFieldState:Z};return{...vr,formControl:vr}}function mNe(e={}){const t=$.useRef(void 0),r=$.useRef(void 0),[n,a]=$.useState({isDirty:!1,isValidating:!1,isLoading:ia(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ia(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ia(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=hNe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,JSe(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),$.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),$.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),$.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),$.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),$.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),$.useEffect(()=>{e.values&&!si(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),$.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=QSe(n,s),t.current}const MO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ye(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},uF=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?MO(n.ref,r,e):n.refs&&n.refs.forEach(a=>MO(a,r,e))}},pNe=(e,t)=>{t.shouldUseNativeValidation&&uF(e,t);const r={};for(const n in e){const a=ye(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(gNe(t.names||Object.keys(e),n)){const o=Object.assign({},ye(r,n));dt(o,"root",s),dt(r,n,o)}else dt(r,n,s)}return r},gNe=(e,t)=>e.some(r=>r.startsWith(t+"."));var vNe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=nF(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},yNe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&uF({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:pNe(vNe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ye;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(Ye||(Ye={}));var IO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(IO||(IO={}));const be=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ei=e=>{switch(typeof e){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(e)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(e)?be.array:e===null?be.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?be.promise:typeof Map<"u"&&e instanceof Map?be.map:typeof Set<"u"&&e instanceof Set?be.set:typeof Date<"u"&&e instanceof Date?be.date:be.object;default:return be.unknown}},oe=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Is extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Is))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Is.create=e=>new Is(e);const p1=(e,t)=>{let r;switch(e.code){case oe.invalid_type:e.received===be.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case oe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ye.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ye.joinValues(e.keys,", ")}`;break;case oe.invalid_union:r="Invalid input";break;case oe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ye.joinValues(e.options)}`;break;case oe.invalid_enum_value:r=`Invalid enum value. Expected ${Ye.joinValues(e.options)}, received '${e.received}'`;break;case oe.invalid_arguments:r="Invalid function arguments";break;case oe.invalid_return_type:r="Invalid function return type";break;case oe.invalid_date:r="Invalid date";break;case oe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case oe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case oe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case oe.custom:r="Invalid input";break;case oe.invalid_intersection_types:r="Intersection results could not be merged";break;case oe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case oe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ye.assertNever(e)}return{message:r}};let xNe=p1;function bNe(){return xNe}const wNe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function he(e,t){const r=bNe(),n=wNe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===p1?void 0:p1].filter(a=>!!a)});e.common.issues.push(n)}class pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Oe;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return pn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Oe;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Oe=Object.freeze({status:"aborted"}),wd=e=>({status:"dirty",value:e}),Ln=e=>({status:"valid",value:e}),RO=e=>e.status==="aborted",DO=e=>e.status==="dirty",ou=e=>e.status==="valid",Dg=e=>typeof Promise<"u"&&e instanceof Promise;var je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(je||(je={}));class zi{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const LO=(e,t)=>{if(ou(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Is(e.common.issues);return this._error=r,this._error}}};function Le(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Ge{get description(){return this._def.description}_getType(t){return ei(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pn,ctx:{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Dg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},a=this._parseSync({data:t,path:n.path,parent:n});return LO(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return ou(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>ou(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(Dg(a)?a:Promise.resolve(a));return LO(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:oe.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new uu({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ai.create(this,this._def)}nullable(){return du.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qa.create(this)}promise(){return zg.create(this,this._def)}or(t){return Fg.create([this,t],this._def)}and(t){return Bg.create(this,t,this._def)}transform(t){return new uu({...Le(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new v1({...Le(this._def),innerType:this,defaultValue:r,typeName:Ae.ZodDefault})}brand(){return new qNe({typeName:Ae.ZodBranded,type:this,...Le(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new y1({...Le(this._def),innerType:this,catchValue:r,typeName:Ae.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return $S.create(this,t)}readonly(){return x1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jNe=/^c[^\s-]{8,}$/i,_Ne=/^[0-9a-z]+$/,SNe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,NNe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kNe=/^[a-z0-9_-]{21}$/i,ENe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PNe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CNe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ONe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ob;const ANe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$Ne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,INe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,RNe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",DNe=new RegExp(`^${dF}$`);function fF(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function LNe(e){return new RegExp(`^${fF(e)}$`)}function FNe(e){let t=`${dF}T${fF(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function BNe(e,t){return!!((t==="v4"||!t)&&ANe.test(e)||(t==="v6"||!t)&&$Ne.test(e))}function zNe(e,t){if(!ENe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function UNe(e,t){return!!((t==="v4"||!t)&&TNe.test(e)||(t==="v6"||!t)&&MNe.test(e))}class vi extends Ge{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==be.string){const s=this._getOrReturnCtx(t);return he(s,{code:oe.invalid_type,expected:be.string,received:s.parsedType}),Oe}const n=new pn;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?he(a,{code:oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&he(a,{code:oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")CNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"email",code:oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")ob||(ob=new RegExp(ONe,"u")),ob.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"emoji",code:oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")NNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"uuid",code:oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")kNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"nanoid",code:oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")jNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"cuid",code:oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")_Ne.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"cuid2",code:oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")SNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"ulid",code:oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),he(a,{validation:"url",code:oe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"regex",code:oe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),he(a,{code:oe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),he(a,{code:oe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),he(a,{code:oe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?FNe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{code:oe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?DNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{code:oe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?LNe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{code:oe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?PNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"duration",code:oe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?BNe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"ip",code:oe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?zNe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"jwt",code:oe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?UNe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"cidr",code:oe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?INe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"base64",code:oe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?RNe.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"base64url",code:oe.invalid_string,message:s.message}),n.dirty()):Ye.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:oe.invalid_string,...je.errToObj(n)})}_addCheck(t){return new vi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...je.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...je.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...je.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...je.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...je.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...je.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...je.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...je.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...je.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...je.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...je.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...je.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...je.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...je.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...je.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...je.errToObj(r)})}nonempty(t){return this.min(1,je.errToObj(t))}trim(){return new vi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vi.create=e=>new vi({checks:[],typeName:Ae.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Le(e)});function WNe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class lu extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==be.number){const s=this._getOrReturnCtx(t);return he(s,{code:oe.invalid_type,expected:be.number,received:s.parsedType}),Oe}let n;const a=new pn;for(const s of this._def.checks)s.kind==="int"?Ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:oe.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:oe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:oe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?WNe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),he(n,{code:oe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:oe.not_finite,message:s.message}),a.dirty()):Ye.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,je.toString(r))}gt(t,r){return this.setLimit("min",t,!1,je.toString(r))}lte(t,r){return this.setLimit("max",t,!0,je.toString(r))}lt(t,r){return this.setLimit("max",t,!1,je.toString(r))}setLimit(t,r,n,a){return new lu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:je.toString(a)}]})}_addCheck(t){return new lu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ye.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}lu.create=e=>new lu({checks:[],typeName:Ae.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class rh extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==be.bigint)return this._getInvalidInput(t);let n;const a=new pn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:oe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:oe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),he(n,{code:oe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):Ye.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return he(r,{code:oe.invalid_type,expected:be.bigint,received:r.parsedType}),Oe}gte(t,r){return this.setLimit("min",t,!0,je.toString(r))}gt(t,r){return this.setLimit("min",t,!1,je.toString(r))}lte(t,r){return this.setLimit("max",t,!0,je.toString(r))}lt(t,r){return this.setLimit("max",t,!1,je.toString(r))}setLimit(t,r,n,a){return new rh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:je.toString(a)}]})}_addCheck(t){return new rh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}rh.create=e=>new rh({checks:[],typeName:Ae.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Le(e)});class FO extends Ge{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==be.boolean){const n=this._getOrReturnCtx(t);return he(n,{code:oe.invalid_type,expected:be.boolean,received:n.parsedType}),Oe}return Ln(t.data)}}FO.create=e=>new FO({typeName:Ae.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class Lg extends Ge{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==be.date){const s=this._getOrReturnCtx(t);return he(s,{code:oe.invalid_type,expected:be.date,received:s.parsedType}),Oe}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return he(s,{code:oe.invalid_date}),Oe}const n=new pn;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:oe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:oe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ye.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:je.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:je.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Lg.create=e=>new Lg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ae.ZodDate,...Le(e)});class BO extends Ge{_parse(t){if(this._getType(t)!==be.symbol){const n=this._getOrReturnCtx(t);return he(n,{code:oe.invalid_type,expected:be.symbol,received:n.parsedType}),Oe}return Ln(t.data)}}BO.create=e=>new BO({typeName:Ae.ZodSymbol,...Le(e)});class zO extends Ge{_parse(t){if(this._getType(t)!==be.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:oe.invalid_type,expected:be.undefined,received:n.parsedType}),Oe}return Ln(t.data)}}zO.create=e=>new zO({typeName:Ae.ZodUndefined,...Le(e)});class UO extends Ge{_parse(t){if(this._getType(t)!==be.null){const n=this._getOrReturnCtx(t);return he(n,{code:oe.invalid_type,expected:be.null,received:n.parsedType}),Oe}return Ln(t.data)}}UO.create=e=>new UO({typeName:Ae.ZodNull,...Le(e)});class WO extends Ge{constructor(){super(...arguments),this._any=!0}_parse(t){return Ln(t.data)}}WO.create=e=>new WO({typeName:Ae.ZodAny,...Le(e)});class qO extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ln(t.data)}}qO.create=e=>new qO({typeName:Ae.ZodUnknown,...Le(e)});class Ui extends Ge{_parse(t){const r=this._getOrReturnCtx(t);return he(r,{code:oe.invalid_type,expected:be.never,received:r.parsedType}),Oe}}Ui.create=e=>new Ui({typeName:Ae.ZodNever,...Le(e)});class VO extends Ge{_parse(t){if(this._getType(t)!==be.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:oe.invalid_type,expected:be.void,received:n.parsedType}),Oe}return Ln(t.data)}}VO.create=e=>new VO({typeName:Ae.ZodVoid,...Le(e)});class qa extends Ge{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==be.array)return he(r,{code:oe.invalid_type,expected:be.array,received:r.parsedType}),Oe;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(he(r,{code:o?oe.too_big:oe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(he(r,{code:oe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(he(r,{code:oe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new zi(r,o,r.path,l)))).then(o=>pn.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new zi(r,o,r.path,l)));return pn.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new qa({...this._def,minLength:{value:t,message:je.toString(r)}})}max(t,r){return new qa({...this._def,maxLength:{value:t,message:je.toString(r)}})}length(t,r){return new qa({...this._def,exactLength:{value:t,message:je.toString(r)}})}nonempty(t){return this.min(1,t)}}qa.create=(e,t)=>new qa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...Le(t)});function Dl(e){if(e instanceof Ut){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ai.create(Dl(n))}return new Ut({...e._def,shape:()=>t})}else return e instanceof qa?new qa({...e._def,type:Dl(e.element)}):e instanceof Ai?Ai.create(Dl(e.unwrap())):e instanceof du?du.create(Dl(e.unwrap())):e instanceof ol?ol.create(e.items.map(t=>Dl(t))):e}class Ut extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ye.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==be.object){const u=this._getOrReturnCtx(t);return he(u,{code:oe.invalid_type,expected:be.object,received:u.parsedType}),Oe}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ui&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new zi(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ui){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(he(a,{code:oe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new zi(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>pn.mergeObjectSync(n,u)):pn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return je.errToObj,new Ut({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:je.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Ut({...this._def,unknownKeys:"strip"})}passthrough(){return new Ut({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ut({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ut({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ae.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ut({...this._def,catchall:t})}pick(t){const r={};for(const n of Ye.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ut({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ye.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Ut({...this._def,shape:()=>r})}deepPartial(){return Dl(this)}partial(t){const r={};for(const n of Ye.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Ut({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ye.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ai;)s=s._def.innerType;r[n]=s}return new Ut({...this._def,shape:()=>r})}keyof(){return hF(Ye.objectKeys(this.shape))}}Ut.create=(e,t)=>new Ut({shape:()=>e,unknownKeys:"strip",catchall:Ui.create(),typeName:Ae.ZodObject,...Le(t)});Ut.strictCreate=(e,t)=>new Ut({shape:()=>e,unknownKeys:"strict",catchall:Ui.create(),typeName:Ae.ZodObject,...Le(t)});Ut.lazycreate=(e,t)=>new Ut({shape:e,unknownKeys:"strip",catchall:Ui.create(),typeName:Ae.ZodObject,...Le(t)});class Fg extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Is(l.ctx.common.issues));return he(r,{code:oe.invalid_union,unionErrors:o}),Oe}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Is(c));return he(r,{code:oe.invalid_union,unionErrors:l}),Oe}}get options(){return this._def.options}}Fg.create=(e,t)=>new Fg({options:e,typeName:Ae.ZodUnion,...Le(t)});function g1(e,t){const r=ei(e),n=ei(t);if(e===t)return{valid:!0,data:e};if(r===be.object&&n===be.object){const a=Ye.objectKeys(t),s=Ye.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=g1(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===be.array&&n===be.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=g1(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===be.date&&n===be.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bg extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(RO(s)||RO(o))return Oe;const l=g1(s.value,o.value);return l.valid?((DO(s)||DO(o))&&r.dirty(),{status:r.value,value:l.data}):(he(n,{code:oe.invalid_intersection_types}),Oe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Bg.create=(e,t,r)=>new Bg({left:e,right:t,typeName:Ae.ZodIntersection,...Le(r)});class ol extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==be.array)return he(n,{code:oe.invalid_type,expected:be.array,received:n.parsedType}),Oe;if(n.data.length<this._def.items.length)return he(n,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&n.data.length>this._def.items.length&&(he(n,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new zi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>pn.mergeArray(r,o)):pn.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new ol({...this._def,rest:t})}}ol.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ol({items:e,typeName:Ae.ZodTuple,rest:null,...Le(t)})};class HO extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==be.map)return he(n,{code:oe.invalid_type,expected:be.map,received:n.parsedType}),Oe;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new zi(n,l,n.path,[u,"key"])),value:s._parse(new zi(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Oe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Oe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}HO.create=(e,t,r)=>new HO({valueType:t,keyType:e,typeName:Ae.ZodMap,...Le(r)});class nh extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==be.set)return he(n,{code:oe.invalid_type,expected:be.set,received:n.parsedType}),Oe;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(he(n,{code:oe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(he(n,{code:oe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Oe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new zi(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new nh({...this._def,minSize:{value:t,message:je.toString(r)}})}max(t,r){return new nh({...this._def,maxSize:{value:t,message:je.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}nh.create=(e,t)=>new nh({valueType:e,minSize:null,maxSize:null,typeName:Ae.ZodSet,...Le(t)});class GO extends Ge{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}GO.create=(e,t)=>new GO({getter:e,typeName:Ae.ZodLazy,...Le(t)});class KO extends Ge{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return he(r,{received:r.data,code:oe.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:t.data}}get value(){return this._def.value}}KO.create=(e,t)=>new KO({value:e,typeName:Ae.ZodLiteral,...Le(t)});function hF(e,t){return new cu({values:e,typeName:Ae.ZodEnum,...Le(t)})}class cu extends Ge{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{expected:Ye.joinValues(n),received:r.parsedType,code:oe.invalid_type}),Oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{received:r.data,code:oe.invalid_enum_value,options:n}),Oe}return Ln(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return cu.create(t,{...this._def,...r})}exclude(t,r=this._def){return cu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}cu.create=hF;class YO extends Ge{_parse(t){const r=Ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==be.string&&n.parsedType!==be.number){const a=Ye.objectValues(r);return he(n,{expected:Ye.joinValues(a),received:n.parsedType,code:oe.invalid_type}),Oe}if(this._cache||(this._cache=new Set(Ye.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Ye.objectValues(r);return he(n,{received:n.data,code:oe.invalid_enum_value,options:a}),Oe}return Ln(t.data)}get enum(){return this._def.values}}YO.create=(e,t)=>new YO({values:e,typeName:Ae.ZodNativeEnum,...Le(t)});class zg extends Ge{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==be.promise&&r.common.async===!1)return he(r,{code:oe.invalid_type,expected:be.promise,received:r.parsedType}),Oe;const n=r.parsedType===be.promise?r.data:Promise.resolve(r.data);return Ln(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}zg.create=(e,t)=>new zg({type:e,typeName:Ae.ZodPromise,...Le(t)});class uu extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{he(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Oe;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Oe:c.status==="dirty"||r.value==="dirty"?wd(c.value):c});{if(r.value==="aborted")return Oe;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Oe:l.status==="dirty"||r.value==="dirty"?wd(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Oe:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Oe:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ou(o))return Oe;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ou(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Oe);Ye.assertNever(a)}}uu.create=(e,t,r)=>new uu({schema:e,typeName:Ae.ZodEffects,effect:t,...Le(r)});uu.createWithPreprocess=(e,t,r)=>new uu({schema:t,effect:{type:"preprocess",transform:e},typeName:Ae.ZodEffects,...Le(r)});class Ai extends Ge{_parse(t){return this._getType(t)===be.undefined?Ln(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ai.create=(e,t)=>new Ai({innerType:e,typeName:Ae.ZodOptional,...Le(t)});class du extends Ge{_parse(t){return this._getType(t)===be.null?Ln(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}du.create=(e,t)=>new du({innerType:e,typeName:Ae.ZodNullable,...Le(t)});class v1 extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===be.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}v1.create=(e,t)=>new v1({innerType:e,typeName:Ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class y1 extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dg(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Is(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Is(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}y1.create=(e,t)=>new y1({innerType:e,typeName:Ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class XO extends Ge{_parse(t){if(this._getType(t)!==be.nan){const n=this._getOrReturnCtx(t);return he(n,{code:oe.invalid_type,expected:be.nan,received:n.parsedType}),Oe}return{status:"valid",value:t.data}}}XO.create=e=>new XO({typeName:Ae.ZodNaN,...Le(e)});class qNe extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class $S extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Oe:s.status==="dirty"?(r.dirty(),wd(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Oe:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new $S({in:t,out:r,typeName:Ae.ZodPipeline})}}class x1 extends Ge{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ou(a)&&(a.value=Object.freeze(a.value)),a);return Dg(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}x1.create=(e,t)=>new x1({innerType:e,typeName:Ae.ZodReadonly,...Le(t)});var Ae;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));const lb=vi.create,$m=lu.create;Ui.create;const VNe=qa.create,HNe=Ut.create;Fg.create;Bg.create;ol.create;cu.create;zg.create;Ai.create;du.create;const GNe=HNe({name:lb().min(2,"Nome deve ter pelo menos 2 caracteres"),email:lb().email("Email invlido"),weight:$m().optional(),height:$m().optional(),body_fat:$m().optional(),muscle_mass:$m().optional(),goals:VNe(lb()).optional()});function KNe(){var x,b,w;const{user:e,userProfile:t}=Yt(),{student:r,updateProfile:n}=xS(),[a,s]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState((t==null?void 0:t.avatar_url)||null),d=y.useRef(null),f=Je(),h=mNe({resolver:yNe(GNe),defaultValues:{name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",weight:(r==null?void 0:r.weight)||void 0,height:(r==null?void 0:r.height)||void 0,body_fat:(r==null?void 0:r.body_fat)||void 0,muscle_mass:(r==null?void 0:r.muscle_mass)||void 0,goals:(r==null?void 0:r.goals)||[]}}),m=()=>{var S;const j=[t==null?void 0:t.name,t==null?void 0:t.email,t==null?void 0:t.avatar_url,r==null?void 0:r.weight,r==null?void 0:r.height,(S=r==null?void 0:r.goals)==null?void 0:S.length],_=j.filter(Boolean).length;return Math.round(_/j.length*100)},g=async j=>{if(!(!j||!(e!=null&&e.id))){s(!0);try{const _=`${e.id}/avatar.jpg`,{error:S}=await F.storage.from("avatars").upload(_,j,{contentType:j.type,upsert:!0});if(S)throw S;const{data:N}=F.storage.from("avatars").getPublicUrl(_),k=N.publicUrl;await T0(e.id,{avatar_url:k}),u(k),ke.success("Foto de perfil atualizada!")}catch(_){console.error("Error uploading avatar:",_),ke.error("Erro ao atualizar foto de perfil")}finally{s(!1)}}},p=j=>{var S;const _=(S=j.target.files)==null?void 0:S[0];_&&g(_)},v=async j=>{if(e!=null&&e.id){l(!0);try{await T0(e.id,{name:j.name,email:j.email}),r&&await n({weight:j.weight,height:j.height,body_fat:j.body_fat,muscle_mass:j.muscle_mass,goals:j.goals||[],measurements_updated_at:new Date().toISOString()}),ke.success("Perfil atualizado com sucesso!"),f("/?tab=profile")}catch(_){console.error("Erro ao salvar perfil:",_),ke.error("Erro ao salvar alteraes")}finally{l(!1)}}};return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"p-4 pt-8 pb-24 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>f("/?tab=profile"),className:"p-2",children:i.jsx(Ot,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Cadastro Completo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete suas informaes pessoais"})]})]}),i.jsx(V,{className:"mb-6",children:i.jsxs(re,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Completude do Perfil"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[m(),"%"]})]}),i.jsx(nl,{value:m(),className:"h-2"})]})}),i.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-6",children:[i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(Tc,{className:"w-5 h-5"}),"Foto de Perfil"]})}),i.jsx(re,{className:"space-y-4",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(Bu,{className:"w-24 h-24",children:[i.jsx(zu,{src:c??void 0,alt:"Avatar"}),i.jsx(Uu,{className:"text-xl",children:((b=(x=t==null?void 0:t.name)==null?void 0:x.charAt(0))==null?void 0:b.toUpperCase())||"U"})]}),i.jsx(K,{type:"button",size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full w-9 h-9 p-0",onClick:()=>{var j;return(j=d.current)==null?void 0:j.click()},disabled:a,children:i.jsx(of,{className:"w-4 h-4"})})]}),i.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:p,className:"hidden"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Clique no cone da cmera para alterar sua foto"})]})})]}),i.jsxs(V,{children:[i.jsx(ft,{children:i.jsx(gt,{children:"Dados Pessoais"})}),i.jsx(re,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx(se,{htmlFor:"name",children:"Nome Completo"}),i.jsx(xe,{id:"name",...h.register("name"),placeholder:"Seu nome completo"}),h.formState.errors.name&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:h.formState.errors.name.message})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"email",children:"Email"}),i.jsx(xe,{id:"email",type:"email",...h.register("email"),placeholder:"seu@email.com"}),h.formState.errors.email&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:h.formState.errors.email.message})]})]})})]}),i.jsxs(V,{children:[i.jsx(ft,{children:i.jsx(gt,{children:"Medidas Corporais"})}),i.jsx(re,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(se,{htmlFor:"weight",children:"Peso (kg)"}),i.jsx(xe,{id:"weight",type:"number",step:"0.1",...h.register("weight",{valueAsNumber:!0}),placeholder:"70.5"})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"height",children:"Altura (cm)"}),i.jsx(xe,{id:"height",type:"number",step:"0.1",...h.register("height",{valueAsNumber:!0}),placeholder:"175"})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"body_fat",children:"% Gordura"}),i.jsx(xe,{id:"body_fat",type:"number",step:"0.1",...h.register("body_fat",{valueAsNumber:!0}),placeholder:"15.5"})]}),i.jsxs("div",{children:[i.jsx(se,{htmlFor:"muscle_mass",children:"Massa Muscular (kg)"}),i.jsx(xe,{id:"muscle_mass",type:"number",step:"0.1",...h.register("muscle_mass",{valueAsNumber:!0}),placeholder:"45.2"})]})]})})]}),i.jsxs(V,{children:[i.jsx(ft,{children:i.jsx(gt,{children:"Objetivos"})}),i.jsx(re,{children:i.jsxs("div",{children:[i.jsx(se,{htmlFor:"goals",children:"Seus Objetivos"}),i.jsx(Zr,{id:"goals",placeholder:"Descreva seus objetivos fitness (ex: perder peso, ganhar massa muscular, melhorar condicionamento...)",className:"mt-1",value:((w=r==null?void 0:r.goals)==null?void 0:w.join(", "))||"",onChange:j=>{const _=j.target.value.split(",").map(S=>S.trim()).filter(Boolean);h.setValue("goals",_)}})]})})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:()=>f("/?tab=profile"),className:"flex-1",children:"Cancelar"}),i.jsxs(K,{type:"submit",disabled:o,className:"flex-1",children:[i.jsx(Cz,{className:"w-4 h-4 mr-2"}),o?"Salvando...":"Salvar Alteraes"]})]})]})]})})}const YNe=()=>{const{user:e}=Yt(),[t,r]=y.useState([]),[n,a]=y.useState(0),[s,o]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{const d=async()=>{try{const[{data:h,error:m},{data:g,error:p}]=await Promise.all([F.from("rewards_items").select("id,title,description,points_cost,image_url").eq("is_active",!0).order("created_at",{ascending:!1}),F.from("user_points").select("total_points").eq("user_id",(e==null?void 0:e.id)??"").maybeSingle()]);if(m)throw m;if(p)throw p;r(h||[]),a((g==null?void 0:g.total_points)??0)}catch(h){console.error(h),ke.error("Erro ao carregar loja de recompensas")}finally{o(!1)}},f=()=>{if(!(e!=null&&e.id))return;const h=F.channel("user_points_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_points",filter:`user_id=eq.${e.id}`},g=>{g.new&&typeof g.new=="object"&&"total_points"in g.new&&a(g.new.total_points)}).subscribe(),m=F.channel("rewards_changes").on("postgres_changes",{event:"*",schema:"public",table:"rewards_items"},()=>{d()}).subscribe();return()=>{h.unsubscribe(),m.unsubscribe()}};if(e!=null&&e.id)return d(),f()},[e==null?void 0:e.id]);const u=async d=>{if(e!=null&&e.id){c(d);try{const{error:f}=await F.rpc("redeem_reward",{_reward_id:d});if(f)throw f;ke.success("Resgate solicitado com sucesso!")}catch(f){const h=(f==null?void 0:f.message)||"Erro ao resgatar";ke.error(h)}finally{c(null)}}};return i.jsxs("div",{className:"p-4 pt-8 pb-24",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Recompensas"}),i.jsx("p",{className:"text-muted-foreground",children:"Troque seus pontos por prmios incrveis"})]}),i.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl border border-border/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Seus Pontos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Disponveis para troca"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nr,{className:"w-5 h-5 text-primary"}),i.jsx("span",{className:"text-2xl font-bold text-foreground",children:n})]})]})}),s?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando recompensas..."})]})}):t.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md mx-auto",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-full flex items-center justify-center",children:i.jsx(ik,{className:"w-8 h-8 text-primary"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Nenhuma recompensa disponvel"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Continue acumulando pontos! Novas recompensas em breve."})]})]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Recompensas Disponveis"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(d=>{const f=n>=d.points_cost,h=l===d.id;return i.jsxs("div",{className:"bg-card/60 backdrop-blur-sm border border-border/50 rounded-2xl p-4 transition-all duration-300 hover:shadow-lg hover:shadow-primary/10 hover:border-primary/30",children:[d.image_url&&i.jsx("div",{className:"mb-4 rounded-xl overflow-hidden bg-muted/30 aspect-video",children:i.jsx("img",{src:d.image_url,alt:d.title,className:"w-full h-full object-cover",loading:"lazy"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-foreground text-base leading-tight break-words",children:d.title}),d.description&&i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed break-words",children:d.description}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs("span",{className:"text-lg font-bold text-primary",children:[d.points_cost," pts"]}),i.jsx(K,{onClick:()=>u(d.id),disabled:!f||h,variant:f?"default":"outline",size:"sm",className:"flex items-center gap-2",children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Resgatando..."]}):f?i.jsxs(i.Fragment,{children:[i.jsx(ik,{className:"w-4 h-4"}),"Resgatar"]}):"Insuficiente"})]})]})]},d.id)})})]})]})},XNe=()=>{const e=Je();return i.jsx(lc,{children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("header",{className:"flex items-center gap-3 p-4 border-b border-border bg-card",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/?tab=profile"),className:"h-10 w-10",children:i.jsx(Ot,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Loja de Recompensas"})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:i.jsx(YNe,{})})]})})},ZNe=e=>{const{userProfile:t}=Ze(),[r,n]=y.useState(null),[a,s]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(null),[d,f]=y.useState(!1),[h,m]=y.useState("connecting"),g=y.useRef(null),p=y.useRef(),v=y.useRef([]),x=y.useRef(new Set),b=y.useRef(),w=y.useCallback(async(E=0)=>{if(!(!e||!t))try{if(u(null),t.user_type==="student"){const{data:C,error:P}=await F.from("students").select("teacher_id").eq("user_id",e).single();if(P||!(C!=null&&C.teacher_id))throw new Error("Professor no encontrado");const A=`${C.teacher_id}-${e}`;let{data:T,error:M}=await F.from("conversations").select("*").eq("id",A).maybeSingle();if(M)throw M;if(!T){const{data:I,error:B}=await F.from("conversations").insert({id:A,student_id:e,teacher_id:C.teacher_id,is_active:!0}).select().single();if(B)throw B;T=I}n(T),m("connected")}else u("Interface do professor em desenvolvimento")}catch(O){if(console.error(`Erro ao criar/buscar conversao (tentativa ${E+1}):`,O),E<3){const C=Math.pow(2,E)*1e3;p.current=setTimeout(()=>{w(E+1)},C),f(!0),m("connecting")}else u(O instanceof Error?O.message:"Erro de conexo"),m("disconnected"),ke.error("Erro ao conectar. Tentando reconectar...")}finally{E===0&&(l(!1),f(!1))}},[e,t]),j=y.useCallback(E=>{const O=F.channel(`chat:${E}`).on("postgres_changes",{event:"*",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${E}`},P=>{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{if(console.log("Nova mensagem:",P),P.eventType==="INSERT"){const A=P.new;if(x.current.has(A.id)){console.log("Mensagem j existe, ignorando duplicao:",A.id);return}s(T=>{const M=T.findIndex(B=>B.status==="sending"&&B.message===A.message&&B.sender_id===A.sender_id&&Math.abs(new Date(B.created_at||0).getTime()-new Date(A.created_at||0).getTime())<1e4);let I=[...T];return M>=0?I[M]={...A,status:"sent"}:I.some(R=>R.id===A.id)||I.push({...A,status:"sent"}),x.current.add(A.id),I.sort((B,R)=>new Date(B.created_at||0).getTime()-new Date(R.created_at||0).getTime())}),v.current=v.current.map(T=>T.status==="sending"&&T.message===A.message&&T.sender_id===A.sender_id?{...A,status:"sent"}:T)}},100)}).subscribe(P=>{console.log("Canal status:",P),m(P==="SUBSCRIBED"?"connected":"connecting")});g.current=O;const C=async(P=0)=>{try{const{data:A,error:T}=await F.from("chat_messages").select("*").eq("conversation_id",E).order("created_at",{ascending:!0});if(T)throw T;const M=(A||[]).map(I=>({...I,status:"sent"}));x.current.clear(),M.forEach(I=>x.current.add(I.id)),s(M),v.current=M}catch(A){console.error(`Erro ao buscar mensagens (tentativa ${P+1}):`,A),P<2?setTimeout(()=>C(P+1),2e3):ke.error("Erro ao carregar mensagens")}};return C(),()=>{g.current&&(F.removeChannel(g.current),g.current=null)}},[]),_=y.useCallback(async E=>{if(!r||!e)return;const O=`local_${Date.now()}_${Math.random()}`,C={id:O,local_id:O,conversation_id:r.id,sender_id:e,message:E,message_type:"text",sender_type:(t==null?void 0:t.user_type)||"student",created_at:new Date().toISOString(),status:"sending"};if(a.find(T=>T.message===E&&T.sender_id===e&&(T.status==="sending"||T.status==="sent")&&Math.abs(new Date(T.created_at||0).getTime()-Date.now())<2e3)){console.log("Mensagem similar j existe, ignorando");return}s(T=>[...T,C]),v.current=[...v.current,C];const A=async(T=0)=>{try{const{data:M,error:I}=await F.from("chat_messages").insert({conversation_id:r.id,sender_id:e,message:E,message_type:"text",sender_type:(t==null?void 0:t.user_type)||"student"}).select().single();if(I)throw I;await F.from("conversations").update({last_message:E,last_message_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",r.id)}catch(M){console.error(`Erro ao enviar mensagem (tentativa ${T+1}):`,M),T<2?(setTimeout(()=>A(T+1),2e3),s(I=>I.map(B=>B.local_id===O?{...B,status:"sending"}:B))):(s(I=>I.map(B=>B.local_id===O?{...B,status:"failed"}:B)),ke.error("Falha ao enviar mensagem. Toque para tentar novamente."))}};await A()},[r,e,t]),S=y.useCallback(E=>{const O=a.find(C=>C.local_id===E);O&&O.status==="failed"&&(s(C=>C.filter(P=>P.local_id!==E)),_(O.message))},[a,_]),N=y.useCallback(async()=>{if(r!=null&&r.id)try{const{error:E}=await F.rpc("mark_conversation_messages_as_read",{p_conversation_id:r.id,p_user_id:e});if(E)throw E}catch(E){console.error("Error marking messages as read:",E)}},[r==null?void 0:r.id,e]),k=y.useCallback(async E=>{if(r!=null&&r.id)try{const{error:O}=await F.from("chat_messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",E).neq("sender_id",e);if(O)throw O;s(C=>C.map(P=>P.id===E&&P.sender_id!==e?{...P,is_read:!0,read_at:new Date().toISOString()}:P))}catch(O){console.error("Error marking message as read:",O)}},[r==null?void 0:r.id,e]);return y.useEffect(()=>{w()},[w]),y.useEffect(()=>{if(r)return j(r.id)},[r,j]),y.useEffect(()=>()=>{p.current&&clearTimeout(p.current),b.current&&clearTimeout(b.current),g.current&&F.removeChannel(g.current)},[]),{conversation:r,messages:a,loading:o,error:c,reconnecting:d,connectionStatus:h,sendMessage:_,retryMessage:S,markAsRead:N,markMessageAsRead:k}},QNe=e=>{const{user:t}=Ze(),[r,n]=y.useState([]),[a,s]=y.useState([]),o=y.useRef(),l=y.useRef(),c=y.useRef(),u=y.useCallback(()=>{!c.current||!t||c.current.track({user_id:t.id,online_at:new Date().toISOString(),last_heartbeat:new Date().toISOString(),typing:!1})},[t]),d=y.useCallback(f=>{!c.current||!t||(f?(c.current.track({user_id:t.id,typing:!0,online_at:new Date().toISOString(),last_heartbeat:new Date().toISOString()}),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{d(!1)},3e3)):c.current.track({user_id:t.id,typing:!1,online_at:new Date().toISOString(),last_heartbeat:new Date().toISOString()}))},[t]);return y.useEffect(()=>{if(!t||!e)return;const f=F.channel(`presence:${e}`).on("presence",{event:"sync"},()=>{const h=f.presenceState(),m=Object.values(h).flat(),g=new Date,p=new Date(g.getTime()-3e4),v=m.filter(b=>!b.last_heartbeat||!b.user_id?!1:new Date(b.last_heartbeat)>p).map(b=>b.user_id).filter(b=>b!==t.id),x=m.filter(b=>b.typing&&b.user_id&&b.user_id!==t.id).map(b=>b.user_id);n(v),s(x)}).on("presence",{event:"join"},({newPresences:h})=>{const m=h.filter(g=>g.user_id&&g.user_id!==t.id).map(g=>g.user_id);n(g=>[...new Set([...g,...m])])}).on("presence",{event:"leave"},({leftPresences:h})=>{const m=h.map(g=>g.user_id).filter(Boolean);n(g=>g.filter(p=>!m.includes(p))),s(g=>g.filter(p=>!m.includes(p)))}).subscribe(async h=>{h==="SUBSCRIBED"&&(await f.track({user_id:t.id,online_at:new Date().toISOString(),last_heartbeat:new Date().toISOString(),typing:!1}),o.current=setInterval(u,15e3))});return c.current=f,()=>{o.current&&clearInterval(o.current),l.current&&clearTimeout(l.current),F.removeChannel(f),c.current=null}},[t,e,u]),{onlineUsers:r,typingUsers:a,sendTypingIndicator:d}},JNe=()=>{const[e,t]=y.useState("connecting"),[r,n]=y.useState(navigator.onLine);return y.useEffect(()=>{const a=async()=>{try{const{error:c}=await F.from("profiles").select("id").limit(1);if(c)throw c;t("connected")}catch(c){console.error("Connection check failed:",c),t("disconnected")}};a();const s=setInterval(a,3e4),o=()=>{n(!0),t("connecting"),a()},l=()=>{n(!1),t("disconnected")};return window.addEventListener("online",o),window.addEventListener("offline",l),()=>{clearInterval(s),window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[]),{status:e,isOnline:r}};function eke(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var MS="ScrollArea",[mF,kEe]=Ur(MS),[tke,Fn]=mF(MS),pF=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState(null),[x,b]=y.useState(0),[w,j]=y.useState(0),[_,S]=y.useState(!1),[N,k]=y.useState(!1),E=De(t,C=>c(C)),O=kv(a);return i.jsx(tke,{scope:r,type:n,dir:O,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:j,children:i.jsx(_e.div,{dir:O,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});pF.displayName=MS;var gF="ScrollAreaViewport",vF=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=Fn(gF,r),l=y.useRef(null),c=De(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});vF.displayName=gF;var Ja="ScrollAreaScrollbar",IS=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Fn(Ja,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(rke,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(nke,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(yF,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(RS,{...n,ref:t}):null});IS.displayName=Ja;var rke=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Fn(Ja,e.__scopeScrollArea),[s,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Wr,{present:r||s,children:i.jsx(yF,{"data-state":s?"visible":"hidden",...n,ref:t})})}),nke=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Fn(Ja,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Oy(()=>c("SCROLL_END"),100),[l,c]=eke("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(Wr,{present:r||l!=="hidden",children:i.jsx(RS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),yF=y.forwardRef((e,t)=>{const r=Fn(Ja,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=y.useState(!1),l=e.orientation==="horizontal",c=Oy(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return fu(r.viewport,c),fu(r.content,c),i.jsx(Wr,{present:n||s,children:i.jsx(RS,{"data-state":s?"visible":"hidden",...a,ref:t})})}),RS=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Fn(Ja,e.__scopeScrollArea),s=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_F(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return cke(h,o.current,l,m)}return r==="horizontal"?i.jsx(ake,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=ZO(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(ske,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=ZO(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),ake=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Fn(Ja,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=De(t,c,s.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(bF,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),NF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wg(o.paddingLeft),paddingEnd:Wg(o.paddingRight)}})}})}),ske=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Fn(Ja,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=De(t,c,s.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(bF,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cy(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),NF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wg(o.paddingTop),paddingEnd:Wg(o.paddingBottom)}})}})}),[ike,xF]=mF(Ja),bF=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Fn(Ja,r),[g,p]=y.useState(null),v=De(t,E=>p(E)),x=y.useRef(null),b=y.useRef(""),w=m.viewport,j=n.content-n.viewport,_=Ht(d),S=Ht(c),N=Oy(f,10);function k(E){if(x.current){const O=E.clientX-x.current.left,C=E.clientY-x.current.top;u({x:O,y:C})}}return y.useEffect(()=>{const E=O=>{const C=O.target;(g==null?void 0:g.contains(C))&&_(O,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,g,j,_]),y.useEffect(S,[n,S]),fu(g,N),fu(m.content,N),i.jsx(ike,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Ht(s),onThumbPointerUp:Ht(o),onThumbPositionChange:S,onThumbPointerDown:Ht(l),children:i.jsx(_e.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:ge(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:ge(e.onPointerMove,k),onPointerUp:ge(e.onPointerUp,E=>{const O=E.target;O.hasPointerCapture(E.pointerId)&&O.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Ug="ScrollAreaThumb",wF=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=xF(Ug,e.__scopeScrollArea);return i.jsx(Wr,{present:r||a.hasThumb,children:i.jsx(oke,{ref:t,...n})})}),oke=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Fn(Ug,r),o=xF(Ug,r),{onThumbPositionChange:l}=o,c=De(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=Oy(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=uke(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(_e.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ge(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:ge(e.onPointerUp,o.onThumbPointerUp)})});wF.displayName=Ug;var DS="ScrollAreaCorner",jF=y.forwardRef((e,t)=>{const r=Fn(DS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(lke,{...e,ref:t}):null});jF.displayName=DS;var lke=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Fn(DS,r),[s,o]=y.useState(0),[l,c]=y.useState(0),u=!!(s&&l);return fu(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),fu(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(_e.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wg(e){return e?parseInt(e,10):0}function _F(e,t){const r=e/t;return isNaN(r)?0:r}function Cy(e){const t=_F(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function cke(e,t,r,n="ltr"){const a=Cy(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return SF([c,u],f)(e)}function ZO(e,t,r="ltr"){const n=Cy(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=l1(e,c);return SF([0,o],[0,l])(u)}function SF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function NF(e,t){return e>0&&e<t}var uke=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Oy(e,t){const r=Ht(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function fu(e,t){const r=Ht(t);It(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var kF=pF,dke=vF,fke=jF;const EF=y.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(kF,{ref:n,className:Se("relative overflow-hidden",e),...r,children:[i.jsx(dke,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(PF,{}),i.jsx(fke,{})]}));EF.displayName=kF.displayName;const PF=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(IS,{ref:n,orientation:t,className:Se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(wF,{className:"relative flex-1 rounded-full bg-border"})}));PF.displayName=IS.displayName;const hke={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},mke=(e,t,r)=>{let n;const a=hke[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},pke={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},gke={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vke={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yke={date:mc({formats:pke,defaultWidth:"full"}),time:mc({formats:gke,defaultWidth:"full"}),dateTime:mc({formats:vke,defaultWidth:"full"})},xke={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},bke=(e,t,r,n)=>{const a=xke[e];return typeof a=="function"?a(t):a},wke={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},jke={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},_ke={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ske={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Nke={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},kke={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Eke=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},Pke={ordinalNumber:Eke,era:Ma({values:wke,defaultWidth:"wide"}),quarter:Ma({values:jke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ma({values:_ke,defaultWidth:"wide"}),day:Ma({values:Ske,defaultWidth:"wide"}),dayPeriod:Ma({values:Nke,defaultWidth:"wide",formattingValues:kke,defaultFormattingWidth:"wide"})},Cke=/^(\d+)[o]?/i,Oke=/\d+/i,Ake={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Tke={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},$ke={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Mke={any:[/1/i,/2/i,/3/i,/4/i]},Ike={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Rke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Dke={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Lke={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Fke={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Bke={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},zke={ordinalNumber:J5({matchPattern:Cke,parsePattern:Oke,valueCallback:e=>parseInt(e,10)}),era:Ia({matchPatterns:Ake,defaultMatchWidth:"wide",parsePatterns:Tke,defaultParseWidth:"any"}),quarter:Ia({matchPatterns:$ke,defaultMatchWidth:"wide",parsePatterns:Mke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ia({matchPatterns:Ike,defaultMatchWidth:"wide",parsePatterns:Rke,defaultParseWidth:"any"}),day:Ia({matchPatterns:Dke,defaultMatchWidth:"wide",parsePatterns:Lke,defaultParseWidth:"any"}),dayPeriod:Ia({matchPatterns:Fke,defaultMatchWidth:"any",parsePatterns:Bke,defaultParseWidth:"any"})},CF={code:"pt-BR",formatDistance:mke,formatLong:yke,formatRelative:bke,localize:Pke,match:zke,options:{weekStartsOn:0,firstWeekContainsDate:1}},Uke=({message:e,isOwn:t,showAvatar:r=!0,onRetry:n,onVisible:a})=>{const s=u=>u?il(new Date(u),"HH:mm",{locale:CF}):"",o=()=>{if(!t)return null;switch(e.status){case"sending":return i.jsx(tn,{size:14,className:"text-muted-foreground animate-pulse"});case"failed":return i.jsx(oz,{size:14,className:"text-destructive"});case"sent":default:return e.is_read&&e.read_at?i.jsx(ak,{size:14,className:"text-primary"}):e.delivered_at?i.jsx(ak,{size:14,className:"text-muted-foreground"}):e.created_at?i.jsx(bo,{size:14,className:"text-muted-foreground"}):i.jsx(tn,{size:14,className:"text-muted-foreground animate-pulse"})}},l=()=>{const u=`px-4 py-3 rounded-2xl ${t?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`;return e.status==="failed"?`${u} border-2 border-destructive/20`:u},c=y.useRef(null);return y.useEffect(()=>{if(!t&&!e.is_read&&a&&c.current){const u=new IntersectionObserver(d=>{d.forEach(f=>{f.isIntersecting&&(a(e.id),u.unobserve(f.target))})},{threshold:.5});return u.observe(c.current),()=>u.disconnect()}},[t,e.is_read,e.id,a]),i.jsxs("div",{ref:c,className:`flex gap-3 ${t?"flex-row-reverse":"flex-row"}`,children:[r&&!t&&i.jsxs(Bu,{className:"w-8 h-8 flex-shrink-0",children:[i.jsx(zu,{src:""}),i.jsx(Uu,{className:"bg-primary text-primary-foreground text-xs font-bold",children:e.sender_type==="teacher"?"P":"A"})]}),!r&&!t&&i.jsx("div",{className:"w-8"}),i.jsxs("div",{className:`flex flex-col max-w-[80%] ${t?"items-end":"items-start"}`,children:[i.jsxs("div",{className:l(),children:[i.jsx("p",{className:"text-sm leading-relaxed break-words",children:e.message}),e.status==="failed"&&t&&n&&i.jsx("div",{className:"mt-2 pt-2 border-t border-primary-foreground/20",children:i.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>n(e.local_id||e.id),className:"h-auto p-1 text-xs text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:[i.jsx(Pz,{size:12,className:"mr-1"}),"Tentar novamente"]})})]}),i.jsxs("div",{className:`flex items-center gap-1 mt-1 ${t?"flex-row-reverse":"flex-row"}`,children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:s(e.created_at)}),o(),e.status==="failed"&&i.jsx("span",{className:"text-xs text-destructive font-medium",children:"Falha no envio"})]})]})]})},b1=({status:e,isReconnecting:t=!1,className:r=""})=>{const a=(()=>{switch(e){case"connected":return{icon:Bz,text:"Conectado",color:"text-success",bgColor:"bg-success/10 border-success/20"};case"connecting":return{icon:i0,text:t?"Reconectando...":"Conectando...",color:"text-warning",bgColor:"bg-warning/10 border-warning/20",animate:!0};case"disconnected":return{icon:Fz,text:"Desconectado",color:"text-destructive",bgColor:"bg-destructive/10 border-destructive/20"}}})(),s=a.icon;return i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full border ${a.bgColor} ${r}`,children:[i.jsx(s,{size:14,className:`${a.color} ${a.animate?"animate-spin":""}`}),i.jsx("span",{className:`text-xs font-medium ${a.color}`,children:a.text})]})},Wke=({messages:e,currentUserId:t,connectionStatus:r,isReconnecting:n=!1,onMessagesRead:a,onRetryMessage:s,onMessageVisible:o})=>{const l=y.useRef(null),c=y.useRef(null);y.useEffect(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})},[e]),y.useEffect(()=>{const h=setTimeout(()=>{a==null||a()},1e3);return()=>clearTimeout(h)},[e,a]);const u=h=>{const m=new Date(h);return ISe(m)?"Hoje":DSe(m)?"Ontem":il(m,"dd/MM/yyyy",{locale:CF})},f=(h=>{const m={};return h.forEach(g=>{if(!g.created_at)return;const p=il(new Date(g.created_at),"yyyy-MM-dd");m[p]||(m[p]=[]),m[p].push(g)}),m})(e);return e.length===0?i.jsxs("div",{className:"flex-1 flex flex-col",children:[r!=="connected"&&i.jsx("div",{className:"flex justify-center p-2 border-b border-border",children:i.jsx(b1,{status:r,isReconnecting:n})}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma mensagem ainda"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Comece uma conversa!"})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col relative",children:[r!=="connected"&&i.jsx("div",{className:"flex justify-center p-2 border-b border-border bg-muted/50",children:i.jsx(b1,{status:r,isReconnecting:n})}),i.jsx(EF,{ref:l,className:"flex-1 px-4",children:i.jsxs("div",{className:"space-y-4 py-4",children:[Object.entries(f).map(([h,m])=>i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-center my-6",children:i.jsx("div",{className:"bg-muted px-3 py-1 rounded-full",children:i.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:u(m[0].created_at)})})}),i.jsx("div",{className:"space-y-3",children:m.map((g,p)=>{var v;return i.jsx(Uke,{message:g,isOwn:g.sender_id===t,showAvatar:p===0||((v=m[p-1])==null?void 0:v.sender_id)!==g.sender_id,onRetry:s,onVisible:o},`${g.id}-${g.created_at}`)})})]},h)),i.jsx("div",{ref:c})]})})]})},qke=({onSendMessage:e,onTyping:t,disabled:r=!1,connectionStatus:n="connected"})=>{const[a,s]=y.useState(""),[o,l]=y.useState(!1),c=y.useRef(null),u=y.useRef(),d=()=>{!a.trim()||r||n==="disconnected"||(e(a.trim()),s(""),m(),c.current&&(c.current.style.height="auto"))},f=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),d())},h=()=>{o||(l(!0),t==null||t(!0)),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{m()},3e3)},m=()=>{o&&(l(!1),t==null||t(!1)),u.current&&clearTimeout(u.current)},g=p=>{s(p.target.value),p.target.value.trim()?h():m();const v=p.target;v.style.height="auto",v.style.height=`${Math.min(v.scrollHeight,120)}px`};return y.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),i.jsx("div",{className:"border-t border-border bg-card p-4",children:i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx(K,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground flex-shrink-0",disabled:r,children:i.jsx(Nz,{size:20})}),i.jsx("div",{className:"flex-1 relative",children:i.jsx(Zr,{ref:c,value:a,onChange:g,onKeyPress:f,placeholder:r?"Conectando...":n==="disconnected"?"Sem conexo...":n==="connecting"?"Reconectando...":"Digite sua mensagem...",disabled:r||n==="disconnected",className:"min-h-[44px] max-h-[120px] resize-none pr-12 py-3",rows:1})}),i.jsx(K,{onClick:d,disabled:!a.trim()||r||n==="disconnected",size:"icon",className:"bg-primary hover:bg-primary/90 text-primary-foreground flex-shrink-0 disabled:opacity-50",children:i.jsx(_j,{size:20})})]})})},Vke=({conversation:e,onlineUsers:t,typingUsers:r,connectionStatus:n,isReconnecting:a=!1})=>{const s=Je(),{userProfile:o}=Ze(),[l,c]=y.useState("Professor"),u=(o==null?void 0:o.user_type)==="student",d=u?l:"Aluno",f=u?e==null?void 0:e.teacher_id:e==null?void 0:e.student_id;y.useEffect(()=>{const v=async()=>{if(e!=null&&e.teacher_id)try{const{data:x,error:b}=await F.rpc("get_teacher_name",{teacher_id_param:e.teacher_id});x&&!b&&c(x)}catch(x){console.error("Erro ao buscar nome do professor:",x)}};u&&(e!=null&&e.teacher_id)&&v()},[e==null?void 0:e.teacher_id,u]);const h=f?t.includes(f):!1,m=f?r.includes(f):!1,g=()=>m?"digitando...":h?"online":"offline",p=()=>m?"text-primary":h?"text-success":"text-muted-foreground";return i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s("/"),className:"text-foreground hover:bg-muted",children:i.jsx(Ot,{size:20})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(Bu,{className:"w-10 h-10",children:[i.jsx(zu,{src:""}),i.jsx(Uu,{className:"bg-primary text-primary-foreground font-bold",children:d.charAt(0)})]}),h&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-success border-2 border-card rounded-full"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:d}),i.jsx("p",{className:`text-xs ${p()}`,children:g()})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[n!=="connected"&&i.jsx(b1,{status:n,isReconnecting:a,className:"mr-2"}),u&&n==="connected"&&i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full border ${h?"border-success/20 bg-success/10":"border-muted"}`,children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-success animate-pulse":"bg-muted-foreground"}`}),i.jsx("span",{className:`text-xs font-medium ${m?"text-primary":h?"text-success":"text-muted-foreground"}`,children:g()})]}),i.jsx(K,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:i.jsx(fz,{size:18})})]})]})};function Hke(){const{user:e,userProfile:t}=Ze(),[r,n]=y.useState(!1);VL(),JNe();const{conversation:a,messages:s,loading:o,error:l,reconnecting:c,connectionStatus:u,sendMessage:d,retryMessage:f,markAsRead:h,markMessageAsRead:m}=ZNe(e==null?void 0:e.id),{onlineUsers:g,typingUsers:p,sendTypingIndicator:v}=QNe((a==null?void 0:a.id)||"");y.useEffect(()=>{a&&s.length>0&&h()},[a,s,h]);const x=async w=>{if(w.trim())try{await d(w),n(!1)}catch(j){console.error("Erro ao enviar mensagem:",j)}},b=w=>{n(w),a&&v(w)};return o?i.jsx(lc,{children:i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx(gr,{className:"h-8 w-8 animate-spin text-primary"})})}):l?i.jsx(lc,{children:i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-2",children:"Erro ao carregar chat"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:l})]})})}):i.jsx(lc,{children:i.jsxs("div",{className:"flex flex-col h-screen",children:[i.jsx(Vke,{conversation:a,onlineUsers:g,typingUsers:p,connectionStatus:u,isReconnecting:c}),i.jsx(Wke,{messages:s,currentUserId:e==null?void 0:e.id,connectionStatus:u,isReconnecting:c,onMessagesRead:h,onRetryMessage:f,onMessageVisible:m}),i.jsx(qke,{onSendMessage:x,onTyping:b,disabled:!a,connectionStatus:u})]})})}const Gke=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState("all"),[o,l]=y.useState(!1),c=async()=>{if(!e.trim()||!r.trim()){ke.error("Ttulo e mensagem so obrigatrios");return}l(!0);try{const{data:f,error:h}=await F.functions.invoke("send-push-notification",{body:{title:e.trim(),message:r.trim(),target_users:a==="all"?void 0:[],data:{type:"teacher_announcement",timestamp:new Date().toISOString()}}});if(h)throw h;ke.success(`Notificao enviada para ${f.recipients||"todos os"} usurios!`),t(""),n("")}catch(f){console.error("Erro ao enviar notificao:",f),ke.error("Erro ao enviar notificao. Verifique se o OneSignal est configurado.")}finally{l(!1)}},u=[{title:"Nova Aula Disponvel",message:"Uma nova aula foi adicionada ao seu curso. Confira agora!",icon:i.jsx(Io,{className:"h-4 w-4"}),type:"new_lesson"},{title:"Lembrete de Treino",message:"No esquea do seu treino de hoje. Vamos alcanar seus objetivos!",icon:i.jsx(rr,{className:"h-4 w-4"}),type:"workout_reminder"},{title:"Parabns pelo Progresso!",message:"Voc est no caminho certo! Continue assim.",icon:i.jsx(Mi,{className:"h-4 w-4"}),type:"progress_congratulations"},{title:"Lembrete de Nutrio",message:"Lembre-se de registrar suas refeies de hoje.",icon:i.jsx(Io,{className:"h-4 w-4"}),type:"nutrition_reminder"},{title:"Agendamento Confirmado",message:"Sua consulta de amanh foi confirmada. Te esperamos!",icon:i.jsx(Mi,{className:"h-4 w-4"}),type:"appointment_confirmed"}],d=f=>{t(f.title),n(f.message)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(V,{children:[i.jsx(ft,{children:i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(Io,{className:"h-5 w-5"}),"Enviar Notificao Push"]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Ttulo"}),i.jsx(xe,{value:e,onChange:f=>t(f.target.value),placeholder:"Ex: Nova aula disponvel",maxLength:200}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.length,"/200 caracteres"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mensagem"}),i.jsx(Zr,{value:r,onChange:f=>n(f.target.value),placeholder:"Escreva sua mensagem aqui...",rows:4,maxLength:1e3}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r.length,"/1000 caracteres"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Destinatrios"}),i.jsxs(Ka,{value:a,onValueChange:f=>s(f),children:[i.jsx(pa,{children:i.jsx(Ya,{})}),i.jsxs(ga,{children:[i.jsx(Ke,{value:"all",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ei,{className:"h-4 w-4"}),"Todos os alunos"]})}),i.jsx(Ke,{value:"specific",disabled:!0,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ei,{className:"h-4 w-4"}),"Alunos especficos (em breve)"]})})]})]})]}),i.jsxs(K,{onClick:c,disabled:o||!e.trim()||!r.trim(),className:"w-full",children:[i.jsx(_j,{className:"h-4 w-4 mr-2"}),o?"Enviando...":"Enviar Notificao"]})]})]}),i.jsxs(V,{children:[i.jsx(ft,{children:i.jsx(gt,{children:"Templates Rpidos"})}),i.jsx(re,{children:i.jsx("div",{className:"grid gap-3",children:u.map((f,h)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>d(f),children:[i.jsx("div",{className:"mt-0.5 text-primary",children:f.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-sm",children:f.title}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.message})]}),i.jsx(Qe,{variant:"outline",className:"text-xs",children:"Usar"})]},h))})})]})]})},Kke=()=>{const{user:e}=Yt(),[t,r]=y.useState({hasPlayerId:!1,loading:!0}),n=async()=>{if(e!=null&&e.id){r(s=>({...s,loading:!0}));try{const s=await OG(e.id);r({hasPlayerId:s.hasPlayerId,playerId:s.playerId,loading:!1})}catch(s){console.error("Error checking Player ID status:",s),r(o=>({...o,loading:!1}))}}},a=async()=>{if(e!=null&&e.id)try{if(window.OneSignal){const s=await window.OneSignal.User.PushSubscription.id;if(s){const{error:o}=await F.from("profiles").update({onesignal_player_id:s}).eq("id",e.id);o?ke.error("Erro ao sincronizar Player ID"):(ke.success("Player ID sincronizado com sucesso!"),n())}else ke.error("OneSignal Player ID no encontrado")}else ke.error("OneSignal no inicializado")}catch(s){console.error("Error forcing sync:",s),ke.error("Erro ao forar sincronizao")}};return y.useEffect(()=>{n()},[e]),e?i.jsxs(V,{className:"w-full max-w-md",children:[i.jsxs(ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(gt,{className:"text-sm font-medium",children:"Status OneSignal"}),i.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(re,{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.loading?i.jsx(i0,{className:"h-4 w-4 animate-spin"}):t.hasPlayerId?i.jsx(Mi,{className:"h-4 w-4 text-green-500"}):i.jsx(jj,{className:"h-4 w-4 text-red-500"}),i.jsx(Qe,{variant:t.hasPlayerId?"default":"destructive",children:t.loading?"Verificando...":t.hasPlayerId?"Sincronizado":"No Sincronizado"})]}),t.playerId&&i.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Player ID: ",t.playerId.substring(0,8),"..."]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:n,disabled:t.loading,children:[i.jsx(i0,{className:`h-3 w-3 mr-1 ${t.loading?"animate-spin":""}`}),"Verificar"]}),i.jsx(K,{variant:"outline",size:"sm",onClick:a,disabled:t.loading,children:"Forar Sync"})]})]})]}):null},Yke=()=>i.jsx("div",{className:"space-y-4",children:i.jsxs(V,{className:"w-full",children:[i.jsxs(ft,{children:[i.jsxs(gt,{className:"flex items-center gap-2",children:[i.jsx(Io,{className:"h-5 w-5"}),"Status das Notificaes Push"]}),i.jsx(Xo,{children:"Sistema OneSignal configurado e monitoramento em tempo real"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsx("div",{className:"mb-4",children:i.jsx(Kke,{})}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mi,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"font-medium text-green-800",children:"Sistema Configurado"})]}),i.jsx(Qe,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Operacional"})]}),i.jsxs("div",{className:"grid gap-3",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Componentes Implementados:"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Az,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm",children:"Dashboard Professor"})]}),i.jsx(Qe,{variant:"outline",className:"text-green-600 border-green-200",children:" Ativo"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pz,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm",children:"Web Push Notifications"})]}),i.jsx(Qe,{variant:"outline",className:"text-green-600 border-green-200",children:" Configurado"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mz,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm",children:"Mobile Push (iOS/Android)"})]}),i.jsx(Qe,{variant:"outline",className:"text-green-600 border-green-200",children:" Pronto para Produo"})]})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Sistema Completo:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Player ID automtico com retry e verificao"}),i.jsx("li",{children:" Edge Function com targeting inteligente"}),i.jsx("li",{children:" Dashboard com 6 tipos de notificao"}),i.jsx("li",{children:" Sincronizao robusta com banco de dados"}),i.jsx("li",{children:" Logs detalhados para debugging"})]})]}),i.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[i.jsx("strong",{children:"6 templates"})," de notificao prontos para uso no dashboard"]})]})]})}),Xke=()=>{const e=Je();return i.jsx(lc,{children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("header",{className:"flex items-center gap-3 p-4 border-b border-border bg-card",children:[i.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e("/?tab=profile"),className:"h-10 w-10",children:i.jsx(Ot,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Dashboard Professor"})]}),i.jsxs("div",{className:"flex-1 overflow-auto",children:[i.jsx(Gke,{}),i.jsx("div",{className:"mt-6",children:i.jsx(Yke,{})})]})]})})},Zke=new pq,Qke=()=>i.jsx(vq,{client:Zke,children:i.jsxs(HM,{children:[i.jsx(SU,{}),i.jsx(rW,{}),i.jsx(fV,{children:i.jsx(fG,{children:i.jsx(pG,{children:i.jsxs(gG,{children:[i.jsx($G,{}),i.jsxs(lV,{children:[i.jsx(lt,{path:"/",element:i.jsx(sje,{})}),i.jsx(lt,{path:"/cadastro-completo",element:i.jsx(Or,{children:i.jsx(KNe,{})})}),i.jsx(lt,{path:"/anamnese",element:i.jsx(Or,{children:i.jsx(e_e,{})})}),i.jsx(lt,{path:"/exames-medicos",element:i.jsx(Or,{children:i.jsx(FSe,{})})}),i.jsx(lt,{path:"/fotos-progresso",element:i.jsx(Or,{children:i.jsx(zSe,{})})}),i.jsx(lt,{path:"/avaliacoes-fisicas",element:i.jsx(Or,{children:i.jsx(qSe,{})})}),i.jsx(lt,{path:"/configuracoes",element:i.jsx(Or,{children:i.jsx(i_e,{})})}),i.jsx(lt,{path:"/conta-seguranca",element:i.jsx(Or,{children:i.jsx(o_e,{})})}),i.jsx(lt,{path:"/assinaturas-planos",element:i.jsx(Or,{children:i.jsx(c_e,{})})}),i.jsx(lt,{path:"/politica-privacidade",element:i.jsx(u_e,{})}),i.jsx(lt,{path:"/iniciar-treino",element:i.jsx(Or,{children:i.jsx(d_e,{})})}),i.jsx(lt,{path:"/registrar-refeicao",element:i.jsx(Or,{children:i.jsx(h_e,{})})}),i.jsx(lt,{path:"/agenda",element:i.jsx(Or,{children:i.jsx(w_e,{})})}),i.jsx(lt,{path:"/metas",element:i.jsx(Or,{children:i.jsx(k_e,{})})}),i.jsx(lt,{path:"/recompensas",element:i.jsx(Or,{children:i.jsx(XNe,{})})}),i.jsx(lt,{path:"/chat",element:i.jsx(Or,{children:i.jsx(Hke,{})})}),i.jsx(lt,{path:"/dashboard-professor",element:i.jsx(Or,{children:i.jsx(Xke,{})})}),i.jsx(lt,{path:"/auth/confirm",element:i.jsx(cje,{})}),i.jsx(lt,{path:"/auth/recovery",element:i.jsx(uje,{})}),i.jsx(lt,{path:"/auth/invite",element:i.jsx(dje,{})}),i.jsx(lt,{path:"/auth/magic-link",element:i.jsx(fje,{})}),i.jsx(lt,{path:"/auth/change-email",element:i.jsx(hje,{})}),i.jsx(lt,{path:"/auth/error",element:i.jsx(mje,{})}),i.jsx(lt,{path:"/auth/verify",element:i.jsx(VSe,{})}),i.jsx(lt,{path:"/auth/verified",element:i.jsx(HSe,{})}),i.jsx(lt,{path:"/reset-password",element:i.jsx(E_e,{})}),i.jsx(lt,{path:"*",element:i.jsx(ije,{})})]})]})})})})]})}),Jke=Su("SplashScreen",{web:()=>fl(()=>import("./web-VXRX0j-k.js"),[]).then(e=>new e.SplashScreenWeb)});var w1;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(w1||(w1={}));var QO;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(QO||(QO={}));const cb=Su("StatusBar");var JO;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(JO||(JO={}));var eA;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(eA||(eA={}));const tA=Su("Keyboard"),Ml=Su("PushNotifications",{}),eEe=()=>{y.useEffect(()=>{if(!xf.isNativePlatform()){console.log("[NativeIntegration] Running on web platform");return}e()},[]);const e=async()=>{try{console.log("[NativeIntegration] Initializing native features..."),await t(),await r(),await n(),await a(),console.log("[NativeIntegration] All native features initialized successfully")}catch(s){console.error("[NativeIntegration] Error initializing native features:",s)}},t=async()=>{try{await cb.setStyle({style:w1.Dark}),await cb.setBackgroundColor({color:"#000000"}),await cb.show(),console.log("[NativeIntegration] Status bar configured")}catch(s){console.error("[NativeIntegration] Error configuring status bar:",s)}},r=async()=>{try{tA.addListener("keyboardWillShow",()=>{document.body.classList.add("keyboard-open")}),tA.addListener("keyboardWillHide",()=>{document.body.classList.remove("keyboard-open")}),console.log("[NativeIntegration] Keyboard listeners configured")}catch(s){console.error("[NativeIntegration] Error configuring keyboard:",s)}},n=async()=>{try{await Jke.hide(),console.log("[NativeIntegration] Splash screen hidden")}catch(s){console.error("[NativeIntegration] Error hiding splash screen:",s)}},a=async()=>{try{(await Ml.requestPermissions()).receive==="granted"?(await Ml.register(),Ml.addListener("registration",o=>{console.log("[NativeIntegration] Push registration token:",o.value)}),Ml.addListener("registrationError",o=>{console.error("[NativeIntegration] Push registration error:",o)}),Ml.addListener("pushNotificationReceived",o=>{console.log("[NativeIntegration] Push notification received:",o)}),Ml.addListener("pushNotificationActionPerformed",o=>{console.log("[NativeIntegration] Push notification action performed:",o)}),console.log("[NativeIntegration] Push notifications initialized")):console.log("[NativeIntegration] Push notification permission denied")}catch(s){console.error("[NativeIntegration] Error initializing push notifications:",s)}};return null};S$(document.getElementById("root")).render(i.jsxs(y.StrictMode,{children:[i.jsx(eEe,{}),i.jsx(Qke,{})]}));export{sR as W};
