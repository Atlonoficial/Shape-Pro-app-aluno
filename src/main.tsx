import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.tsx'
import { logger } from '@/utils/logger'

logger.log('[main.tsx] ðŸš€ App starting...');
logger.log('[main.tsx] Environment:', {
  isDev: import.meta.env.DEV,
  mode: import.meta.env.MODE,
  platform: (window as any).Capacitor?.getPlatform()
});

// Detectar quando DOM estÃ¡ pronto
document.addEventListener('DOMContentLoaded', () => {
  logger.log('[main.tsx] âœ… DOM ready');
});

// Detectar quando Capacitor estÃ¡ pronto
if ((window as any).Capacitor) {
  document.addEventListener('deviceready', () => {
    logger.log('[main.tsx] âœ… Capacitor device ready');
  });
}

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
);

logger.log('[main.tsx] âœ… React render called');
